import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { DxDataGridComponent } from 'devextreme-angular';
import CustomStore from 'devextreme/data/custom_store';
import { exportDataGrid as exportDataGridToPdf } from 'devextreme/pdf_exporter';
import * as jsPDF from 'jspdf';
import * as moment from 'moment';
import { GridListService } from './grid-list.service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../../@core/services/auth.service";
import * as i3 from "../../@core/services/local.service";
import * as i4 from "@angular/common";
import * as i5 from "devextreme-angular";
import * as i6 from "devextreme-angular/ui/nested";
import * as i7 from "devextreme-angular/core";
import * as i8 from "@angular/material/tooltip";
import * as i9 from "../../@core/directives/permission.directive";
import * as i10 from "../../@core/directives/show-field.directives";
export class GridListComponent {
    router;
    auth;
    localstorage;
    dataGrid;
    dataList;
    dataSource;
    columns;
    updateGrid;
    totalCount;
    page;
    isShow;
    exportPageName;
    currentPage = new EventEmitter();
    editTableRow = new EventEmitter();
    viewTableRow = new EventEmitter();
    deleteTableRow = new EventEmitter();
    openExternalLink = new EventEmitter();
    openpopupLink = new EventEmitter();
    routeTo = new EventEmitter();
    openPopup = new EventEmitter();
    sortOrder = new EventEmitter();
    filterSearchValue = new EventEmitter();
    filterBuilderPopup = new EventEmitter();
    filterPanel = new EventEmitter();
    multipleFilterValues = new EventEmitter();
    downloadTableRow = new EventEmitter();
    toggleRow = new EventEmitter();
    duplicateRow = new EventEmitter();
    viewVersions = new EventEmitter();
    activateVersion = new EventEmitter();
    activatePage = new EventEmitter();
    deactivatePage = new EventEmitter();
    duplicatePageVersion = new EventEmitter();
    selectedRowsData = new EventEmitter();
    orgList;
    dataField;
    columnHeader;
    popupPosition;
    filterValue;
    customOperations;
    fields;
    customStore;
    tempColumns;
    Organization;
    dUrl;
    rdUrl;
    rUrl;
    user;
    userId;
    tempList;
    showVersions;
    displayMode;
    registrationInfo;
    activepagename;
    url;
    oldUrl;
    constructor(
    // private dialog: MatDialog,
    router, auth, localstorage) {
        this.router = router;
        this.auth = auth;
        this.localstorage = localstorage;
        this.showVersions = false;
        this.loadGWithParam();
        this.user = this.localstorage.getObj('user');
        this.userId = this.localstorage.getItem('id');
        this.rUrl = this.router.url.split('/');
        if (this.rUrl.includes('versions')) {
            this.showVersions = true;
        }
        this.displayMode = 'compact';
    }
    ngOnInit() {
        if (this.isShow === false) {
            this.isShow = false;
        }
        else {
            this.isShow = true;
        }
        this.tempColumns = this.columns;
        if (this.columns && this.columns.gridConfigFormArray) {
            this.columnHeader = this.columns.gridConfigFormArray.map(column => column.header);
            this.columns = this.columns.gridConfigFormArray;
        }
        else {
            this.columnHeader = this.columns.map(column => column.header);
        }
        this.popupPosition = { of: window, at: 'top', my: 'top', offset: { y: 10 } };
        this.filterValue = [];
        this.customOperations = [];
    }
    ngOnChanges() {
        this.loadGWithParam();
    }
    loadGWithParam() {
        this.tempList = this.dataList;
        if (this.tempList) {
            const name = this.tempList.filter((item) => item.isactive == true);
            if (name.length > 0) {
                this.activepagename = name[0].pagename;
            }
        }
        if (!this.auth.isAdmin()) {
            this.loadGrid({ value: !this.Organization ? this.auth.getOrgID() : this.Organization }, false);
        }
        else {
            this.loadGrid({ value: this.Organization ? this.Organization : 'Select-ALL' }, false);
        }
    }
    ngAfterViewInit() {
        this.dataGrid.onOptionChanged.subscribe(e => {
            if (e.name === 'columns' && e.fullName.endsWith('filterValues')) {
                const colIndex = Number(e.fullName
                    .match(/\[\d+\]/)[0]
                    .replace('[', '')
                    .replace(']', ''));
                const values = e.component.columnOption(colIndex, 'filterValues');
                console.log(values);
                this.multipleFilterValues.emit(e);
            }
            // Search
            if (e.name === 'columns' && e.fullName.endsWith('filterValue')) {
                console.log(e);
                this.filterSearchValue.emit(e);
            }
            // filter Builder Popup
            if (e.name === 'filterBuilderPopup') {
                console.log('filterBuilderPopup');
                console.log(e);
                this.filterBuilderPopup.emit(e);
            }
            // filter Panel - enable or disable
            if (e.name === 'filterPanel') {
                console.log(e.value);
                this.filterPanel.emit(e);
            }
            // Sorting
            if (e.name === 'columns' && e.fullName.endsWith('sortOrder')) {
                this.sortOrder.emit(e);
            }
            // Paging
            if (e.name === 'paging') {
                this.currentPage.emit(e.value);
            }
        });
        const REGISTRATION = this.localstorage.getItem('REGISTRATION');
        if (REGISTRATION) {
            this.registrationInfo = JSON.parse(REGISTRATION);
        }
    }
    loadGrid(orgID, load = true) {
        this.Organization = orgID.value;
        if (load) {
            this.currentPage.emit(orgID.value === 'Select-ALL' ? 'all' : orgID.value);
        }
        if (this.tempList && this.tempList.length) {
            this.tempGridList(orgID);
        }
        else {
            this.customStore = this.dataSource;
        }
    }
    tempGridList(orgID) {
        if (orgID && orgID.value) {
            this.splitGridList(orgID);
        }
        if (this.dataList.length === 1 && this.rUrl && this.rUrl[2] === 'view-dashboard') {
            this.dUrl = 'view-dashboard/dashboard';
            this.router.navigateByUrl(`pages/${this.dUrl}/${this.dataList[0]['id']}`);
        }
        // Quick change
        this.customStore = new CustomStore({
            load: _opts => {
                return Promise.resolve(this.dataList);
            },
            totalCount: _opts => {
                return Promise.resolve(this.totalCount);
            }
        });
    }
    splitGridList(orgID) {
        this.dataList = this.tempList.filter(data => data.organizationid);
        this.dataList = this.tempList.filter(data => data.organizationid === orgID.value);
        if (this.tempList && this.tempList.length && this.tempList[0].displayname && this.tempList[0].userworkinfo) {
            this.dataList = this.tempList.filter(data => data.userworkinfo && data.userworkinfo[0] && data.userworkinfo[0].organizationid);
            this.dataList = this.tempList.filter(data => data.userworkinfo && data.userworkinfo[0] && data.userworkinfo[0].organizationid === orgID.value);
        }
        if ('Select-ALL' === orgID.value) {
            this.dataList = this.tempList;
        }
    }
    getRouter(data) {
        this.routeTo.emit(data);
    }
    navigateLink(event) {
        event.stopPropagation(); // Prevent other events
        const target = event.target;
        if (target.tagName === 'A' && target.href) {
            this.url = this.extractUrl(target.outerHTML);
            this.oldUrl = this.extractUrl(target.outerHTML);
            const activeId = this.extractID(this.url);
            const isNumberCheck = Number(activeId);
            this.checkPageId(isNumberCheck, activeId, event);
        }
    }
    async checkPageId(isNumberCheck, activeId, event) {
        if (isNumberCheck) {
            const menus = this.localstorage.getObj('MENU');
            const findMenu = menus.find(item => item.name === 'Pages');
            const isExists = findMenu.submenu.find(item => item.id == isNumberCheck);
            if (isExists) {
                this.url = this.url.replace(activeId, isExists.activeVersion.pageid);
                this.routeFunction(isNumberCheck, activeId, event, 'mainMenuWithId');
            }
            else {
                this.routeFunction(isNumberCheck, activeId, event, 'Pages');
            }
        }
        else {
            this.routeFunction(isNumberCheck, activeId, event, 'mainMenuWithURL');
        }
    }
    routeFunction(isNumberCheck, activeId, event, menuType) {
        const menus = this.localstorage.getObj('MENU');
        const mainMenu = menus.find(item => item.route === this.url);
        const mainMenuWithUrl = menus.forEach(element => {
            if (this.url.endsWith(element.route)) {
                return element;
            }
        });
        // const mainMenuWithUrl = menus.find(item => this.url.endsWith(item.route) ? item : [])
        // const mainMenus = menus.filter(item => item.submenu.length == 0);
        const submenus = menus.filter(item => item.submenu.length > 0);
        if (mainMenuWithUrl) {
            // this.appService.addValue('CurrentPages', mainMenuWithUrl);
            this.auth.getCurrentMenu(menus);
        }
        else if (mainMenu) {
            menus.forEach(element => {
                if (element.name === mainMenu.name) {
                    element.active = true;
                }
                else {
                    element.active = false;
                }
            });
            if (isNumberCheck) {
                // this.appService.addValue('dynamicPages', mainMenu);
                this.auth.getCurrentMenu(menus);
            }
            else {
                // this.appService.addValue('currentPages', mainMenu);
                this.auth.getCurrentMenu(menus);
            }
        }
        else {
            menus.forEach((element, index) => {
                if (element.submenu.length > 0) {
                    element.submenu.forEach((element1, index1) => {
                        if (element1?.route == this.url) {
                            this.setActive(menus, index, index1, isNumberCheck);
                        }
                        else if (element1?.activeVersion?.pageid == activeId) {
                            this.setActive(menus, index, index1, isNumberCheck);
                        }
                        else if (element1?.activeVersion?.id == activeId) {
                            this.setActive(menus, index, index1, isNumberCheck);
                        }
                    });
                }
                //  else if(element.submenu.length > 0 && element.name == 'Pages'){
                //   element.submenu.forEach((element1, index1) => {
                //     if(element1?.activeVersion?.pageid == activeId){
                //       this.setActive(menus, index, index1, isNumberCheck);
                //     }
                //   });
                // }
            });
        }
        this.router.navigateByUrl(this.oldUrl);
        event.preventDefault();
    }
    setActive(menus, menuIndex, submenuIndex, isNumberCheck) {
        menus.map(item => item.active = false);
        menus.forEach(element => {
            element.submenu.map(item => item.active = false);
        });
        if (menuIndex) {
            menus[menuIndex].active = true;
            if (submenuIndex >= 0) {
                menus[menuIndex].submenu[submenuIndex].active = true;
            }
            else {
                menus[menuIndex].active = true;
            }
        }
        else {
            menus[0].active = true;
        }
        // if(isNumberCheck){
        //   this.appService.addValue('dynamicPages', menus[menuIndex]);
        //   this.auth.getCurrentMenu(menus);
        // } else {
        //   this.appService.addValue('currentPages', menus[menuIndex]);
        //   this.auth.getCurrentMenu(menus);
        // }
    }
    extractID(url) {
        const parts = url.split("/");
        const lastIndex = parts.length - 1;
        const lastId = parts[lastIndex];
        return lastId;
    }
    extractUrl(html) {
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const link = doc.querySelector('a');
        return link ? link.getAttribute('href') : '';
    }
    popup(data) {
        this.openPopup.emit(data);
    }
    downloadData(evt) {
        this.downloadTableRow.emit(evt);
    }
    editData(evt) {
        this.editTableRow.emit(evt);
    }
    viewData(evt) {
        this.viewTableRow.emit(evt);
    }
    viewVersion(evt) {
        this.viewVersions.emit(evt);
    }
    activatePageVersion(evt) {
        this.activateVersion.emit(evt);
    }
    activatePages(evt) {
        this.activatePage.emit(evt);
    }
    deactivatePages(evt) {
        this.deactivatePage.emit(evt);
    }
    deleteData(evt) {
        this.deleteTableRow.emit(evt);
    }
    openLink(evt) {
        this.openExternalLink.emit(evt);
    }
    openPopupLink(evt) {
        this.openpopupLink.emit(evt);
    }
    activeUser(evt) {
        this.toggleRow.emit(evt);
    }
    duplicateDate(evt) {
        this.duplicateRow.emit(evt);
    }
    duplicateVersion(evt) {
        this.duplicatePageVersion.emit(evt);
    }
    onCellPrepared(e) {
        if (e.rowType == 'data' && e.data.isactive) {
            if (e.column.dataField === 'version') {
                const element = e.cellElement;
                const livetext = document.createElement('div');
                element.classList.add('live-td');
                livetext.classList.add('live-group');
                livetext.innerHTML = '<div class="live-text">Live</div>';
                element.appendChild(livetext);
            }
            else if (e.column.dataField === 'templatename') {
                this.exportPageName = e.value.includes('_') ? e.value.split('_')[0] : e.value;
            }
        }
    }
    onExporting(e) {
        const pageName = this.localstorage.getObj('FILE EXPORT NAME');
        const currentDate = moment().format('YYYY-MM-DD');
        let fileName;
        if (pageName) {
            fileName = `${pageName} Versions ${currentDate}`;
        }
        else if (this.exportPageName) {
            fileName = `${this.exportPageName}-${currentDate}`;
            if (this.exportPageName === 'version')
                fileName = `${this.exportPageName}-${currentDate}`;
        }
        else {
            fileName = `Dynamic-Pages ${currentDate}`;
        }
        e.component.columnOption('Action', 'visible', false);
        if (e.format === 'pdf') {
            const doc = new jsPDF.jsPDF();
            exportDataGridToPdf({
                jsPDFDocument: doc,
                component: e.component,
                customizeCell: grid => {
                    grid.pdfCell.wordWrapEnabled = true;
                }
            }).then(() => {
                doc.save(`${fileName}.pdf`);
                e.component.columnOption('Action', 'visible', true);
            });
        }
        else if (e.format === 'xlsx') {
            e.fileName = fileName;
            setTimeout(() => {
                e.component.columnOption('Action', 'visible', true);
            }, 500);
        }
    }
    islocked(grid, user) {
        if (grid.lock && user.locked) {
            if (Number(user.lockedby) === Number(this.userId)) {
                return true;
            }
            else {
                return false;
            }
        }
        else {
            return true;
        }
    }
    getDateFormat(value) {
        if (this.registrationInfo) {
            if (value === 'date') {
                return this.registrationInfo['datetimeformat'].split(' ')[0];
            }
            return this.registrationInfo['datetimeformat'];
        }
        return 'MM/dd/yyyy';
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: GridListComponent, deps: [{ token: i1.Router }, { token: i2.AuthService }, { token: i3.LocalService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: GridListComponent, selector: "app-grid-list", inputs: { dataList: "dataList", dataSource: "dataSource", columns: "columns", updateGrid: "updateGrid", totalCount: "totalCount", page: "page", isShow: "isShow", exportPageName: "exportPageName" }, outputs: { currentPage: "currentPage", editTableRow: "editTableRow", viewTableRow: "viewTableRow", deleteTableRow: "deleteTableRow", openExternalLink: "openExternalLink", openpopupLink: "openpopupLink", routeTo: "routeTo", openPopup: "openPopup", sortOrder: "sortOrder", filterSearchValue: "filterSearchValue", filterBuilderPopup: "filterBuilderPopup", filterPanel: "filterPanel", multipleFilterValues: "multipleFilterValues", downloadTableRow: "downloadTableRow", toggleRow: "toggleRow", duplicateRow: "duplicateRow", viewVersions: "viewVersions", activateVersion: "activateVersion", activatePage: "activatePage", deactivatePage: "deactivatePage", duplicatePageVersion: "duplicatePageVersion", selectedRowsData: "selectedRowsData" }, providers: [GridListService], viewQueries: [{ propertyName: "dataGrid", first: true, predicate: DxDataGridComponent, descendants: true }], usesOnChanges: true, ngImport: i0, template: "<dx-data-grid\r\n          id=\"gridContainer\"\r\n          [dataSource]=\"customStore\"\r\n          [allowColumnReordering]=\"true\"\r\n          [allowColumnResizing]=\"true\"\r\n          [columnAutoWidth]=\"true\"\r\n          [columnMinWidth]=\"100\"\r\n          [width]=\"'100%'\"\r\n          [columnResizingMode]=\"'widget'\"\r\n          [showBorders]=\"true\"\r\n          [rowAlternationEnabled]=\"true\"\r\n          [showColumnLines]=\"true\"\r\n          [showRowLines]=\"false\"\r\n          [filterValue]=\"filterValue\"\r\n          (onCellPrepared)=\"onCellPrepared($event)\"\r\n          (onExporting)=\"onExporting($event)\"\r\n          [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"\r\n          #dataGrid>\r\n          <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n          <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n          <dxo-filter-panel [visible]=\"false\"></dxo-filter-panel>\r\n          <dxo-paging [pageSize]=\"10\"></dxo-paging>\r\n          <dxo-pager\r\n            [visible]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n            [displayMode]=\"displayMode\"\r\n            [showPageSizeSelector]=\"true\"\r\n            [showInfo]=\"true\"\r\n            [showNavigationButtons]=\"true\"></dxo-pager>\r\n          <!--end pagination-->\r\n          <dxo-filter-builder [customOperations]=\"customOperations\"> </dxo-filter-builder>\r\n          <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n          <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n          <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n          <ng-container *ngFor=\"let column of columns; let i = index\">\r\n            <ng-container *ngIf=\"column.hide !== true\">\r\n              <ng-container *ngIf=\"column.link; else noLink\">\r\n                <dxi-column [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                  cellTemplate=\"cellTemplate\"></dxi-column>\r\n              </ng-container>\r\n              <ng-template #noLink>\r\n                <ng-container *ngIf=\"column.icon; else noIcon\">\r\n                  <dxi-column [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    cellTemplate=\"iconTemplate\"></dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noIcon>\r\n                <ng-container *ngIf=\"column.dateFormat; else noDate\">\r\n                  <dxi-column *ngIf=\"column.dateFormat === 'date' || column.dateFormat === 'datetime'\"\r\n                    [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    dataType=\"datetime\" [format]=\"getDateFormat(column.dateFormat)\">\r\n                  </dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noDate>\r\n                <dxi-column [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\">\r\n                </dxi-column>\r\n              </ng-template>\r\n            </ng-container>\r\n          </ng-container>\r\n          <ng-container *ngIf=\"\r\n              updateGrid &&\r\n              (updateGrid?.externalLink ||\r\n                updateGrid?.openPopup ||\r\n                updateGrid?.edit ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.download ||\r\n                updateGrid?.activatePage ||\r\n                updateGrid?.deactivatePage)\">\r\n            <dxi-column [width]=\"100\" [allowFiltering]=\"false\" [allowSorting]=\"false\" caption=\"Action\"\r\n              cellTemplate=\"editCellTemplate\"></dxi-column>\r\n            <div class=\"action-icons\" *dxTemplate=\"let d of 'editCellTemplate'\">\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.externalLink\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openLink(d)\">\r\n                <em class=\"fa fa-external-link\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.openPopup\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openPopupLink(d)\">\r\n                <em class=\"fa fa-newspaper-o\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.download\" class=\"no-bg\" matTooltip=\"Download\"\r\n                (click)=\"downloadData(d)\">\r\n                <em class=\"fa fa-download\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.edit && showVersions && !d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.editRecord\" class=\"no-bg mr-2\" matTooltip=\"Edit\"\r\n                (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && !showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy\" (click)=\"duplicateDate(d)\">\r\n                <em class=\"fa fa-copy\" aria-hidden=\"true\" fieldKey=\"PAG_DES_GRID_LIST_COPY\">\r\n                  <span class=\"sr-only\">Copy</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy Version\" (click)=\"duplicateVersion(d)\">\r\n                <em class=\"fa fa-copy\" *showField=\"'PAG_DES_GRID_LIST_VERSION'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Copy Version</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.view && showVersions\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                fieldKey=\"PAG_DES_GRID_LIST_VERSION\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.viewRecord\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.emailview && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Preview\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" title=\"view\"\r\n                *ngIf=\"updateGrid?.version && !showVersions && islocked(updateGrid, d.data)\" class=\"no-bg\"\r\n                matTooltip=\"Versions\" (click)=\"viewVersion(d)\">\r\n                <em class=\"fa fa-code-fork\" title=\"View\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"!d.data.isEnable && updateGrid?.activatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Activate\" (click)=\"activatePages(d)\">\r\n                <span class=\"material-symbols-outlined activate\">check</span>\r\n              </a>\r\n\r\n              <a href=\"javascript:void(0)\" *ngIf=\"d.data.isEnable && updateGrid?.deactivatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Deactivate\" (click)=\"deactivatePages(d)\">\r\n                <span class=\"material-symbols-outlined deactivate\">close</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"showVersions && !d.data.isactive && d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Activate\" (click)=\"activatePageVersion(d)\">\r\n                <em class=\"fa fa-check-circle-o\" *showField=\"'PAG_DES_GRID_LIST_ACTIVATE'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Activate</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <span *ngIf=\"showVersions && !d.data.isactive && !d.data.published\" class=\"no-bg mr-2\"\r\n                matTooltip=\"This version is not published\">\r\n                <em class=\"fa fa-exclamation-triangle text-warning\" aria-hidden=\"true\"><span class=\"sr-only\">This\r\n                    version is not published</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </span>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.lock && d.data.locked\" (click)=\"check(updateGrid, d)\"\r\n                class=\"no-bg ml-2\" matTooltip=\"Locked By - {{ d?.data?.lockedbyUser?.firstname }}\">\r\n                <em *ngIf=\"updateGrid?.lock && d.data.locked\" class=\"fa fa-lock\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.delete\" class=\"no-bg\" matTooltip=\"Delete\"\r\n                (click)=\"deleteData(d)\">\r\n                <em class=\"fa fa-trash\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.toggle\" class=\"no-bg\"\r\n                [matTooltip]=\"d.data.isactive === true ? 'Deactivate' : 'Activate'\" (click)=\"activeUser(d)\">\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === true\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === false\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n            </div>\r\n          </ng-container>\r\n\r\n          <div *dxTemplate=\"let d of 'cellTemplate'\">\r\n            <a href=\"javascript:void(0)\" *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d)\">{{\r\n              d.value !== 'null' ? d.value : ''\r\n              }}</a>\r\n          </div>\r\n          <!-- <ng-container *ngIf=\"updateGrid.linkVisible\">\r\n            <div *dxTemplate=\"let d of 'cellTemplate'\"  (click)=\"navigateLink($event)\">\r\n              <a *ngIf=\"d.value && d.value !== 'null'\" [innerHTML]=\"d.value | safeHtml\">{{\r\n                d.value !== 'null' ? d.value : ''\r\n              }}</a>\r\n            </div>\r\n          </ng-container> -->\r\n          <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n            <em class=\"fa fa-book\" (click)=\"popup(d.value)\"></em>\r\n          </div>\r\n        </dx-data-grid>", styles: [":root{--background-color: #f8f8f8;--navigation: #fff;--primary: #0D3178;--checkbox-border: #D6D5D5;--text-dark: #000;--label-text: #0D3178;--hover-text: #fff;--bg-light: #fff;--forms: #fff;--nav-text: #696969;--light-gray: #696969;--material-icons: #0D3178;--highlight-list: #e3f2fd;--table-header: #f9f9f9;--table-odd: #f7f7f7;--table-border: #ddd;--table-hover: #dbf6ff;--table-odd-color: #f2fcff;--btn: #0D3178;--menu-panel: #032361;--menu-level2: #28447E;--border-trans: transparent;--btn-hover: #1258A7;--btn-dark: #0D3178;--dropdown-list: #fff;--btncancel: #0D3178;--primary-light: #1258A7;--primary-dark: #0D3178;--light-d-light: #fff;--ldl-text: #fff;--light-d-accent: #fff;--header-bg: #f7f7f7;--secondary-color: #0D3178;--menu-link: #1258A7;--menu-highlight: #0084d1;--sumbmenu-selected: #0084D1;--profile-bg: #f3f9f9;--disabled: #7A8EB5;--accordion-header: #F5F5F5;--input-label: #1F1F1F;--input-field: #4C4C4C;--ghost: #A2A2A2;--table-label: #f1f1f1;--error-msg: #DC0404;--menu-hover: #1258A7;--var-icon-font: \"FILL\" 0, \"wght\" 400, \"GRAD\" 0, \"opsz\" 48;--rocket-icon: \"/assets/images/rocket-ship.svg\";--base-font-size: 16px;--font-11: 11px;--font-12: 12px;--font-13: 13px;--font-14: 14px;--font-15: 15px;--font-16: 16px;--font-17: 17px;--font-18: 18px;--font-19: 19px;--font-20: 20px;--font-21: 21px;--font-24: 24px;--font-26: 26px}.split-page{outline:3px;margin:5px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.dx-datagrid .dx-data-row>td.bullet{padding-top:0;padding-bottom:0}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding:1px 5px!important;vertical-align:middle!important;text-align:center!important}.org-title{margin:0;font-size:16px!important;color:var(--primary)}:host ::ng-deep .card .card-body{padding:0 15px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;color:var(--hover-text);background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}.action-icons .activate,.action-icons .deactivate{font-size:20px;line-height:normal;position:relative;top:5px;border-radius:30px;width:12px;display:inline-flex;align-items:center;justify-content:center;height:12px;font-weight:400}.landing-title{color:var(--nav-text);font-weight:700;font-size:var(--font-14);position:absolute;left:15px;z-index:99;top:12px;margin:0}\n"], dependencies: [{ kind: "directive", type: i4.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i5.DxDataGridComponent, selector: "dx-data-grid", inputs: ["accessKey", "activeStateEnabled", "allowColumnReordering", "allowColumnResizing", "autoNavigateToFocusedRow", "cacheEnabled", "cellHintEnabled", "columnAutoWidth", "columnChooser", "columnFixing", "columnHidingEnabled", "columnMinWidth", "columnResizingMode", "columns", "columnWidth", "customizeColumns", "dataRowTemplate", "dataSource", "dateSerializationFormat", "disabled", "editing", "elementAttr", "errorRowEnabled", "export", "filterBuilder", "filterBuilderPopup", "filterPanel", "filterRow", "filterSyncEnabled", "filterValue", "focusedColumnIndex", "focusedRowEnabled", "focusedRowIndex", "focusedRowKey", "grouping", "groupPanel", "headerFilter", "height", "highlightChanges", "hint", "hoverStateEnabled", "keyboardNavigation", "keyExpr", "loadPanel", "masterDetail", "noDataText", "pager", "paging", "remoteOperations", "renderAsync", "repaintChangesOnly", "rowAlternationEnabled", "rowDragging", "rowTemplate", "rtlEnabled", "scrolling", "searchPanel", "selectedRowKeys", "selection", "selectionFilter", "showBorders", "showColumnHeaders", "showColumnLines", "showRowLines", "sortByGroupSummaryInfo", "sorting", "stateStoring", "summary", "syncLookupFilterValues", "tabIndex", "toolbar", "twoWayBindingEnabled", "visible", "width", "wordWrapEnabled"], outputs: ["onAdaptiveDetailRowPreparing", "onCellClick", "onCellDblClick", "onCellHoverChanged", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDataErrorOccurred", "onDisposing", "onEditCanceled", "onEditCanceling", "onEditingStart", "onEditorPrepared", "onEditorPreparing", "onExporting", "onFocusedCellChanged", "onFocusedCellChanging", "onFocusedRowChanged", "onFocusedRowChanging", "onInitialized", "onInitNewRow", "onKeyDown", "onOptionChanged", "onRowClick", "onRowCollapsed", "onRowCollapsing", "onRowDblClick", "onRowExpanded", "onRowExpanding", "onRowInserted", "onRowInserting", "onRowPrepared", "onRowRemoved", "onRowRemoving", "onRowUpdated", "onRowUpdating", "onRowValidating", "onSaved", "onSaving", "onSelectionChanged", "onToolbarPreparing", "accessKeyChange", "activeStateEnabledChange", "allowColumnReorderingChange", "allowColumnResizingChange", "autoNavigateToFocusedRowChange", "cacheEnabledChange", "cellHintEnabledChange", "columnAutoWidthChange", "columnChooserChange", "columnFixingChange", "columnHidingEnabledChange", "columnMinWidthChange", "columnResizingModeChange", "columnsChange", "columnWidthChange", "customizeColumnsChange", "dataRowTemplateChange", "dataSourceChange", "dateSerializationFormatChange", "disabledChange", "editingChange", "elementAttrChange", "errorRowEnabledChange", "exportChange", "filterBuilderChange", "filterBuilderPopupChange", "filterPanelChange", "filterRowChange", "filterSyncEnabledChange", "filterValueChange", "focusedColumnIndexChange", "focusedRowEnabledChange", "focusedRowIndexChange", "focusedRowKeyChange", "groupingChange", "groupPanelChange", "headerFilterChange", "heightChange", "highlightChangesChange", "hintChange", "hoverStateEnabledChange", "keyboardNavigationChange", "keyExprChange", "loadPanelChange", "masterDetailChange", "noDataTextChange", "pagerChange", "pagingChange", "remoteOperationsChange", "renderAsyncChange", "repaintChangesOnlyChange", "rowAlternationEnabledChange", "rowDraggingChange", "rowTemplateChange", "rtlEnabledChange", "scrollingChange", "searchPanelChange", "selectedRowKeysChange", "selectionChange", "selectionFilterChange", "showBordersChange", "showColumnHeadersChange", "showColumnLinesChange", "showRowLinesChange", "sortByGroupSummaryInfoChange", "sortingChange", "stateStoringChange", "summaryChange", "syncLookupFilterValuesChange", "tabIndexChange", "toolbarChange", "twoWayBindingEnabledChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { kind: "component", type: i6.DxiColumnComponent, selector: "dxi-column", inputs: ["alignment", "allowEditing", "allowExporting", "allowFiltering", "allowFixing", "allowGrouping", "allowHeaderFiltering", "allowHiding", "allowReordering", "allowResizing", "allowSearch", "allowSorting", "autoExpandGroup", "buttons", "calculateCellValue", "calculateDisplayValue", "calculateFilterExpression", "calculateGroupValue", "calculateSortValue", "caption", "cellTemplate", "columns", "cssClass", "customizeText", "dataField", "dataType", "editCellTemplate", "editorOptions", "encodeHtml", "falseText", "filterOperations", "filterType", "filterValue", "filterValues", "fixed", "fixedPosition", "format", "formItem", "groupCellTemplate", "groupIndex", "headerCellTemplate", "headerFilter", "hidingPriority", "isBand", "lookup", "minWidth", "name", "ownerBand", "renderAsync", "selectedFilterOperation", "setCellValue", "showEditorAlways", "showInColumnChooser", "showWhenGrouped", "sortIndex", "sortingMethod", "sortOrder", "trueText", "type", "validationRules", "visible", "visibleIndex", "width"], outputs: ["filterValueChange", "filterValuesChange", "groupIndexChange", "selectedFilterOperationChange", "sortIndexChange", "sortOrderChange", "visibleChange", "visibleIndexChange"] }, { kind: "component", type: i6.DxoHeaderFilterComponent, selector: "dxo-header-filter", inputs: ["allowSearch", "allowSelectAll", "dataSource", "groupInterval", "height", "search", "searchMode", "width", "searchTimeout", "texts", "visible", "showRelevantValues"] }, { kind: "component", type: i6.DxoExportComponent, selector: "dxo-export", inputs: ["backgroundColor", "enabled", "fileName", "formats", "margin", "printingEnabled", "svgToCanvas", "allowExportSelectedData", "texts"] }, { kind: "component", type: i6.DxoFilterBuilderComponent, selector: "dxo-filter-builder", inputs: ["accessKey", "activeStateEnabled", "allowHierarchicalFields", "customOperations", "disabled", "elementAttr", "fields", "filterOperationDescriptions", "focusStateEnabled", "groupOperationDescriptions", "groupOperations", "height", "hint", "hoverStateEnabled", "maxGroupLevel", "onContentReady", "onDisposing", "onEditorPrepared", "onEditorPreparing", "onInitialized", "onOptionChanged", "onValueChanged", "rtlEnabled", "tabIndex", "value", "visible", "width"], outputs: ["valueChange"] }, { kind: "component", type: i6.DxoFilterBuilderPopupComponent, selector: "dxo-filter-builder-popup", inputs: ["accessKey", "animation", "closeOnOutsideClick", "container", "contentTemplate", "copyRootClassesToWrapper", "deferRendering", "disabled", "dragAndResizeArea", "dragEnabled", "dragOutsideBoundary", "elementAttr", "enableBodyScroll", "focusStateEnabled", "fullScreen", "height", "hideOnOutsideClick", "hideOnParentScroll", "hint", "hoverStateEnabled", "maxHeight", "maxWidth", "minHeight", "minWidth", "onContentReady", "onDisposing", "onHidden", "onHiding", "onInitialized", "onOptionChanged", "onResize", "onResizeEnd", "onResizeStart", "onShowing", "onShown", "onTitleRendered", "position", "resizeEnabled", "restorePosition", "rtlEnabled", "shading", "shadingColor", "showCloseButton", "showTitle", "tabIndex", "title", "titleTemplate", "toolbarItems", "visible", "width", "wrapperAttr"], outputs: ["heightChange", "positionChange", "visibleChange", "widthChange"] }, { kind: "component", type: i6.DxoFilterPanelComponent, selector: "dxo-filter-panel", inputs: ["customizeText", "filterEnabled", "texts", "visible"], outputs: ["filterEnabledChange"] }, { kind: "component", type: i6.DxoFilterRowComponent, selector: "dxo-filter-row", inputs: ["applyFilter", "applyFilterText", "betweenEndText", "betweenStartText", "operationDescriptions", "resetOperationText", "showAllText", "showOperationChooser", "visible"] }, { kind: "component", type: i6.DxoLoadPanelComponent, selector: "dxo-load-panel", inputs: ["enabled", "height", "indicatorSrc", "shading", "shadingColor", "showIndicator", "showPane", "text", "width"] }, { kind: "component", type: i6.DxoPagerComponent, selector: "dxo-pager", inputs: ["allowedPageSizes", "displayMode", "infoText", "label", "showInfo", "showNavigationButtons", "showPageSizeSelector", "visible"] }, { kind: "component", type: i6.DxoPagingComponent, selector: "dxo-paging", inputs: ["enabled", "pageIndex", "pageSize"], outputs: ["pageIndexChange", "pageSizeChange"] }, { kind: "directive", type: i7.DxTemplateDirective, selector: "[dxTemplate]", inputs: ["dxTemplateOf"] }, { kind: "directive", type: i8.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "directive", type: i9.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { kind: "directive", type: i10.ShowFieldDirective, selector: "[showField]", inputs: ["showField"] }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: GridListComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-grid-list', providers: [GridListService], template: "<dx-data-grid\r\n          id=\"gridContainer\"\r\n          [dataSource]=\"customStore\"\r\n          [allowColumnReordering]=\"true\"\r\n          [allowColumnResizing]=\"true\"\r\n          [columnAutoWidth]=\"true\"\r\n          [columnMinWidth]=\"100\"\r\n          [width]=\"'100%'\"\r\n          [columnResizingMode]=\"'widget'\"\r\n          [showBorders]=\"true\"\r\n          [rowAlternationEnabled]=\"true\"\r\n          [showColumnLines]=\"true\"\r\n          [showRowLines]=\"false\"\r\n          [filterValue]=\"filterValue\"\r\n          (onCellPrepared)=\"onCellPrepared($event)\"\r\n          (onExporting)=\"onExporting($event)\"\r\n          [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"\r\n          #dataGrid>\r\n          <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n          <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n          <dxo-filter-panel [visible]=\"false\"></dxo-filter-panel>\r\n          <dxo-paging [pageSize]=\"10\"></dxo-paging>\r\n          <dxo-pager\r\n            [visible]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n            [displayMode]=\"displayMode\"\r\n            [showPageSizeSelector]=\"true\"\r\n            [showInfo]=\"true\"\r\n            [showNavigationButtons]=\"true\"></dxo-pager>\r\n          <!--end pagination-->\r\n          <dxo-filter-builder [customOperations]=\"customOperations\"> </dxo-filter-builder>\r\n          <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n          <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n          <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n          <ng-container *ngFor=\"let column of columns; let i = index\">\r\n            <ng-container *ngIf=\"column.hide !== true\">\r\n              <ng-container *ngIf=\"column.link; else noLink\">\r\n                <dxi-column [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                  cellTemplate=\"cellTemplate\"></dxi-column>\r\n              </ng-container>\r\n              <ng-template #noLink>\r\n                <ng-container *ngIf=\"column.icon; else noIcon\">\r\n                  <dxi-column [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    cellTemplate=\"iconTemplate\"></dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noIcon>\r\n                <ng-container *ngIf=\"column.dateFormat; else noDate\">\r\n                  <dxi-column *ngIf=\"column.dateFormat === 'date' || column.dateFormat === 'datetime'\"\r\n                    [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    dataType=\"datetime\" [format]=\"getDateFormat(column.dateFormat)\">\r\n                  </dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noDate>\r\n                <dxi-column [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\">\r\n                </dxi-column>\r\n              </ng-template>\r\n            </ng-container>\r\n          </ng-container>\r\n          <ng-container *ngIf=\"\r\n              updateGrid &&\r\n              (updateGrid?.externalLink ||\r\n                updateGrid?.openPopup ||\r\n                updateGrid?.edit ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.download ||\r\n                updateGrid?.activatePage ||\r\n                updateGrid?.deactivatePage)\">\r\n            <dxi-column [width]=\"100\" [allowFiltering]=\"false\" [allowSorting]=\"false\" caption=\"Action\"\r\n              cellTemplate=\"editCellTemplate\"></dxi-column>\r\n            <div class=\"action-icons\" *dxTemplate=\"let d of 'editCellTemplate'\">\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.externalLink\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openLink(d)\">\r\n                <em class=\"fa fa-external-link\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.openPopup\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openPopupLink(d)\">\r\n                <em class=\"fa fa-newspaper-o\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.download\" class=\"no-bg\" matTooltip=\"Download\"\r\n                (click)=\"downloadData(d)\">\r\n                <em class=\"fa fa-download\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.edit && showVersions && !d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.editRecord\" class=\"no-bg mr-2\" matTooltip=\"Edit\"\r\n                (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && !showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy\" (click)=\"duplicateDate(d)\">\r\n                <em class=\"fa fa-copy\" aria-hidden=\"true\" fieldKey=\"PAG_DES_GRID_LIST_COPY\">\r\n                  <span class=\"sr-only\">Copy</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy Version\" (click)=\"duplicateVersion(d)\">\r\n                <em class=\"fa fa-copy\" *showField=\"'PAG_DES_GRID_LIST_VERSION'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Copy Version</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.view && showVersions\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                fieldKey=\"PAG_DES_GRID_LIST_VERSION\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.viewRecord\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.emailview && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Preview\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" title=\"view\"\r\n                *ngIf=\"updateGrid?.version && !showVersions && islocked(updateGrid, d.data)\" class=\"no-bg\"\r\n                matTooltip=\"Versions\" (click)=\"viewVersion(d)\">\r\n                <em class=\"fa fa-code-fork\" title=\"View\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"!d.data.isEnable && updateGrid?.activatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Activate\" (click)=\"activatePages(d)\">\r\n                <span class=\"material-symbols-outlined activate\">check</span>\r\n              </a>\r\n\r\n              <a href=\"javascript:void(0)\" *ngIf=\"d.data.isEnable && updateGrid?.deactivatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Deactivate\" (click)=\"deactivatePages(d)\">\r\n                <span class=\"material-symbols-outlined deactivate\">close</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"showVersions && !d.data.isactive && d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Activate\" (click)=\"activatePageVersion(d)\">\r\n                <em class=\"fa fa-check-circle-o\" *showField=\"'PAG_DES_GRID_LIST_ACTIVATE'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Activate</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <span *ngIf=\"showVersions && !d.data.isactive && !d.data.published\" class=\"no-bg mr-2\"\r\n                matTooltip=\"This version is not published\">\r\n                <em class=\"fa fa-exclamation-triangle text-warning\" aria-hidden=\"true\"><span class=\"sr-only\">This\r\n                    version is not published</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </span>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.lock && d.data.locked\" (click)=\"check(updateGrid, d)\"\r\n                class=\"no-bg ml-2\" matTooltip=\"Locked By - {{ d?.data?.lockedbyUser?.firstname }}\">\r\n                <em *ngIf=\"updateGrid?.lock && d.data.locked\" class=\"fa fa-lock\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.delete\" class=\"no-bg\" matTooltip=\"Delete\"\r\n                (click)=\"deleteData(d)\">\r\n                <em class=\"fa fa-trash\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.toggle\" class=\"no-bg\"\r\n                [matTooltip]=\"d.data.isactive === true ? 'Deactivate' : 'Activate'\" (click)=\"activeUser(d)\">\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === true\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === false\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n            </div>\r\n          </ng-container>\r\n\r\n          <div *dxTemplate=\"let d of 'cellTemplate'\">\r\n            <a href=\"javascript:void(0)\" *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d)\">{{\r\n              d.value !== 'null' ? d.value : ''\r\n              }}</a>\r\n          </div>\r\n          <!-- <ng-container *ngIf=\"updateGrid.linkVisible\">\r\n            <div *dxTemplate=\"let d of 'cellTemplate'\"  (click)=\"navigateLink($event)\">\r\n              <a *ngIf=\"d.value && d.value !== 'null'\" [innerHTML]=\"d.value | safeHtml\">{{\r\n                d.value !== 'null' ? d.value : ''\r\n              }}</a>\r\n            </div>\r\n          </ng-container> -->\r\n          <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n            <em class=\"fa fa-book\" (click)=\"popup(d.value)\"></em>\r\n          </div>\r\n        </dx-data-grid>", styles: [":root{--background-color: #f8f8f8;--navigation: #fff;--primary: #0D3178;--checkbox-border: #D6D5D5;--text-dark: #000;--label-text: #0D3178;--hover-text: #fff;--bg-light: #fff;--forms: #fff;--nav-text: #696969;--light-gray: #696969;--material-icons: #0D3178;--highlight-list: #e3f2fd;--table-header: #f9f9f9;--table-odd: #f7f7f7;--table-border: #ddd;--table-hover: #dbf6ff;--table-odd-color: #f2fcff;--btn: #0D3178;--menu-panel: #032361;--menu-level2: #28447E;--border-trans: transparent;--btn-hover: #1258A7;--btn-dark: #0D3178;--dropdown-list: #fff;--btncancel: #0D3178;--primary-light: #1258A7;--primary-dark: #0D3178;--light-d-light: #fff;--ldl-text: #fff;--light-d-accent: #fff;--header-bg: #f7f7f7;--secondary-color: #0D3178;--menu-link: #1258A7;--menu-highlight: #0084d1;--sumbmenu-selected: #0084D1;--profile-bg: #f3f9f9;--disabled: #7A8EB5;--accordion-header: #F5F5F5;--input-label: #1F1F1F;--input-field: #4C4C4C;--ghost: #A2A2A2;--table-label: #f1f1f1;--error-msg: #DC0404;--menu-hover: #1258A7;--var-icon-font: \"FILL\" 0, \"wght\" 400, \"GRAD\" 0, \"opsz\" 48;--rocket-icon: \"/assets/images/rocket-ship.svg\";--base-font-size: 16px;--font-11: 11px;--font-12: 12px;--font-13: 13px;--font-14: 14px;--font-15: 15px;--font-16: 16px;--font-17: 17px;--font-18: 18px;--font-19: 19px;--font-20: 20px;--font-21: 21px;--font-24: 24px;--font-26: 26px}.split-page{outline:3px;margin:5px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.dx-datagrid .dx-data-row>td.bullet{padding-top:0;padding-bottom:0}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding:1px 5px!important;vertical-align:middle!important;text-align:center!important}.org-title{margin:0;font-size:16px!important;color:var(--primary)}:host ::ng-deep .card .card-body{padding:0 15px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;color:var(--hover-text);background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}.action-icons .activate,.action-icons .deactivate{font-size:20px;line-height:normal;position:relative;top:5px;border-radius:30px;width:12px;display:inline-flex;align-items:center;justify-content:center;height:12px;font-weight:400}.landing-title{color:var(--nav-text);font-weight:700;font-size:var(--font-14);position:absolute;left:15px;z-index:99;top:12px;margin:0}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.AuthService }, { type: i3.LocalService }]; }, propDecorators: { dataGrid: [{
                type: ViewChild,
                args: [DxDataGridComponent, { static: false }]
            }], dataList: [{
                type: Input
            }], dataSource: [{
                type: Input
            }], columns: [{
                type: Input
            }], updateGrid: [{
                type: Input
            }], totalCount: [{
                type: Input
            }], page: [{
                type: Input
            }], isShow: [{
                type: Input
            }], exportPageName: [{
                type: Input
            }], currentPage: [{
                type: Output
            }], editTableRow: [{
                type: Output
            }], viewTableRow: [{
                type: Output
            }], deleteTableRow: [{
                type: Output
            }], openExternalLink: [{
                type: Output
            }], openpopupLink: [{
                type: Output
            }], routeTo: [{
                type: Output
            }], openPopup: [{
                type: Output
            }], sortOrder: [{
                type: Output
            }], filterSearchValue: [{
                type: Output
            }], filterBuilderPopup: [{
                type: Output
            }], filterPanel: [{
                type: Output
            }], multipleFilterValues: [{
                type: Output
            }], downloadTableRow: [{
                type: Output
            }], toggleRow: [{
                type: Output
            }], duplicateRow: [{
                type: Output
            }], viewVersions: [{
                type: Output
            }], activateVersion: [{
                type: Output
            }], activatePage: [{
                type: Output
            }], deactivatePage: [{
                type: Output
            }], duplicatePageVersion: [{
                type: Output
            }], selectedRowsData: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC1saXN0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtbW9kdWxlL3BhZ2UtYnVpbGRlci9zcmMvbGliL3BpY3MtcGFnZWJ1aWxkZXIvQHNoYXJlZC9ncmlkLWxpc3QvZ3JpZC1saXN0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtbW9kdWxlL3BhZ2UtYnVpbGRlci9zcmMvbGliL3BpY3MtcGFnZWJ1aWxkZXIvQHNoYXJlZC9ncmlkLWxpc3QvZ3JpZC1saXN0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBaUIsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQXFCLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHcEgsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDekQsT0FBTyxXQUFXLE1BQU0sOEJBQThCLENBQUM7QUFFdkQsT0FBTyxFQUFFLGNBQWMsSUFBSSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ2hGLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQy9CLE9BQU8sS0FBSyxNQUFNLE1BQU0sUUFBUSxDQUFDO0FBQ2pDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7O0FBVXRELE1BQU0sT0FBTyxpQkFBaUI7SUF3RGxCO0lBQ0Q7SUFDQztJQXpEeUMsUUFBUSxDQUF1QjtJQUN6RSxRQUFRLENBQVE7SUFDaEIsVUFBVSxDQUFhO0lBQ3ZCLE9BQU8sQ0FBTTtJQUNiLFVBQVUsQ0FBTTtJQUNoQixVQUFVLENBQVM7SUFDbkIsSUFBSSxDQUFTO0lBQ2IsTUFBTSxDQUFNO0lBQ1osY0FBYyxDQUFTO0lBQ3RCLFdBQVcsR0FBRyxJQUFJLFlBQVks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WUFBWTtzQkFBckIsTUFBTTtnQkFDRyxjQUFjO3NCQUF2QixNQUFNO2dCQUNHLG9CQUFvQjtzQkFBN0IsTUFBTTtnQkFDRyxnQkFBZ0I7c0JBQXpCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZnRlclZpZXdJbml0LCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uQ2hhbmdlcywgT25Jbml0LCBPdXRwdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5cclxuaW1wb3J0IHsgRHhEYXRhR3JpZENvbXBvbmVudCB9IGZyb20gJ2RldmV4dHJlbWUtYW5ndWxhcic7XHJcbmltcG9ydCBDdXN0b21TdG9yZSBmcm9tICdkZXZleHRyZW1lL2RhdGEvY3VzdG9tX3N0b3JlJztcclxuaW1wb3J0IERhdGFTb3VyY2UgZnJvbSAnZGV2ZXh0cmVtZS9kYXRhL2RhdGFfc291cmNlJztcclxuaW1wb3J0IHsgZXhwb3J0RGF0YUdyaWQgYXMgZXhwb3J0RGF0YUdyaWRUb1BkZiB9IGZyb20gJ2RldmV4dHJlbWUvcGRmX2V4cG9ydGVyJztcclxuaW1wb3J0ICogYXMganNQREYgZnJvbSAnanNwZGYnO1xyXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IHsgR3JpZExpc3RTZXJ2aWNlIH0gZnJvbSAnLi9ncmlkLWxpc3Quc2VydmljZSc7XHJcbmltcG9ydCB7IExvY2FsU2VydmljZSB9IGZyb20gJy4uLy4uL0Bjb3JlL3NlcnZpY2VzL2xvY2FsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4uLy4uL0Bjb3JlL3NlcnZpY2VzL2F1dGguc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC1ncmlkLWxpc3QnLFxyXG4gIHByb3ZpZGVyczogW0dyaWRMaXN0U2VydmljZV0sXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2dyaWQtbGlzdC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vZ3JpZC1saXN0LmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIEdyaWRMaXN0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQge1xyXG4gIEBWaWV3Q2hpbGQoRHhEYXRhR3JpZENvbXBvbmVudCwgeyBzdGF0aWM6IGZhbHNlIH0pIGRhdGFHcmlkITogRHhEYXRhR3JpZENvbXBvbmVudDtcclxuICBASW5wdXQoKSBkYXRhTGlzdDogYW55W107XHJcbiAgQElucHV0KCkgZGF0YVNvdXJjZTogRGF0YVNvdXJjZTtcclxuICBASW5wdXQoKSBjb2x1bW5zOiBhbnk7XHJcbiAgQElucHV0KCkgdXBkYXRlR3JpZDogYW55O1xyXG4gIEBJbnB1dCgpIHRvdGFsQ291bnQ6IG51bWJlcjtcclxuICBASW5wdXQoKSBwYWdlOiBudW1iZXI7XHJcbiAgQElucHV0KCkgaXNTaG93OiBhbnk7XHJcbiAgQElucHV0KCkgZXhwb3J0UGFnZU5hbWU6IHN0cmluZztcclxuICBAT3V0cHV0KCkgY3VycmVudFBhZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuICBAT3V0cHV0KCkgZWRpdFRhYmxlUm93ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHZpZXdUYWJsZVJvdyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBkZWxldGVUYWJsZVJvdyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBvcGVuRXh0ZXJuYWxMaW5rID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIG9wZW5wb3B1cExpbmsgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgcm91dGVUbyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBvcGVuUG9wdXAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgc29ydE9yZGVyID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGZpbHRlclNlYXJjaFZhbHVlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGZpbHRlckJ1aWxkZXJQb3B1cCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBmaWx0ZXJQYW5lbCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBtdWx0aXBsZUZpbHRlclZhbHVlcyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBkb3dubG9hZFRhYmxlUm93ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHRvZ2dsZVJvdyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBkdXBsaWNhdGVSb3cgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgdmlld1ZlcnNpb25zID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGFjdGl2YXRlVmVyc2lvbiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBhY3RpdmF0ZVBhZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgZGVhY3RpdmF0ZVBhZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgZHVwbGljYXRlUGFnZVZlcnNpb24gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgc2VsZWN0ZWRSb3dzRGF0YSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIG9yZ0xpc3Q6IGFueTtcclxuICBkYXRhRmllbGQ6IHN0cmluZ1tdO1xyXG4gIGNvbHVtbkhlYWRlcjogYW55W107XHJcbiAgcG9wdXBQb3NpdGlvbjogYW55O1xyXG4gIGZpbHRlclZhbHVlOiAoc3RyaW5nIHwgc3RyaW5nW10pW107XHJcbiAgY3VzdG9tT3BlcmF0aW9uczogQXJyYXk8YW55PjtcclxuICBmaWVsZHM6IGFueTtcclxuICBjdXN0b21TdG9yZTogYW55O1xyXG4gIHRlbXBDb2x1bW5zOiBhbnlbXTtcclxuICBPcmdhbml6YXRpb246IGFueTtcclxuICBkVXJsOiBzdHJpbmc7XHJcbiAgcmRVcmw6IHN0cmluZztcclxuICByVXJsOiBhbnk7XHJcbiAgdXNlcjogYW55O1xyXG4gIHVzZXJJZDogbnVtYmVyO1xyXG4gIHRlbXBMaXN0OiBhbnlbXTtcclxuICBzaG93VmVyc2lvbnM6IGJvb2xlYW47XHJcbiAgZGlzcGxheU1vZGU6IGFueTtcclxuICByZWdpc3RyYXRpb25JbmZvOiBhbnk7XHJcbiAgYWN0aXZlcGFnZW5hbWU6IGFueTtcclxuICB1cmw6IGFueTtcclxuICBvbGRVcmw6IGFueTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIC8vIHByaXZhdGUgZGlhbG9nOiBNYXREaWFsb2csXHJcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxyXG4gICAgcHVibGljIGF1dGg6IEF1dGhTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBsb2NhbHN0b3JhZ2U6IExvY2FsU2VydmljZSxcclxuICAgLy8gcHJpdmF0ZSBhcHBTZXJ2aWNlOiBBcHBTZXJ2aWNlLFxyXG4gICkge1xyXG4gICAgdGhpcy5zaG93VmVyc2lvbnMgPSBmYWxzZTtcclxuICAgIHRoaXMubG9hZEdXaXRoUGFyYW0oKTtcclxuICAgIHRoaXMudXNlciA9IHRoaXMubG9jYWxzdG9yYWdlLmdldE9iaigndXNlcicpO1xyXG4gICAgdGhpcy51c2VySWQgPSB0aGlzLmxvY2Fsc3RvcmFnZS5nZXRJdGVtKCdpZCcpO1xyXG4gICAgdGhpcy5yVXJsID0gdGhpcy5yb3V0ZXIudXJsLnNwbGl0KCcvJyk7XHJcbiAgICBpZiAodGhpcy5yVXJsLmluY2x1ZGVzKCd2ZXJzaW9ucycpKSB7XHJcbiAgICAgIHRoaXMuc2hvd1ZlcnNpb25zID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMuZGlzcGxheU1vZGUgPSAnY29tcGFjdCc7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmlzU2hvdyA9PT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRlbXBDb2x1bW5zID0gdGhpcy5jb2x1bW5zO1xyXG4gICAgaWYgKHRoaXMuY29sdW1ucyAmJiB0aGlzLmNvbHVtbnMuZ3JpZENvbmZpZ0Zvcm1BcnJheSkge1xyXG4gICAgICB0aGlzLmNvbHVtbkhlYWRlciA9IHRoaXMuY29sdW1ucy5ncmlkQ29uZmlnRm9ybUFycmF5Lm1hcChjb2x1bW4gPT4gY29sdW1uLmhlYWRlcik7XHJcbiAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuY29sdW1ucy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jb2x1bW5IZWFkZXIgPSB0aGlzLmNvbHVtbnMubWFwKGNvbHVtbiA9PiBjb2x1bW4uaGVhZGVyKTtcclxuICAgIH1cclxuICAgIHRoaXMucG9wdXBQb3NpdGlvbiA9IHsgb2Y6IHdpbmRvdywgYXQ6ICd0b3AnLCBteTogJ3RvcCcsIG9mZnNldDogeyB5OiAxMCB9IH07XHJcbiAgICB0aGlzLmZpbHRlclZhbHVlID0gW107XHJcbiAgICB0aGlzLmN1c3RvbU9wZXJhdGlvbnMgPSBbXTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKCkge1xyXG4gICAgdGhpcy5sb2FkR1dpdGhQYXJhbSgpO1xyXG4gIH1cclxuXHJcbiAgbG9hZEdXaXRoUGFyYW0oKSB7XHJcbiAgICB0aGlzLnRlbXBMaXN0ID0gdGhpcy5kYXRhTGlzdDtcclxuICAgIGlmICh0aGlzLnRlbXBMaXN0KSB7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLnRlbXBMaXN0LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pc2FjdGl2ZSA9PSB0cnVlKTtcclxuICAgICAgaWYgKG5hbWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlcGFnZW5hbWUgPSBuYW1lWzBdLnBhZ2VuYW1lXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghdGhpcy5hdXRoLmlzQWRtaW4oKSkge1xyXG4gICAgICB0aGlzLmxvYWRHcmlkKHsgdmFsdWU6ICF0aGlzLk9yZ2FuaXphdGlvbiA/IHRoaXMuYXV0aC5nZXRPcmdJRCgpIDogdGhpcy5Pcmdhbml6YXRpb24gfSwgZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5sb2FkR3JpZCh7IHZhbHVlOiB0aGlzLk9yZ2FuaXphdGlvbiA/IHRoaXMuT3JnYW5pemF0aW9uIDogJ1NlbGVjdC1BTEwnIH0sIGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIHRoaXMuZGF0YUdyaWQub25PcHRpb25DaGFuZ2VkLnN1YnNjcmliZShlID0+IHtcclxuICAgICAgaWYgKGUubmFtZSA9PT0gJ2NvbHVtbnMnICYmIGUuZnVsbE5hbWUuZW5kc1dpdGgoJ2ZpbHRlclZhbHVlcycpKSB7XHJcbiAgICAgICAgY29uc3QgY29sSW5kZXggPSBOdW1iZXIoXHJcbiAgICAgICAgICBlLmZ1bGxOYW1lXHJcbiAgICAgICAgICAgIC5tYXRjaCgvXFxbXFxkK1xcXS8pWzBdXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdbJywgJycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCddJywgJycpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBlLmNvbXBvbmVudC5jb2x1bW5PcHRpb24oY29sSW5kZXgsICdmaWx0ZXJWYWx1ZXMnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZXMpO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVGaWx0ZXJWYWx1ZXMuZW1pdChlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2VhcmNoXHJcbiAgICAgIGlmIChlLm5hbWUgPT09ICdjb2x1bW5zJyAmJiBlLmZ1bGxOYW1lLmVuZHNXaXRoKCdmaWx0ZXJWYWx1ZScpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJTZWFyY2hWYWx1ZS5lbWl0KGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBmaWx0ZXIgQnVpbGRlciBQb3B1cFxyXG5cclxuICAgICAgaWYgKGUubmFtZSA9PT0gJ2ZpbHRlckJ1aWxkZXJQb3B1cCcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZmlsdGVyQnVpbGRlclBvcHVwJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJCdWlsZGVyUG9wdXAuZW1pdChlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZmlsdGVyIFBhbmVsIC0gZW5hYmxlIG9yIGRpc2FibGVcclxuICAgICAgaWYgKGUubmFtZSA9PT0gJ2ZpbHRlclBhbmVsJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUudmFsdWUpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyUGFuZWwuZW1pdChlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU29ydGluZ1xyXG4gICAgICBpZiAoZS5uYW1lID09PSAnY29sdW1ucycgJiYgZS5mdWxsTmFtZS5lbmRzV2l0aCgnc29ydE9yZGVyJykpIHtcclxuICAgICAgICB0aGlzLnNvcnRPcmRlci5lbWl0KGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQYWdpbmdcclxuICAgICAgaWYgKGUubmFtZSA9PT0gJ3BhZ2luZycpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLmVtaXQoZS52YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgY29uc3QgUkVHSVNUUkFUSU9OID0gdGhpcy5sb2NhbHN0b3JhZ2UuZ2V0SXRlbSgnUkVHSVNUUkFUSU9OJyk7XHJcbiAgICBpZiAoUkVHSVNUUkFUSU9OKSB7XHJcbiAgICAgIHRoaXMucmVnaXN0cmF0aW9uSW5mbyA9IEpTT04ucGFyc2UoUkVHSVNUUkFUSU9OKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxvYWRHcmlkKG9yZ0lELCBsb2FkID0gdHJ1ZSkge1xyXG4gICAgdGhpcy5Pcmdhbml6YXRpb24gPSBvcmdJRC52YWx1ZTtcclxuICAgIGlmIChsb2FkKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFBhZ2UuZW1pdChvcmdJRC52YWx1ZSA9PT0gJ1NlbGVjdC1BTEwnID8gJ2FsbCcgOiBvcmdJRC52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudGVtcExpc3QgJiYgdGhpcy50ZW1wTGlzdC5sZW5ndGgpIHtcclxuICAgICAgdGhpcy50ZW1wR3JpZExpc3Qob3JnSUQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jdXN0b21TdG9yZSA9IHRoaXMuZGF0YVNvdXJjZTtcclxuICAgIH1cclxuICB9XHJcbiAgdGVtcEdyaWRMaXN0KG9yZ0lEKSB7XHJcbiAgICBpZiAob3JnSUQgJiYgb3JnSUQudmFsdWUpIHtcclxuICAgICAgdGhpcy5zcGxpdEdyaWRMaXN0KG9yZ0lEKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmRhdGFMaXN0Lmxlbmd0aCA9PT0gMSAmJiB0aGlzLnJVcmwgJiYgdGhpcy5yVXJsWzJdID09PSAndmlldy1kYXNoYm9hcmQnKSB7XHJcbiAgICAgIHRoaXMuZFVybCA9ICd2aWV3LWRhc2hib2FyZC9kYXNoYm9hcmQnO1xyXG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKGBwYWdlcy8ke3RoaXMuZFVybH0vJHt0aGlzLmRhdGFMaXN0WzBdWydpZCddfWApO1xyXG4gICAgfVxyXG4gICAgLy8gUXVpY2sgY2hhbmdlXHJcbiAgICB0aGlzLmN1c3RvbVN0b3JlID0gbmV3IEN1c3RvbVN0b3JlKHtcclxuICAgICAgbG9hZDogX29wdHMgPT4ge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kYXRhTGlzdCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHRvdGFsQ291bnQ6IF9vcHRzID0+IHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudG90YWxDb3VudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBzcGxpdEdyaWRMaXN0KG9yZ0lEKSB7XHJcbiAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy50ZW1wTGlzdC5maWx0ZXIoZGF0YSA9PiBkYXRhLm9yZ2FuaXphdGlvbmlkKTtcclxuICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLnRlbXBMaXN0LmZpbHRlcihkYXRhID0+IGRhdGEub3JnYW5pemF0aW9uaWQgPT09IG9yZ0lELnZhbHVlKTtcclxuICAgIGlmICh0aGlzLnRlbXBMaXN0ICYmIHRoaXMudGVtcExpc3QubGVuZ3RoICYmIHRoaXMudGVtcExpc3RbMF0uZGlzcGxheW5hbWUgJiYgdGhpcy50ZW1wTGlzdFswXS51c2Vyd29ya2luZm8pIHtcclxuICAgICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMudGVtcExpc3QuZmlsdGVyKFxyXG4gICAgICAgIGRhdGEgPT4gZGF0YS51c2Vyd29ya2luZm8gJiYgZGF0YS51c2Vyd29ya2luZm9bMF0gJiYgZGF0YS51c2Vyd29ya2luZm9bMF0ub3JnYW5pemF0aW9uaWRcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMudGVtcExpc3QuZmlsdGVyKFxyXG4gICAgICAgIGRhdGEgPT4gZGF0YS51c2Vyd29ya2luZm8gJiYgZGF0YS51c2Vyd29ya2luZm9bMF0gJiYgZGF0YS51c2Vyd29ya2luZm9bMF0ub3JnYW5pemF0aW9uaWQgPT09IG9yZ0lELnZhbHVlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBpZiAoJ1NlbGVjdC1BTEwnID09PSBvcmdJRC52YWx1ZSkge1xyXG4gICAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy50ZW1wTGlzdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFJvdXRlcihkYXRhKSB7XHJcbiAgICB0aGlzLnJvdXRlVG8uZW1pdChkYXRhKTtcclxuICB9XHJcblxyXG4gIG5hdmlnYXRlTGluayhldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQgb3RoZXIgZXZlbnRzXHJcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XHJcbiAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdBJyAmJiB0YXJnZXQuaHJlZikge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMuZXh0cmFjdFVybCh0YXJnZXQub3V0ZXJIVE1MKTtcclxuICAgICAgdGhpcy5vbGRVcmwgPSB0aGlzLmV4dHJhY3RVcmwodGFyZ2V0Lm91dGVySFRNTCk7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZUlkID0gdGhpcy5leHRyYWN0SUQodGhpcy51cmwpO1xyXG4gICAgICBjb25zdCBpc051bWJlckNoZWNrID0gTnVtYmVyKGFjdGl2ZUlkKTtcclxuICAgICAgdGhpcy5jaGVja1BhZ2VJZChpc051bWJlckNoZWNrLCBhY3RpdmVJZCwgZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgY2hlY2tQYWdlSWQoaXNOdW1iZXJDaGVjaywgYWN0aXZlSWQsIGV2ZW50KSB7XHJcbiAgICBpZiAoaXNOdW1iZXJDaGVjaykge1xyXG4gICAgICBjb25zdCBtZW51cyA9IHRoaXMubG9jYWxzdG9yYWdlLmdldE9iaignTUVOVScpO1xyXG4gICAgICBjb25zdCBmaW5kTWVudSA9IG1lbnVzLmZpbmQoaXRlbSA9PiBpdGVtLm5hbWUgPT09ICdQYWdlcycpO1xyXG4gICAgICBjb25zdCBpc0V4aXN0cyA9IGZpbmRNZW51LnN1Ym1lbnUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT0gaXNOdW1iZXJDaGVjayk7XHJcbiAgICAgIGlmKGlzRXhpc3RzKXtcclxuICAgICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoYWN0aXZlSWQsIGlzRXhpc3RzLmFjdGl2ZVZlcnNpb24ucGFnZWlkKTtcclxuICAgICAgICB0aGlzLnJvdXRlRnVuY3Rpb24oaXNOdW1iZXJDaGVjaywgYWN0aXZlSWQsIGV2ZW50LCAnbWFpbk1lbnVXaXRoSWQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnJvdXRlRnVuY3Rpb24oaXNOdW1iZXJDaGVjaywgYWN0aXZlSWQsIGV2ZW50LCAnUGFnZXMnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yb3V0ZUZ1bmN0aW9uKGlzTnVtYmVyQ2hlY2ssIGFjdGl2ZUlkLCBldmVudCwgJ21haW5NZW51V2l0aFVSTCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcm91dGVGdW5jdGlvbihpc051bWJlckNoZWNrLCBhY3RpdmVJZCwgZXZlbnQsIG1lbnVUeXBlKXtcclxuICAgIGNvbnN0IG1lbnVzID0gdGhpcy5sb2NhbHN0b3JhZ2UuZ2V0T2JqKCdNRU5VJyk7XHJcbiAgICBjb25zdCBtYWluTWVudSA9IG1lbnVzLmZpbmQoaXRlbSA9PiBpdGVtLnJvdXRlID09PSB0aGlzLnVybCk7XHJcbiAgICBjb25zdCBtYWluTWVudVdpdGhVcmwgPSBtZW51cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICBpZih0aGlzLnVybC5lbmRzV2l0aChlbGVtZW50LnJvdXRlKSl7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBjb25zdCBtYWluTWVudVdpdGhVcmwgPSBtZW51cy5maW5kKGl0ZW0gPT4gdGhpcy51cmwuZW5kc1dpdGgoaXRlbS5yb3V0ZSkgPyBpdGVtIDogW10pXHJcbiAgICAvLyBjb25zdCBtYWluTWVudXMgPSBtZW51cy5maWx0ZXIoaXRlbSA9PiBpdGVtLnN1Ym1lbnUubGVuZ3RoID09IDApO1xyXG4gICAgY29uc3Qgc3VibWVudXMgPSBtZW51cy5maWx0ZXIoaXRlbSA9PiBpdGVtLnN1Ym1lbnUubGVuZ3RoID4gMCk7XHJcbiAgICBpZihtYWluTWVudVdpdGhVcmwpIHtcclxuICAgICAvLyB0aGlzLmFwcFNlcnZpY2UuYWRkVmFsdWUoJ0N1cnJlbnRQYWdlcycsIG1haW5NZW51V2l0aFVybCk7XHJcbiAgICAgIHRoaXMuYXV0aC5nZXRDdXJyZW50TWVudShtZW51cyk7XHJcbiAgICB9IGVsc2UgaWYobWFpbk1lbnUpe1xyXG4gICAgICBtZW51cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGlmKGVsZW1lbnQubmFtZSA9PT0gbWFpbk1lbnUubmFtZSl7XHJcbiAgICAgICAgICBlbGVtZW50LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW1lbnQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYoaXNOdW1iZXJDaGVjayl7XHJcbiAgICAgICAvLyB0aGlzLmFwcFNlcnZpY2UuYWRkVmFsdWUoJ2R5bmFtaWNQYWdlcycsIG1haW5NZW51KTtcclxuICAgICAgICB0aGlzLmF1dGguZ2V0Q3VycmVudE1lbnUobWVudXMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgLy8gdGhpcy5hcHBTZXJ2aWNlLmFkZFZhbHVlKCdjdXJyZW50UGFnZXMnLCBtYWluTWVudSk7XHJcbiAgICAgICAgdGhpcy5hdXRoLmdldEN1cnJlbnRNZW51KG1lbnVzKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWVudXMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZihlbGVtZW50LnN1Ym1lbnUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICBlbGVtZW50LnN1Ym1lbnUuZm9yRWFjaCgoZWxlbWVudDEsIGluZGV4MSkgPT4ge1xyXG4gICAgICAgICAgICBpZihlbGVtZW50MT8ucm91dGUgPT0gdGhpcy51cmwpe1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlKG1lbnVzLCBpbmRleCwgaW5kZXgxLCBpc051bWJlckNoZWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGVsZW1lbnQxPy5hY3RpdmVWZXJzaW9uPy5wYWdlaWQgPT0gYWN0aXZlSWQpe1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlKG1lbnVzLCBpbmRleCwgaW5kZXgxLCBpc051bWJlckNoZWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGVsZW1lbnQxPy5hY3RpdmVWZXJzaW9uPy5pZCA9PSBhY3RpdmVJZCl7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmUobWVudXMsIGluZGV4LCBpbmRleDEsIGlzTnVtYmVyQ2hlY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICBlbHNlIGlmKGVsZW1lbnQuc3VibWVudS5sZW5ndGggPiAwICYmIGVsZW1lbnQubmFtZSA9PSAnUGFnZXMnKXtcclxuICAgICAgICAvLyAgIGVsZW1lbnQuc3VibWVudS5mb3JFYWNoKChlbGVtZW50MSwgaW5kZXgxKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmKGVsZW1lbnQxPy5hY3RpdmVWZXJzaW9uPy5wYWdlaWQgPT0gYWN0aXZlSWQpe1xyXG4gICAgICAgIC8vICAgICAgIHRoaXMuc2V0QWN0aXZlKG1lbnVzLCBpbmRleCwgaW5kZXgxLCBpc051bWJlckNoZWNrKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodGhpcy5vbGRVcmwpO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIHNldEFjdGl2ZShtZW51czogYW55LCBtZW51SW5kZXgsIHN1Ym1lbnVJbmRleCwgaXNOdW1iZXJDaGVjayl7XHJcbiAgICBtZW51cy5tYXAoaXRlbSA9PiBpdGVtLmFjdGl2ZSA9IGZhbHNlKTtcclxuICAgIG1lbnVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIGVsZW1lbnQuc3VibWVudS5tYXAoaXRlbSA9PiBpdGVtLmFjdGl2ZSA9IGZhbHNlKTtcclxuICAgIH0pO1xyXG4gICAgaWYobWVudUluZGV4KXtcclxuICAgICAgbWVudXNbbWVudUluZGV4XS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICBpZihzdWJtZW51SW5kZXggPj0gMCkge1xyXG4gICAgICAgIG1lbnVzW21lbnVJbmRleF0uc3VibWVudVtzdWJtZW51SW5kZXhdLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWVudXNbbWVudUluZGV4XS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtZW51c1swXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gaWYoaXNOdW1iZXJDaGVjayl7XHJcbiAgICAvLyAgIHRoaXMuYXBwU2VydmljZS5hZGRWYWx1ZSgnZHluYW1pY1BhZ2VzJywgbWVudXNbbWVudUluZGV4XSk7XHJcbiAgICAvLyAgIHRoaXMuYXV0aC5nZXRDdXJyZW50TWVudShtZW51cyk7XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICB0aGlzLmFwcFNlcnZpY2UuYWRkVmFsdWUoJ2N1cnJlbnRQYWdlcycsIG1lbnVzW21lbnVJbmRleF0pO1xyXG4gICAgLy8gICB0aGlzLmF1dGguZ2V0Q3VycmVudE1lbnUobWVudXMpO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgZXh0cmFjdElEKHVybDogc3RyaW5nKXtcclxuICAgIGNvbnN0IHBhcnRzID0gdXJsLnNwbGl0KFwiL1wiKTsgXHJcbiAgICBjb25zdCBsYXN0SW5kZXggPSBwYXJ0cy5sZW5ndGggLSAxO1xyXG4gICAgY29uc3QgbGFzdElkID0gcGFydHNbbGFzdEluZGV4XTsgXHJcbiAgICByZXR1cm4gbGFzdElkO1xyXG4gIH1cclxuXHJcbiAgZXh0cmFjdFVybChodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJyk7XHJcbiAgICBjb25zdCBsaW5rID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcclxuICAgIHJldHVybiBsaW5rID8gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA6ICcnO1xyXG4gIH1cclxuXHJcbiAgcG9wdXAoZGF0YSkge1xyXG4gICAgdGhpcy5vcGVuUG9wdXAuZW1pdChkYXRhKTtcclxuICB9XHJcblxyXG4gIGRvd25sb2FkRGF0YShldnQpIHtcclxuICAgIHRoaXMuZG93bmxvYWRUYWJsZVJvdy5lbWl0KGV2dCk7XHJcbiAgfVxyXG4gIGVkaXREYXRhKGV2dCkge1xyXG4gICAgdGhpcy5lZGl0VGFibGVSb3cuZW1pdChldnQpO1xyXG4gIH1cclxuICB2aWV3RGF0YShldnQpIHtcclxuICAgIHRoaXMudmlld1RhYmxlUm93LmVtaXQoZXZ0KTtcclxuICB9XHJcbiAgdmlld1ZlcnNpb24oZXZ0KSB7XHJcbiAgICB0aGlzLnZpZXdWZXJzaW9ucy5lbWl0KGV2dCk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZVBhZ2VWZXJzaW9uKGV2dCkge1xyXG4gICAgdGhpcy5hY3RpdmF0ZVZlcnNpb24uZW1pdChldnQpO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVQYWdlcyhldnQpIHtcclxuICAgIHRoaXMuYWN0aXZhdGVQYWdlLmVtaXQoZXZ0KTtcclxuICB9XHJcbiAgZGVhY3RpdmF0ZVBhZ2VzKGV2dCkge1xyXG4gICAgdGhpcy5kZWFjdGl2YXRlUGFnZS5lbWl0KGV2dCk7XHJcbiAgfVxyXG4gIGRlbGV0ZURhdGEoZXZ0KSB7XHJcbiAgICB0aGlzLmRlbGV0ZVRhYmxlUm93LmVtaXQoZXZ0KTtcclxuICB9XHJcbiAgb3BlbkxpbmsoZXZ0KSB7XHJcbiAgICB0aGlzLm9wZW5FeHRlcm5hbExpbmsuZW1pdChldnQpO1xyXG4gIH1cclxuICBvcGVuUG9wdXBMaW5rKGV2dCkge1xyXG4gICAgdGhpcy5vcGVucG9wdXBMaW5rLmVtaXQoZXZ0KTtcclxuICB9XHJcbiAgYWN0aXZlVXNlcihldnQpIHtcclxuICAgIHRoaXMudG9nZ2xlUm93LmVtaXQoZXZ0KTtcclxuICB9XHJcbiAgZHVwbGljYXRlRGF0ZShldnQpIHtcclxuICAgIHRoaXMuZHVwbGljYXRlUm93LmVtaXQoZXZ0KTtcclxuICB9XHJcbiAgZHVwbGljYXRlVmVyc2lvbihldnQpIHtcclxuICAgIHRoaXMuZHVwbGljYXRlUGFnZVZlcnNpb24uZW1pdChldnQpO1xyXG4gIH1cclxuXHJcbiAgb25DZWxsUHJlcGFyZWQoZSkge1xyXG4gICAgaWYgKGUucm93VHlwZSA9PSAnZGF0YScgJiYgZS5kYXRhLmlzYWN0aXZlKSB7XHJcbiAgICAgIGlmIChlLmNvbHVtbi5kYXRhRmllbGQgPT09ICd2ZXJzaW9uJykge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLmNlbGxFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGxpdmV0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdsaXZlLXRkJyk7XHJcbiAgICAgICAgbGl2ZXRleHQuY2xhc3NMaXN0LmFkZCgnbGl2ZS1ncm91cCcpO1xyXG4gICAgICAgIGxpdmV0ZXh0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwibGl2ZS10ZXh0XCI+TGl2ZTwvZGl2Pic7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChsaXZldGV4dCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5jb2x1bW4uZGF0YUZpZWxkID09PSAndGVtcGxhdGVuYW1lJykge1xyXG4gICAgICAgIHRoaXMuZXhwb3J0UGFnZU5hbWUgPSBlLnZhbHVlLmluY2x1ZGVzKCdfJykgPyBlLnZhbHVlLnNwbGl0KCdfJylbMF0gOiBlLnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uRXhwb3J0aW5nKGUpIHtcclxuICAgIGNvbnN0IHBhZ2VOYW1lID0gdGhpcy5sb2NhbHN0b3JhZ2UuZ2V0T2JqKCdGSUxFIEVYUE9SVCBOQU1FJyk7XHJcbiAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG4gICAgbGV0IGZpbGVOYW1lOiBzdHJpbmc7XHJcbiAgICBpZiAocGFnZU5hbWUpIHtcclxuICAgICAgZmlsZU5hbWUgPSBgJHtwYWdlTmFtZX0gVmVyc2lvbnMgJHtjdXJyZW50RGF0ZX1gO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmV4cG9ydFBhZ2VOYW1lKSB7XHJcbiAgICAgIGZpbGVOYW1lID0gYCR7dGhpcy5leHBvcnRQYWdlTmFtZX0tJHtjdXJyZW50RGF0ZX1gO1xyXG4gICAgICBpZiAodGhpcy5leHBvcnRQYWdlTmFtZSA9PT0gJ3ZlcnNpb24nKSBmaWxlTmFtZSA9IGAke3RoaXMuZXhwb3J0UGFnZU5hbWV9LSR7Y3VycmVudERhdGV9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZpbGVOYW1lID0gYER5bmFtaWMtUGFnZXMgJHtjdXJyZW50RGF0ZX1gO1xyXG4gICAgfVxyXG4gICAgZS5jb21wb25lbnQuY29sdW1uT3B0aW9uKCdBY3Rpb24nLCAndmlzaWJsZScsIGZhbHNlKTtcclxuICAgIGlmIChlLmZvcm1hdCA9PT0gJ3BkZicpIHtcclxuICAgICAgY29uc3QgZG9jID0gbmV3IGpzUERGLmpzUERGKCk7XHJcbiAgICAgIGV4cG9ydERhdGFHcmlkVG9QZGYoe1xyXG4gICAgICAgIGpzUERGRG9jdW1lbnQ6IGRvYyxcclxuICAgICAgICBjb21wb25lbnQ6IGUuY29tcG9uZW50LFxyXG4gICAgICAgIGN1c3RvbWl6ZUNlbGw6IGdyaWQgPT4ge1xyXG4gICAgICAgICAgZ3JpZC5wZGZDZWxsLndvcmRXcmFwRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICBkb2Muc2F2ZShgJHtmaWxlTmFtZX0ucGRmYCk7XHJcbiAgICAgICAgZS5jb21wb25lbnQuY29sdW1uT3B0aW9uKCdBY3Rpb24nLCAndmlzaWJsZScsIHRydWUpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoZS5mb3JtYXQgPT09ICd4bHN4Jykge1xyXG4gICAgICBlLmZpbGVOYW1lID0gZmlsZU5hbWU7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGUuY29tcG9uZW50LmNvbHVtbk9wdGlvbignQWN0aW9uJywgJ3Zpc2libGUnLCB0cnVlKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzbG9ja2VkKGdyaWQsIHVzZXIpIHtcclxuICAgIGlmIChncmlkLmxvY2sgJiYgdXNlci5sb2NrZWQpIHtcclxuICAgICAgaWYgKE51bWJlcih1c2VyLmxvY2tlZGJ5KSA9PT0gTnVtYmVyKHRoaXMudXNlcklkKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldERhdGVGb3JtYXQodmFsdWU6IGFueSkge1xyXG4gICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uSW5mbykge1xyXG4gICAgICBpZiAodmFsdWUgPT09ICdkYXRlJykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJhdGlvbkluZm9bJ2RhdGV0aW1lZm9ybWF0J10uc3BsaXQoJyAnKVswXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5yZWdpc3RyYXRpb25JbmZvWydkYXRldGltZWZvcm1hdCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdNTS9kZC95eXl5JztcclxuICB9XHJcbn1cclxuIiwiPGR4LWRhdGEtZ3JpZFxyXG4gICAgICAgICAgaWQ9XCJncmlkQ29udGFpbmVyXCJcclxuICAgICAgICAgIFtkYXRhU291cmNlXT1cImN1c3RvbVN0b3JlXCJcclxuICAgICAgICAgIFthbGxvd0NvbHVtblJlb3JkZXJpbmddPVwidHJ1ZVwiXHJcbiAgICAgICAgICBbYWxsb3dDb2x1bW5SZXNpemluZ109XCJ0cnVlXCJcclxuICAgICAgICAgIFtjb2x1bW5BdXRvV2lkdGhdPVwidHJ1ZVwiXHJcbiAgICAgICAgICBbY29sdW1uTWluV2lkdGhdPVwiMTAwXCJcclxuICAgICAgICAgIFt3aWR0aF09XCInMTAwJSdcIlxyXG4gICAgICAgICAgW2NvbHVtblJlc2l6aW5nTW9kZV09XCInd2lkZ2V0J1wiXHJcbiAgICAgICAgICBbc2hvd0JvcmRlcnNdPVwidHJ1ZVwiXHJcbiAgICAgICAgICBbcm93QWx0ZXJuYXRpb25FbmFibGVkXT1cInRydWVcIlxyXG4gICAgICAgICAgW3Nob3dDb2x1bW5MaW5lc109XCJ0cnVlXCJcclxuICAgICAgICAgIFtzaG93Um93TGluZXNdPVwiZmFsc2VcIlxyXG4gICAgICAgICAgW2ZpbHRlclZhbHVlXT1cImZpbHRlclZhbHVlXCJcclxuICAgICAgICAgIChvbkNlbGxQcmVwYXJlZCk9XCJvbkNlbGxQcmVwYXJlZCgkZXZlbnQpXCJcclxuICAgICAgICAgIChvbkV4cG9ydGluZyk9XCJvbkV4cG9ydGluZygkZXZlbnQpXCJcclxuICAgICAgICAgIFtyZW1vdGVPcGVyYXRpb25zXT1cInsgZmlsdGVyaW5nOiB0cnVlLCBzb3J0aW5nOiB0cnVlLCBwYWdpbmc6IHRydWUgfVwiXHJcbiAgICAgICAgICAjZGF0YUdyaWQ+XHJcbiAgICAgICAgICA8ZHhvLWxvYWQtcGFuZWwgW2VuYWJsZWRdPVwiZmFsc2VcIj48L2R4by1sb2FkLXBhbmVsPlxyXG4gICAgICAgICAgPGR4by1leHBvcnQgW2VuYWJsZWRdPVwidHJ1ZVwiIFtmb3JtYXRzXT1cIlsncGRmJywgJ3hsc3gnXVwiPjwvZHhvLWV4cG9ydD5cclxuICAgICAgICAgIDxkeG8tZmlsdGVyLXBhbmVsIFt2aXNpYmxlXT1cImZhbHNlXCI+PC9keG8tZmlsdGVyLXBhbmVsPlxyXG4gICAgICAgICAgPGR4by1wYWdpbmcgW3BhZ2VTaXplXT1cIjEwXCI+PC9keG8tcGFnaW5nPlxyXG4gICAgICAgICAgPGR4by1wYWdlclxyXG4gICAgICAgICAgICBbdmlzaWJsZV09XCJ0cnVlXCJcclxuICAgICAgICAgICAgW2FsbG93ZWRQYWdlU2l6ZXNdPVwiWzUsIDEwLCAxNSwgMjBdXCJcclxuICAgICAgICAgICAgW2Rpc3BsYXlNb2RlXT1cImRpc3BsYXlNb2RlXCJcclxuICAgICAgICAgICAgW3Nob3dQYWdlU2l6ZVNlbGVjdG9yXT1cInRydWVcIlxyXG4gICAgICAgICAgICBbc2hvd0luZm9dPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgIFtzaG93TmF2aWdhdGlvbkJ1dHRvbnNdPVwidHJ1ZVwiPjwvZHhvLXBhZ2VyPlxyXG4gICAgICAgICAgPCEtLWVuZCBwYWdpbmF0aW9uLS0+XHJcbiAgICAgICAgICA8ZHhvLWZpbHRlci1idWlsZGVyIFtjdXN0b21PcGVyYXRpb25zXT1cImN1c3RvbU9wZXJhdGlvbnNcIj4gPC9keG8tZmlsdGVyLWJ1aWxkZXI+XHJcbiAgICAgICAgICA8ZHhvLWZpbHRlci1idWlsZGVyLXBvcHVwIFtwb3NpdGlvbl09XCJwb3B1cFBvc2l0aW9uXCI+IDwvZHhvLWZpbHRlci1idWlsZGVyLXBvcHVwPlxyXG4gICAgICAgICAgPGR4by1maWx0ZXItcm93IFt2aXNpYmxlXT1cInRydWVcIj48L2R4by1maWx0ZXItcm93PlxyXG4gICAgICAgICAgPGR4by1oZWFkZXItZmlsdGVyIFt2aXNpYmxlXT1cInRydWVcIj48L2R4by1oZWFkZXItZmlsdGVyPlxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnM7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5oaWRlICE9PSB0cnVlXCI+XHJcbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5saW5rOyBlbHNlIG5vTGlua1wiPlxyXG4gICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW2RhdGFGaWVsZF09XCJjb2x1bW4uY29sdW1uRGVmXCIgW2NhcHRpb25dPVwiY29sdW1uLmhlYWRlclwiIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4uZmlsdGVyXCJcclxuICAgICAgICAgICAgICAgICAgY2VsbFRlbXBsYXRlPVwiY2VsbFRlbXBsYXRlXCI+PC9keGktY29sdW1uPlxyXG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbm9MaW5rPlxyXG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5pY29uOyBlbHNlIG5vSWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbZGF0YUZpZWxkXT1cImNvbHVtbi5jb2x1bW5EZWZcIiBbY2FwdGlvbl09XCJjb2x1bW4uaGVhZGVyXCIgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbi5maWx0ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNlbGxUZW1wbGF0ZT1cImljb25UZW1wbGF0ZVwiPjwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub0ljb24+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLmRhdGVGb3JtYXQ7IGVsc2Ugbm9EYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkeGktY29sdW1uICpuZ0lmPVwiY29sdW1uLmRhdGVGb3JtYXQgPT09ICdkYXRlJyB8fCBjb2x1bW4uZGF0ZUZvcm1hdCA9PT0gJ2RhdGV0aW1lJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4uY29sdW1uRGVmXCIgW2NhcHRpb25dPVwiY29sdW1uLmhlYWRlclwiIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4uZmlsdGVyXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZT1cImRhdGV0aW1lXCIgW2Zvcm1hdF09XCJnZXREYXRlRm9ybWF0KGNvbHVtbi5kYXRlRm9ybWF0KVwiPlxyXG4gICAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbm9EYXRlPlxyXG4gICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW2RhdGFGaWVsZF09XCJjb2x1bW4uY29sdW1uRGVmXCIgW2NhcHRpb25dPVwiY29sdW1uLmhlYWRlclwiIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4uZmlsdGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJcclxuICAgICAgICAgICAgICB1cGRhdGVHcmlkICYmXHJcbiAgICAgICAgICAgICAgKHVwZGF0ZUdyaWQ/LmV4dGVybmFsTGluayB8fFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8ub3BlblBvcHVwIHx8XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5lZGl0IHx8XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5kZWxldGUgfHxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmRlbGV0ZSB8fFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZG93bmxvYWQgfHxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmFjdGl2YXRlUGFnZSB8fFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZGVhY3RpdmF0ZVBhZ2UpXCI+XHJcbiAgICAgICAgICAgIDxkeGktY29sdW1uIFt3aWR0aF09XCIxMDBcIiBbYWxsb3dGaWx0ZXJpbmddPVwiZmFsc2VcIiBbYWxsb3dTb3J0aW5nXT1cImZhbHNlXCIgY2FwdGlvbj1cIkFjdGlvblwiXHJcbiAgICAgICAgICAgICAgY2VsbFRlbXBsYXRlPVwiZWRpdENlbGxUZW1wbGF0ZVwiPjwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1pY29uc1wiICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2VkaXRDZWxsVGVtcGxhdGUnXCI+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZXh0ZXJuYWxMaW5rXCIgY2xhc3M9XCJuby1iZ1wiIG1hdFRvb2x0aXA9XCJPcGVuXCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJvcGVuTGluayhkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZXh0ZXJuYWwtbGlua1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/Lm9wZW5Qb3B1cFwiIGNsYXNzPVwibm8tYmdcIiBtYXRUb29sdGlwPVwiT3BlblwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwib3BlblBvcHVwTGluayhkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtbmV3c3BhcGVyLW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5kb3dubG9hZFwiIGNsYXNzPVwibm8tYmdcIiBtYXRUb29sdGlwPVwiRG93bmxvYWRcIlxyXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cImRvd25sb2FkRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZG93bmxvYWRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5lZGl0ICYmIHNob3dWZXJzaW9ucyAmJiAhZC5kYXRhLnB1Ymxpc2hlZFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cIm5vLWJnIG1yLTJcIiBtYXRUb29sdGlwPVwiRWRpdFwiIChjbGljayk9XCJlZGl0RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+RWRpdDwvc3Bhbj48L2VtPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Vmlldzwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZWRpdFJlY29yZFwiIGNsYXNzPVwibm8tYmcgbXItMlwiIG1hdFRvb2x0aXA9XCJFZGl0XCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJlZGl0RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+RWRpdDwvc3Bhbj48L2VtPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Vmlldzwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZHVwbGljYXRlICYmICFzaG93VmVyc2lvbnNcIiBjbGFzcz1cIm5vLWJnIG1yLTJcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIkNvcHlcIiAoY2xpY2spPVwiZHVwbGljYXRlRGF0ZShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtY29weVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGZpZWxkS2V5PVwiUEFHX0RFU19HUklEX0xJU1RfQ09QWVwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Db3B5PC9zcGFuPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/LmR1cGxpY2F0ZSAmJiBzaG93VmVyc2lvbnNcIiBjbGFzcz1cIm5vLWJnIG1yLTJcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIkNvcHkgVmVyc2lvblwiIChjbGljayk9XCJkdXBsaWNhdGVWZXJzaW9uKGQpXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1jb3B5XCIgKnNob3dGaWVsZD1cIidQQUdfREVTX0dSSURfTElTVF9WRVJTSU9OJ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzci1vbmx5XCI+Q29weSBWZXJzaW9uPC9zcGFuPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/LnZpZXcgJiYgc2hvd1ZlcnNpb25zXCIgY2xhc3M9XCJuby1iZyBtci0yXCIgbWF0VG9vbHRpcD1cIlZpZXdcIlxyXG4gICAgICAgICAgICAgICAgZmllbGRLZXk9XCJQQUdfREVTX0dSSURfTElTVF9WRVJTSU9OXCIgKGNsaWNrKT1cInZpZXdEYXRhKGQpXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1leWVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5WaWV3PC9zcGFuPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/LnZpZXdSZWNvcmRcIiBjbGFzcz1cIm5vLWJnIG1yLTJcIiBtYXRUb29sdGlwPVwiVmlld1wiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwidmlld0RhdGEoZClcIj5cclxuICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWV5ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPlZpZXc8L3NwYW4+PC9lbT5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZW1haWx2aWV3ICYmIHNob3dWZXJzaW9uc1wiIGNsYXNzPVwibm8tYmcgbXItMlwiXHJcbiAgICAgICAgICAgICAgICBtYXRUb29sdGlwPVwiUHJldmlld1wiIChjbGljayk9XCJ2aWV3RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZXllXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Vmlldzwvc3Bhbj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGU9XCJ2aWV3XCJcclxuICAgICAgICAgICAgICAgICpuZ0lmPVwidXBkYXRlR3JpZD8udmVyc2lvbiAmJiAhc2hvd1ZlcnNpb25zICYmIGlzbG9ja2VkKHVwZGF0ZUdyaWQsIGQuZGF0YSlcIiBjbGFzcz1cIm5vLWJnXCJcclxuICAgICAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJWZXJzaW9uc1wiIChjbGljayk9XCJ2aWV3VmVyc2lvbihkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtY29kZS1mb3JrXCIgdGl0bGU9XCJWaWV3XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9lbT5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwiIWQuZGF0YS5pc0VuYWJsZSAmJiB1cGRhdGVHcmlkPy5hY3RpdmF0ZVBhZ2VcIiBjbGFzcz1cIm5vLWJnIG1sLTJcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIkFjdGl2YXRlXCIgKGNsaWNrKT1cImFjdGl2YXRlUGFnZXMoZClcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBhY3RpdmF0ZVwiPmNoZWNrPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuXHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwiZC5kYXRhLmlzRW5hYmxlICYmIHVwZGF0ZUdyaWQ/LmRlYWN0aXZhdGVQYWdlXCIgY2xhc3M9XCJuby1iZyBtbC0yXCJcclxuICAgICAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJEZWFjdGl2YXRlXCIgKGNsaWNrKT1cImRlYWN0aXZhdGVQYWdlcyhkKVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGRlYWN0aXZhdGVcIj5jbG9zZTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwic2hvd1ZlcnNpb25zICYmICFkLmRhdGEuaXNhY3RpdmUgJiYgZC5kYXRhLnB1Ymxpc2hlZFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cIm5vLWJnIG1yLTJcIiBtYXRUb29sdGlwPVwiQWN0aXZhdGVcIiAoY2xpY2spPVwiYWN0aXZhdGVQYWdlVmVyc2lvbihkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtY2hlY2stY2lyY2xlLW9cIiAqc2hvd0ZpZWxkPVwiJ1BBR19ERVNfR1JJRF9MSVNUX0FDVElWQVRFJ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzci1vbmx5XCI+QWN0aXZhdGU8L3NwYW4+PC9lbT5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPlZpZXc8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwic2hvd1ZlcnNpb25zICYmICFkLmRhdGEuaXNhY3RpdmUgJiYgIWQuZGF0YS5wdWJsaXNoZWRcIiBjbGFzcz1cIm5vLWJnIG1yLTJcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIlRoaXMgdmVyc2lvbiBpcyBub3QgcHVibGlzaGVkXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSB0ZXh0LXdhcm5pbmdcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5UaGlzXHJcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiBpcyBub3QgcHVibGlzaGVkPC9zcGFuPjwvZW0+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5WaWV3PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5sb2NrICYmIGQuZGF0YS5sb2NrZWRcIiAoY2xpY2spPVwiY2hlY2sodXBkYXRlR3JpZCwgZClcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJuby1iZyBtbC0yXCIgbWF0VG9vbHRpcD1cIkxvY2tlZCBCeSAtIHt7IGQ/LmRhdGE/LmxvY2tlZGJ5VXNlcj8uZmlyc3RuYW1lIH19XCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gKm5nSWY9XCJ1cGRhdGVHcmlkPy5sb2NrICYmIGQuZGF0YS5sb2NrZWRcIiBjbGFzcz1cImZhIGZhLWxvY2tcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5kZWxldGVcIiBjbGFzcz1cIm5vLWJnXCIgbWF0VG9vbHRpcD1cIkRlbGV0ZVwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy50b2dnbGVcIiBjbGFzcz1cIm5vLWJnXCJcclxuICAgICAgICAgICAgICAgIFttYXRUb29sdGlwXT1cImQuZGF0YS5pc2FjdGl2ZSA9PT0gdHJ1ZSA/ICdEZWFjdGl2YXRlJyA6ICdBY3RpdmF0ZSdcIiAoY2xpY2spPVwiYWN0aXZlVXNlcihkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtICpuZ0lmPVwidXBkYXRlR3JpZD8udG9nZ2xlICYmIGQuZGF0YS5pc2FjdGl2ZSA9PT0gdHJ1ZVwiIGNsYXNzPVwiZmEgZmEtdG9nZ2xlLW9uXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LnRvZ2dsZSAmJiBkLmRhdGEuaXNhY3RpdmUgPT09IGZhbHNlXCIgY2xhc3M9XCJmYSBmYS10b2dnbGUtb2ZmXCI+PC9lbT5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uYWN0aXZlb3JkZWFjdGl2ZVwiIGNsYXNzPVwibm8tYmdcIiAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtICpuZ0lmPVwidXBkYXRlR3JpZD8uYWN0aXZlb3JkZWFjdGl2ZSAmJiBkLmRhdGEuYWN0aXZlZmxhZyA9PT0gMVwiIGNsYXNzPVwiZmEgZmEtdG9nZ2xlLW9uXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmFjdGl2ZW9yZGVhY3RpdmUgJiYgZC5kYXRhLmFjdGl2ZWZsYWcgPT09IDBcIiBjbGFzcz1cImZhIGZhLXRvZ2dsZS1vZmZcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2NlbGxUZW1wbGF0ZSdcIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwiZC52YWx1ZSAmJiBkLnZhbHVlICE9PSAnbnVsbCdcIiAoY2xpY2spPVwiZ2V0Um91dGVyKGQpXCI+e3tcclxuICAgICAgICAgICAgICBkLnZhbHVlICE9PSAnbnVsbCcgPyBkLnZhbHVlIDogJydcclxuICAgICAgICAgICAgICB9fTwvYT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPCEtLSA8bmctY29udGFpbmVyICpuZ0lmPVwidXBkYXRlR3JpZC5saW5rVmlzaWJsZVwiPlxyXG4gICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2NlbGxUZW1wbGF0ZSdcIiAgKGNsaWNrKT1cIm5hdmlnYXRlTGluaygkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgPGEgKm5nSWY9XCJkLnZhbHVlICYmIGQudmFsdWUgIT09ICdudWxsJ1wiIFtpbm5lckhUTUxdPVwiZC52YWx1ZSB8IHNhZmVIdG1sXCI+e3tcclxuICAgICAgICAgICAgICAgIGQudmFsdWUgIT09ICdudWxsJyA/IGQudmFsdWUgOiAnJ1xyXG4gICAgICAgICAgICAgIH19PC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvbmctY29udGFpbmVyPiAtLT5cclxuICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnaWNvblRlbXBsYXRlJ1wiPlxyXG4gICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1ib29rXCIgKGNsaWNrKT1cInBvcHVwKGQudmFsdWUpXCI+PC9lbT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZHgtZGF0YS1ncmlkPiJdfQ==