import { Component, EventEmitter, Output, Input, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import { Subject } from 'rxjs';
import { LocalService } from '../@core/service/local.service';
import { ProfileService } from '../@core/service/profile.service';
import { AppService } from '../@core/service/app.service';
import { select } from '@ngrx/store';
import { MessageService, PrimeNGConfig } from 'primeng/api';
import { ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';
import { selectAuth } from '../@core/service/auth.selectors';
import { AppConstants } from '../@core/constants/app-constants';
import { filter, takeUntil } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@ngrx/store";
import * as i2 from "@angular/router";
import * as i3 from "@angular/forms";
import * as i4 from "@ng-bootstrap/ng-bootstrap";
import * as i5 from "../@core/service/alert.service";
import * as i6 from "../@core/service/auth.service";
import * as i7 from "../@shared/alert/alert.component";
import * as i8 from "primeng/checkbox";
import * as i9 from "primeng/button";
import * as i10 from "@angular/common";
export class LoginComponent {
    constructor(injector, store$, _router, fb, modalService, alertService, authService, route) {
        this.store$ = store$;
        this._router = _router;
        this.fb = fb;
        this.modalService = modalService;
        this.alertService = alertService;
        this.authService = authService;
        this.route = route;
        this.passwordExpired = new EventEmitter();
        this.loginSuccessful = new EventEmitter();
        this.cities = [];
        this.destory$ = new Subject();
        this.closeResult = '';
        this.DEFAULT_PASSWORD_RESET = 'TEMP_PASSWORD_RESET';
        this.profileService = injector.get(ProfileService);
        this.localstorage = injector.get(LocalService);
        this.primengConfig = injector.get(PrimeNGConfig);
        this.appService = injector.get(AppService);
        this.submitStatus = 'LOGIN';
        this.disabledLoginPage = false;
    }
    ngOnInit() {
        sessionStorage.clear();
        localStorage.clear();
        this.initializeForm();
        this.getSessionDetails();
        this.primengConfig.ripple = true;
        this.isAuthenticated$ = this.store$.pipe(select(selectAuth));
        this.isAuthenticated$.subscribe((res) => {
            if (res.isAuthenticated) {
                const routeToAdmin = res.pages.some(a => a.name === 'Application Management');
                if ((res === null || res === void 0 ? void 0 : res.action) === this.DEFAULT_PASSWORD_RESET) {
                    const query = {
                        queryParams: {
                            isTempPassword: res.action === this.DEFAULT_PASSWORD_RESET,
                            email: this.loginForm.value.email.trim()
                        }
                    };
                    this._router.navigate(['/auth/change-password', query]);
                }
                else if (routeToAdmin) {
                    this._router.navigate(['/pages/rbac']);
                }
                else {
                    this._router.navigate(['/pages/page-design/list']);
                }
            }
        }, err => {
            var _a, _b, _c, _d;
            console.log(err);
            if (err.error) {
                if (((_b = (_a = err === null || err === void 0 ? void 0 : err.error) === null || _a === void 0 ? void 0 : _a.errors) === null || _b === void 0 ? void 0 : _b.code) === 'NotAuthorizedException' || ((_d = (_c = err === null || err === void 0 ? void 0 : err.error) === null || _c === void 0 ? void 0 : _c.errors) === null || _d === void 0 ? void 0 : _d.email) === 'notFound') {
                    this.alertService.error('Invalid Credentials');
                }
                else {
                    this.alertService.error('System Error, Please try after sometime');
                }
            }
            this.submitStatus = 'LOGIN';
            this.submitSecretStatus = 'Submit Secret Code';
        });
        this.route.queryParams.pipe(takeUntil(this.destory$), filter((params) => !!params.email)).subscribe((params) => {
            this.loginForm.patchValue({
                email: params.email,
            });
        });
    }
    ngOnDestroy() {
        this.destory$.next();
        this.destory$.complete();
    }
    initializeForm() {
        this.loginForm = this.fb.group({
            email: ['', [Validators.required, Validators.pattern(AppConstants.regexEmail)]],
            password: ['', Validators.required],
            conditions: ['', Validators.required]
        });
    }
    initializeOtpForm() {
        this.otpForm = this.fb.group({
            otp: ['', Validators.required]
        });
    }
    open(content) {
        this.modalService.open(content, { size: 'lg', backdrop: 'static' }).result.then(result => {
            this.closeResult = `Closed with: ${result}`;
        }, reason => {
            this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;
        });
    }
    getDismissReason(reason) {
        if (reason === ModalDismissReasons.ESC) {
            return 'by pressing ESC';
        }
        else if (reason === ModalDismissReasons.BACKDROP_CLICK) {
            return 'by clicking on a backdrop';
        }
        else {
            return `with: ${reason}`;
        }
    }
    login(otp) {
        this.submitStatus = 'Please wait ...';
        this.submitSecretStatus = 'Please wait ...';
        this.errorStatus = '';
        const loginform = this.loginForm.getRawValue();
        this.authService.login(loginform.email, loginform.password, otp).subscribe((res) => {
            var _a, _b;
            if (res) {
                console.log(res);
                if (res === 'MFA_CODE_SEND') {
                    console.log('Request MFA Code...');
                    this.isOtpSent = true;
                    this.initializeOtpForm();
                    this.submitSecretStatus = 'Submit Secret Code';
                    return;
                }
                else if (((_a = res === null || res === void 0 ? void 0 : res.data) === null || _a === void 0 ? void 0 : _a.action) === AppConstants.tempPasswordReset) {
                    const queryParams = {
                        isTempPassword: true,
                    };
                    this._router.navigate(['/change-password'], { queryParams });
                }
                else if (((_b = res === null || res === void 0 ? void 0 : res.data) === null || _b === void 0 ? void 0 : _b.action) === AppConstants.passwordExpired) {
                    this.passwordExpired.emit('change-password');
                    this._router.navigate(['/change-password']);
                }
                else {
                    if (this.LOGININFO.DONT_GET_USERINFO) {
                        this.loginSuccessful.emit(res[0]);
                    }
                    else {
                        this.getUserInfo();
                    }
                }
            }
        }, error => {
            var _a, _b, _c, _d, _e, _f, _g;
            console.log(error);
            if (error.error) {
                if (((_b = (_a = error === null || error === void 0 ? void 0 : error.error) === null || _a === void 0 ? void 0 : _a.errors) === null || _b === void 0 ? void 0 : _b.code) === 'NotAuthorizedException' || ((_d = (_c = error === null || error === void 0 ? void 0 : error.error) === null || _c === void 0 ? void 0 : _c.errors) === null || _d === void 0 ? void 0 : _d.email) === 'Not Found') {
                    this.alertService.error(((_e = error === null || error === void 0 ? void 0 : error.error) === null || _e === void 0 ? void 0 : _e.message) || 'Invalid Email or Password');
                }
                else
                    this.alertService.error(((_f = error === null || error === void 0 ? void 0 : error.error) === null || _f === void 0 ? void 0 : _f.error) || 'Invalid Email or Password');
            }
            else {
                this.alertService.error(((_g = error === null || error === void 0 ? void 0 : error.error) === null || _g === void 0 ? void 0 : _g.error) || 'Invalid Email or Password');
            }
            this.submitStatus = 'LOGIN';
        });
    }
    sendOtp() {
        const otpFormDetails = this.otpForm.getRawValue();
        this.login(otpFormDetails.otp);
    }
    toggleShow() {
        this.show = !this.show;
        if (this.show) {
            this.input.nativeElement.type = 'text';
        }
        else {
            this.input.nativeElement.type = 'password';
        }
    }
    routeToChangePassword() {
        this._router.navigate(['/forgot-password']);
    }
    getUserInfo() {
        this.authService.getAuthMe().subscribe((res) => {
            if (res.data) {
                sessionStorage.setItem('orgid', res.data.organizationid);
                this.authService.getUserRole(res.data.id).subscribe(userInfo => {
                    if (userInfo) {
                        this.profileService.setUserPreference();
                        sessionStorage.setItem('user', JSON.stringify(userInfo.data));
                        const landingPage = userInfo.data.userroles[0].defaultpage;
                        sessionStorage.setItem('currentPage', JSON.stringify(landingPage));
                        this.appService.addValue('currentPage', landingPage);
                        this.routeToDynamicPage(landingPage);
                    }
                });
            }
        }, error => {
            console.log(error);
        });
    }
    routeToDynamicPage(landingPage) {
        const orgid = sessionStorage.getItem('orgid');
        if (landingPage.route.includes('dynamic-search/search')) {
            const pageId = landingPage.route.split('/')[4];
            if (pageId) {
                this.authService.checkDynamicPagePermission(pageId);
            }
            else {
                this.authService.routeToDynamicPage(orgid).subscribe(res => {
                    var _a, _b, _c;
                    if (res && res.data.length) {
                        const authorisedPages = (_a = res === null || res === void 0 ? void 0 : res.data) === null || _a === void 0 ? void 0 : _a.filter(a => { var _a; return (_a = a === null || a === void 0 ? void 0 : a.activeVersion) === null || _a === void 0 ? void 0 : _a.gridconfig; });
                        this.localstorage.setItem('selectedDynamicPage', (_c = (_b = authorisedPages[0]) === null || _b === void 0 ? void 0 : _b.activeVersion) === null || _c === void 0 ? void 0 : _c.id);
                        this.conditionAuthorisedPages(authorisedPages);
                    }
                    else {
                        this.alertService.error('You don\'t have permissions to perform the following operations .Please Contact Administrator');
                    }
                });
            }
        }
        else {
            const landingPageRoute = `pages${landingPage === null || landingPage === void 0 ? void 0 : landingPage.route}`;
            this._router.navigate([landingPageRoute]);
            this.localstorage.setItem('dashboardRoute', landingPageRoute);
        }
    }
    conditionAuthorisedPages(authorisedPages) {
        var _a, _b, _c, _d;
        if (authorisedPages && authorisedPages.length && ((_b = (_a = authorisedPages[0]) === null || _a === void 0 ? void 0 : _a.activeVersion) === null || _b === void 0 ? void 0 : _b.gridconfig)) {
            const gridPageRoute = `pages/dynamic-search/search/${(_d = (_c = authorisedPages[0]) === null || _c === void 0 ? void 0 : _c.activeVersion) === null || _d === void 0 ? void 0 : _d.id}`;
            this._router.navigate([gridPageRoute]);
            this.localstorage.setItem('dashboardRoute', gridPageRoute);
        }
    }
    gotoRegistrationPage(userType) {
        this._router.navigate(['./registration/', userType]);
    }
    getSessionDetails() {
        let getToken = window.location.hash;
        if (getToken.includes('#state=')) {
            const currentUrl = new URL(window.location.href.replace(/#/g, "?"));
            const stateKey = currentUrl.searchParams.get("state");
            const authCode = currentUrl.searchParams.get("code");
            const token = currentUrl.searchParams.get("id_token");
            let requestObject = {
                key: stateKey,
                code: authCode
            };
            this.authService.validateToken(token, requestObject).subscribe((res) => {
                if (res) {
                    this.getUserInfo();
                }
            }, error => {
                var _a, _b, _c, _d, _e;
                if (error.error) {
                    if (((_b = (_a = error === null || error === void 0 ? void 0 : error.error) === null || _a === void 0 ? void 0 : _a.errors) === null || _b === void 0 ? void 0 : _b.code) === 'NotAuthorizedException' || ((_d = (_c = error === null || error === void 0 ? void 0 : error.error) === null || _c === void 0 ? void 0 : _c.errors) === null || _d === void 0 ? void 0 : _d.email) === 'notFound') {
                        this.alertService.error(AppConstants.regexEmail);
                    }
                    else
                        this.alertService.error(((_e = error === null || error === void 0 ? void 0 : error.error) === null || _e === void 0 ? void 0 : _e.error) || AppConstants.errorMessage);
                }
                this.submitStatus = 'LOGIN';
            });
        }
    }
    generateLoginUrl() {
        this.authService.generateLoginUrl().subscribe((res) => {
            window.open(res === null || res === void 0 ? void 0 : res.data, '_self');
        });
    }
}
LoginComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: LoginComponent, deps: [{ token: i0.Injector }, { token: i1.Store }, { token: i2.Router }, { token: i3.FormBuilder }, { token: i4.NgbModal }, { token: i5.AlertService }, { token: i6.AuthService }, { token: i2.ActivatedRoute }], target: i0.ɵɵFactoryTarget.Component });
LoginComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: LoginComponent, selector: "lib-login", inputs: { LOGININFO: "LOGININFO", RBACORG: "RBACORG" }, outputs: { passwordExpired: "passwordExpired", loginSuccessful: "loginSuccessful" }, providers: [MessageService], viewQueries: [{ propertyName: "input", first: true, predicate: ["showhideinput"], descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"row login\" id=\"back\">\r\n  <div\r\n    class=\"d-none d-lg-flex flex-column col-lg-8 align-i p-0 banner-sec justify-content-center container-image\"\r\n    [style.background-image]=\"'url(' + (LOGININFO['BACKGROUND_IMAGE'] ? LOGININFO['BACKGROUND_IMAGE'] :'assets/images/login_bg.jpg') + ')'\">\r\n  </div>\r\n  <div class=\"d-flex col-lg-4 shadow align-items-center p-4 mx-auto rightLoginSet\">\r\n    <div class=\"col-12 col-sm-8 col-md-6 col-lg-12 px-xl-2 mx-auto\">\r\n      <div class=\"col-md-12 text-left logo-group lg-mb-50\">\r\n        <div class=\"form-group mb-4\">\r\n          <div class=\"d-flex logo-group justify-content-center text-center\">\r\n            <span class=\"logo-img\">\r\n              <img [attr.src]=\"LOGININFO['BANNER'] ? LOGININFO['BANNER'] :'assets/images/cardinality-logo_text.svg'\" class=\"cfaLogoTop logo-img\" width=\"300\" alt=\"Oregon Provider Logo\" />\r\n              <h5 class=\"mt-3 font-weight-bold\">{{ LOGININFO['TITLE'] ? LOGININFO['TITLE'] : 'Integrated Eligibility System'}}</h5>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-12 loginBottomSet clearfix\">\r\n        <div class=\"login-content\">\r\n          <form (ngSubmit)=\"login()\" novalidate [formGroup]=\"loginForm\">\r\n            <div class=\"clearfix\">\r\n              <div class=\"form-group\">\r\n                <label aria-labelledby=\"username\" for=\"username\" class=\"intake-form-labels\">User Name </label>\r\n                <input\r\n                  class=\"Inputs\"\r\n                  autofocus\r\n                  type=\"mail\"\r\n                  formControlName=\"email\"\r\n                  placeholder=\"Email\"\r\n                  name=\"email\"\r\n                  id=\"username\"\r\n                  tabindex=\"0\"\r\n                  required />\r\n              </div>\r\n              <div class=\"form-group no-mar\">\r\n                <label aria-labelledby=\"password\" for=\"password\" class=\"intake-form-labels w-100\">Password</label>\r\n                <input\r\n                  class=\"Inputs password\"\r\n                  #showhideinput\r\n                  formControlName=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  tabindex=\"0\"\r\n                  required />\r\n                  <em\r\n                  class=\"pi\"\r\n                  [ngClass]=\"{ 'pi-eye': show, 'pi-eye-slash': !show }\"\r\n                  aria-hidden=\"true\"\r\n                  (click)=\"toggleShow()\"></em>\r\n                <!-- <i class=\"fa fa-eye\" aria-hidden=\"true\" (click)=\"toggleShow()\"></i> -->\r\n                <div class=\"text-right\">\r\n                  <a href=\"javascript:void(0)\" (click)=\"routeToChangePassword()\" class=\"btn-link forget\">\r\n                    Forgot Password?</a\r\n                  >\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group clearfix mb-30 clsMin-23 pt-10\">\r\n                <div class=\"checkbox\">\r\n                  <p-checkbox\r\n                    class=\"checklabelbox\"\r\n                    name=\"conditions\"\r\n                    formControlName=\"conditions\"\r\n                    value=\"yes\"\r\n                    inputId=\"ch\"\r\n                    aria-checked=\"false\">\r\n                  </p-checkbox>\r\n                  <label class=\"checklabel\" for=\"ch\"\r\n                    >I accept the <a href=\"javascript:void(0)\" (click)=\"open(content)\">terms &amp; conditions</a></label\r\n                  >\r\n                </div>\r\n              </div>\r\n              <div class=\"clearfix text-center col-md-12 col-12 mt-4\">\r\n                <p-button\r\n                  role=\"button\"\r\n                  type=\"submit\"\r\n                  title=\"Login\"\r\n                  [disabled]=\"!loginForm.valid\"\r\n                  styleClass=\"w-100 align-items-center justify-content-center d-block mb-2\"\r\n                  class=\"loginbutton w-100\"\r\n                  tabindex=\"0\"\r\n                  >{{ submitStatus }}</p-button\r\n                >\r\n                <a href=\"javascript:void(0);\" class=\"text-primary\" *ngIf=\"LOGININFO['REGISTRATION_ENABLE'] ? LOGININFO['REGISTRATION_ENABLE'] : false\" style=\"text-decoration: none;\" (click)=\"gotoRegistrationPage('provider')\">Provider Register</a><br>\r\n                <a href=\"javascript:void(0);\" class=\"text-primary\" *ngIf=\"LOGININFO['REGISTRATION_ENABLE'] ? LOGININFO['REGISTRATION_ENABLE'] : false\" style=\"text-decoration: none;\" (click)=\"gotoRegistrationPage('familyUser')\">Family User Register</a>\r\n              </div>\r\n              <div class=\"mar-btm-20 picslogin\" *ngIf=\"LOGININFO['LOGINWITH_AZURE'] ? LOGININFO['LOGINWITH_AZURE'] : false\"><span>Or</span></div>\r\n              <div class=\"clearfix text-center col-md-12 col-12 mt-2\" *ngIf=\"LOGININFO['LOGINWITH_AZURE'] ? LOGININFO['LOGINWITH_AZURE'] : false\">\r\n              <p-button\r\n              role=\"button\"\r\n              type=\"button\"\r\n              title=\"Login with Azure\"\r\n              class=\"loginbutton\"\r\n              tabindex=\"0\"\r\n              (click)=\"generateLoginUrl()\"\r\n              >Login with Azure</p-button>\r\n            </div>\r\n            </div>\r\n            <br />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"powered\">\r\n      <p class=\"clsInfo-text mt-0 text-center\">\r\n        <span style=\"font-size: 13px\"> Powered by </span>\r\n        <a href=\"https://www.cardinality.ai/\" rel=\"noopener\" role=\"link\" target=\"_blank\" tabindex=\"0\">\r\n          <img alt=\"cardinality\" class=\"Cardinality_logo\" src=\"assets/images/cardinality-logo_text.svg\" width=\"120\" />\r\n        </a>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #content let-modal>\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">\r\n      Personalized Integrated Citizen Services (PICS) Terms &amp; conditions\r\n    </h4>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body termscondition\">\r\n    <p class=\"mb-2\">\r\n      These Terms and Conditions constitute a legally binding agreement (\u201CAgreement\u201D) made between you, whether\r\n      personally as a professional, or on behalf of an entity you represent (\u201CYou\u201D or \u201CCustomer\u201D) and Cardinality.AI\r\n      whose principal place of business is MD, U.S.A, (\u201CCardinality\u201D, \u201Cwe,\u201D \u201Cus\u201D or \u201Cour\u201D), concerning your access to\r\n      and contracting a PICS offering (\u201CProduct\u201D).\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      You agree that by contracting our Product, you have read, understood, and agree to be bound by these Terms and\r\n      Conditions, which may be executed via electronic signature, electronic online communications, or via emailed\r\n      PDF-format document.\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      You confirm that you are fully able and entitled to accept these Terms and Conditions governing the purchase of\r\n      the Product and are authorized to do so on behalf of the Customer. This service is only available for\r\n      professionals and companies, and you represent that you are not a consumer or a minor.\r\n    </p>\r\n    <p class=\"mt-4 mb-2\">\r\n      <strong>CONFIDENTIALITY AGREEMENT</strong>\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      You agree that you shall maintain strictly confidential, and shall not reveal nor by any means transfer to a third\r\n      party, or use any and all information related to the Services, products, materials, and prototypes, and any\r\n      technical documentation that forms part of the Know-how of Product, or that it has received from third parties, or\r\n      any other information to which you have access by virtue of accepting these terms.\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      You may not use our products for any illegal or unauthorized purpose nor may you, in the use of the Service,\r\n      violate any laws in your jurisdiction (including but not limited to copyright laws).\r\n    </p>\r\n    <p class=\"mt-4 mb-2\">\r\n      <strong>DISCLAIMER OF WARRANTIES; LIMITATION OF LIABILITY</strong>\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      We do not guarantee, represent or warrant that your use of our service will be uninterrupted, timely, secure or\r\n      error-free.\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      We do not warrant that the results that may be obtained from the use of the service will be accurate or reliable.\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      You agree that from time to time we may remove the service for indefinite periods of time or cancel the service at\r\n      any time, without notice to you.\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      You expressly agree that your use of, or inability to use, the service is at your sole risk. The service and all\r\n      products and services delivered to you through the service are (except as expressly stated by us) provided \u2018as is\u2019\r\n      and \u2018as available\u2019 for your use, without any representation, warranties or conditions of any kind, either express\r\n      or implied, including all implied warranties or conditions of merchantability, merchantable quality, fitness for a\r\n      particular purpose, durability, title, and non-infringement.\r\n    </p>\r\n    <p class=\"mt-4 mb-2\">\r\n      <strong>INDEMNIFICATION</strong>\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      You agree to indemnify, defend and hold harmless Cardinality.AI and our parent, subsidiaries, affiliates,\r\n      partners, officers, directors, agents, contractors, licensors, service providers, subcontractors, suppliers,\r\n      interns and employees, harmless from any claim or demand, including reasonable attorneys\u2019 fees, made by any\r\n      third-party due to or arising out of your breach of these Terms of Service or the documents they incorporate by\r\n      reference or your violation of any law or the rights of a third-party.\r\n    </p>\r\n    <p class=\"mt-4 mb-2\">\r\n      <strong>SEVERABILITY</strong>\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      If any provision of these Terms of Service is determined to be unlawful, void, or unenforceable, such provision\r\n      shall nonetheless be enforceable to the fullest extent permitted by applicable law, and the unenforceable portion\r\n      shall be deemed to be severed from these Terms of Service, such determination shall not affect the validity and\r\n      enforceability of any other remaining provisions.\r\n    </p>\r\n    <p class=\"mt-4 mb-2\"><strong>GOVERNING LAW</strong></p>\r\n    <p class=\"mb-2\">\r\n      These Terms shall be governed and construed in accordance with the laws of Maryland, United States, without regard\r\n      to its conflict of law provisions.\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If\r\n      any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these\r\n      Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service, and\r\n      supersede and replace any prior agreements we might have had between us regarding the Service.\r\n    </p>\r\n    <p class=\"mt-4 mb-2\"><strong>CHANGES</strong></p>\r\n    <p class=\"mb-2\">\r\n      We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is\r\n      material we will provide at least 30 days notice prior to any new terms taking effect. What constitutes a material\r\n      change will be determined at our sole discretion.\r\n    </p>\r\n    <p class=\"mb-2\">\r\n      By continuing to access or use our Service after any revisions become effective, you agree to be bound by the\r\n      revised terms. If you do not agree to the new terms, you are no longer authorized to use the Service.\r\n    </p>\r\n\r\n    <p class=\"mt-4 mb-2\"><strong>CONTACT US</strong></p>\r\n    <p class=\"mb-2\">If you have any questions about these Terms, please contact us.</p>\r\n  </div>\r\n</ng-template>\r\n", styles: ["@charset \"UTF-8\";body{height:100%;overflow:hidden;width:100%!important;box-sizing:border-box;position:relative}.login#back{margin:auto;width:100%;position:relative;overflow:hidden;height:calc(1vh * 100)}.login .h2,.login h2{font-size:20px;color:var(--text-dark);font-family:\"Roboto\",sans-serif!important;font-weight:700;padding-top:8px}.login .login-content h2,.login .login-content h4{font-weight:700;color:#333!important;font-size:26px;margin:10px 0 30px}.login .login-content .btn-login{background-color:var(--btn);padding:10px;border:0}.login .mar-btm-40{margin-bottom:40px}.login .mar-btm-20{margin-bottom:20px}.login .form-group{position:relative;padding:0 18px}.login .form-group .fa-eye{position:absolute;right:25px;top:13px;color:var(--primary);font-size:15px;cursor:pointer}.login .form-group input[type=text]+.fa-eye:before{content:\"\\f070\"}.login .form-group .leftIcon{position:absolute;top:12px;left:12px;font-size:15px;color:#666}.login .form-group input{padding:0 10px;color:var(--text-dark)!important;background:var(--bg-light)!important;border:1px solid var(--table-border)!important;border-radius:5px}.login .form-group input:focus{border:1px solid var(--table-border)!important}.login .form-group .password{padding-right:40px}.login .form-control,.login input:focus,.login input:hover{border:1px solid var(--table-border)!important;box-shadow:none}.login .login-content input.form-control{padding:8px 12px 8px 0;background:transparent}.login .topWarmingContent{width:100%;padding-top:10px}.login .warmingIMg{width:75px;display:block}.login .warningContentP{width:100%;padding-top:10px;padding-right:20px}.login .warningContentP p{font-size:14px;padding:10px 0 0;color:var(--text-dark);line-height:1.6;margin:0}.login .loginBottomSet{padding-top:0}.login .login-content{width:100%;margin:0 auto}.login .btn-link{font-size:var(--font-13);font-weight:500;color:var(--text-dark);text-decoration:none;margin-top:3px;padding:0}.login .LogIn{margin-top:5px}.login .login-content h4{margin-bottom:10px}.login .Inputs{outline:none;padding:5px 10px;background-color:var(--bg-light);width:100%;height:36px;margin-bottom:8px;box-shadow:none;border:none}.login .btn-secondary{background-color:var(--btncancel);border:1px solid var(--primary);color:var(--primary);padding:8px 25px}.login .logo-group .logo-title{color:var(--text-dark);font-size:15px}.login .logo-group .logo-subtitle{color:var(--text-dark);font-size:13px;font-weight:400;letter-spacing:1.7px}.login .cfaLogoTop{display:block}.login .cfaLogoLeft{width:100%}.login .checkbox{float:left}.login .checkbox label{color:var(--text-dark);cursor:pointer}.login .clsPowered{position:absolute;bottom:40px;left:0px;right:0px;margin:0 auto;text-align:center}.login label{font-size:var(--font-13);font-weight:500!important}.login .clsMin-23{min-height:23px}.login .clsTopLogo{position:absolute;top:30px;left:0px;right:0px;margin:0 auto;text-align:center}.login .clsTopLogo h2{font-weight:700;color:#333!important;font-size:26px;margin:20px 0}.login .hero-gallery-inner{display:flex;flex-wrap:wrap}.login .fa-eye:before{content:\"\\f06e\";color:var(--primary);position:absolute;margin-top:27px;margin-left:-24px}.login .forget{font-size:var(--font-13);color:var(--text-dark);text-decoration:none}.login .checklabel{padding-left:10px;font-size:var(--font-13);margin-bottom:0}.login .Cardinality_logo{margin-top:-5px}.login h4#modal-basic-title{font-size:15px}.login .rightLoginSet{background:var(--bg-light)}.login .rightLoginSet .intake-form-labels{color:var(--text-dark)}.powered{position:absolute;bottom:0;left:0;right:0}.powered p,.powered span{color:var(--text-dark)}@media screen and (min-width: 991px) and (max-width: 1024px){.login .rightLoginSet{padding:0!important}}@media screen and (max-width: 1281px){.carousel-item{max-width:65%!important}}.banner-sec{background:#3E397E;background-position:center;background-repeat:no-repeat;background-size:cover;border-radius:0;height:100%}.logo-img h5{font-size:var(--font-16)}.login-content .registration-group::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}.login-content .registration-group::-webkit-scrollbar{width:10px;background-color:#f5f5f5}.login-content .registration-group::-webkit-scrollbar-thumb{background-color:#146a5d;background-image:-webkit-gradient(linear,0 0,0 100%,color-stop(.5,rgba(255,255,255,.2)),color-stop(.5,transparent),to(transparent))}.goto-register{border-bottom:1px solid #146A5D}.picslogin{border-bottom:solid 1px #ccc;margin-top:25px}.picslogin span{position:absolute;text-align:center;margin-top:-13px;left:43%;background:#fff;padding:0 10px;font-size:14px}.pi{position:absolute;right:30px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:15px}input[type=password]::-ms-reveal,input[type=password]::-ms-clear{display:none}\n"], components: [{ type: i7.AlertComponent, selector: "app-alert" }, { type: i8.Checkbox, selector: "p-checkbox", inputs: ["value", "name", "disabled", "binary", "label", "ariaLabelledBy", "ariaLabel", "tabindex", "inputId", "style", "styleClass", "labelStyleClass", "formControl", "checkboxIcon", "readonly", "required", "trueValue", "falseValue"], outputs: ["onChange"] }, { type: i9.Button, selector: "p-button", inputs: ["type", "iconPos", "icon", "badge", "label", "disabled", "loading", "loadingIcon", "style", "styleClass", "badgeClass", "ariaLabel"], outputs: ["onClick", "onFocus", "onBlur"] }], directives: [{ type: i3.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i3.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i3.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i3.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i3.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { type: i10.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i10.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: LoginComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-login',
                    templateUrl: './login.component.html',
                    styleUrls: ['./login.component.scss'],
                    providers: [MessageService]
                }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.Store }, { type: i2.Router }, { type: i3.FormBuilder }, { type: i4.NgbModal }, { type: i5.AlertService }, { type: i6.AuthService }, { type: i2.ActivatedRoute }]; }, propDecorators: { input: [{
                type: ViewChild,
                args: ['showhideinput']
            }], LOGININFO: [{
                type: Input
            }], RBACORG: [{
                type: Input
            }], passwordExpired: [{
                type: Output
            }], loginSuccessful: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9naW4uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL2xvZ2luL3NyYy9saWIvcGljcy1sb2dpbi9sb2dpbi9sb2dpbi5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvbG9naW4vc3JjL2xpYi9waWNzLWxvZ2luL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVcsWUFBWSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQVUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2xHLE9BQU8sRUFBMEIsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEUsT0FBTyxFQUFjLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUUzQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDOUQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ2xFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUcxRCxPQUFPLEVBQUUsTUFBTSxFQUFTLE1BQU0sYUFBYSxDQUFDO0FBQzVDLE9BQU8sRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzVELE9BQU8sRUFBRSxtQkFBbUIsRUFBWSxNQUFNLDRCQUE0QixDQUFDO0FBRzNFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUM3RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDaEUsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7Ozs7O0FBWW5ELE1BQU0sT0FBTyxjQUFjO0lBMEJ6QixZQUNFLFFBQWtCLEVB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QUFRLEVBQUUsV0FBVztvQkFDckIsV0FBVyxFQUFFLHdCQUF3QjtvQkFDckMsU0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUM7b0JBQ3JDLFNBQVMsRUFBRSxDQUFDLGNBQWMsQ0FBQztpQkFDNUI7MlFBRTZCLEtBQUs7c0JBQWhDLFNBQVM7dUJBQUMsZUFBZTtnQkFDVixTQUFTO3NCQUF4QixLQUFLO2dCQUNVLE9BQU87c0JBQXRCLEtBQUs7Z0JBQ0ksZUFBZTtzQkFBeEIsTUFBTTtnQkFDRyxlQUFlO3NCQUF4QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3RvcixFdmVudEVtaXR0ZXIsT3V0cHV0LCBJbnB1dCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBBdXRoU3RhdGUgfSBmcm9tICcuLi9AY29yZS9jb25zdGFudHMvY29tbW9uLmVudGl0aWVzJztcclxuaW1wb3J0IHsgTG9jYWxTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9sb2NhbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJvZmlsZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL3Byb2ZpbGUuc2VydmljZSc7XHJcbmltcG9ydCB7IEFwcFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2FwcC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2NvcmUuc3RhdGUnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgc2VsZWN0LCBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuaW1wb3J0IHsgTWVzc2FnZVNlcnZpY2UsIFByaW1lTkdDb25maWcgfSBmcm9tICdwcmltZW5nL2FwaSc7XHJcbmltcG9ydCB7IE1vZGFsRGlzbWlzc1JlYXNvbnMsIE5nYk1vZGFsIH0gZnJvbSAnQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAnO1xyXG5pbXBvcnQgeyBBbGVydFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2FsZXJ0LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYXV0aC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgc2VsZWN0QXV0aCB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYXV0aC5zZWxlY3RvcnMnO1xyXG5pbXBvcnQgeyBBcHBDb25zdGFudHMgfSBmcm9tICcuLi9AY29yZS9jb25zdGFudHMvYXBwLWNvbnN0YW50cyc7XHJcbmltcG9ydCB7IGZpbHRlciwgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5pbnRlcmZhY2UgQ2l0eSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGNvZGU6IHN0cmluZztcclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItbG9naW4nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9sb2dpbi5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vbG9naW4uY29tcG9uZW50LnNjc3MnXSxcclxuICBwcm92aWRlcnM6IFtNZXNzYWdlU2VydmljZV1cclxufSlcclxuZXhwb3J0IGNsYXNzIExvZ2luQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICBAVmlld0NoaWxkKCdzaG93aGlkZWlucHV0JykgaW5wdXQ7XHJcbiAgQElucHV0KCkgcHVibGljIExPR0lOSU5GTz86IGFueTtcclxuICBASW5wdXQoKSBwdWJsaWMgUkJBQ09SRz86IGFueTtcclxuICBAT3V0cHV0KCkgcGFzc3dvcmRFeHBpcmVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBsb2dpblN1Y2Nlc3NmdWwgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgdmFsdWUzITogc3RyaW5nO1xyXG4gIGNpdGllczogQ2l0eVtdID0gW107XHJcbiAgc2VsZWN0ZWRDaXR5MSE6IENpdHk7XHJcbiAgbG9naW5Gb3JtITogRm9ybUdyb3VwO1xyXG4gIG90cEZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgc2hvdyE6IGJvb2xlYW47XHJcbiAgZGlzYWJsZWRMb2dpblBhZ2UhOiBib29sZWFuO1xyXG4gIHN1Ym1pdFN0YXR1cyE6IHN0cmluZztcclxuICBzdWJtaXRTZWNyZXRTdGF0dXMhOiBzdHJpbmc7XHJcbiAgZXJyb3JTdGF0dXM/OiBzdHJpbmc7XHJcbiAgZGVzdG9yeSQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xyXG4gIGNsb3NlUmVzdWx0ID0gJyc7XHJcbiAgaXNBdXRoZW50aWNhdGVkJCE6IE9ic2VydmFibGU8QXV0aFN0YXRlPjtcclxuICBsb2NhbHN0b3JhZ2U6IExvY2FsU2VydmljZTtcclxuICBwcmltZW5nQ29uZmlnOiBQcmltZU5HQ29uZmlnO1xyXG4gIGlzT3RwU2VudDogYm9vbGVhbjtcclxuICBwcm9maWxlU2VydmljZTogUHJvZmlsZVNlcnZpY2U7XHJcbiAgYXBwU2VydmljZTogQXBwU2VydmljZTtcclxuICBwcml2YXRlIERFRkFVTFRfUEFTU1dPUkRfUkVTRVQgPSAnVEVNUF9QQVNTV09SRF9SRVNFVCc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSBzdG9yZSQ6IFN0b3JlPEFwcFN0YXRlPixcclxuICAgIHByaXZhdGUgX3JvdXRlcjogUm91dGVyLFxyXG4gICAgcHJpdmF0ZSBmYjogRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIG1vZGFsU2VydmljZTogTmdiTW9kYWwsXHJcbiAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2UsXHJcbiAgICBwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVxyXG4gICkge1xyXG4gICAgdGhpcy5wcm9maWxlU2VydmljZSA9IGluamVjdG9yLmdldDxQcm9maWxlU2VydmljZT4oUHJvZmlsZVNlcnZpY2UpO1xyXG4gICAgdGhpcy5sb2NhbHN0b3JhZ2UgPSBpbmplY3Rvci5nZXQ8TG9jYWxTZXJ2aWNlPihMb2NhbFNlcnZpY2UpO1xyXG4gICAgdGhpcy5wcmltZW5nQ29uZmlnID0gaW5qZWN0b3IuZ2V0PFByaW1lTkdDb25maWc+KFByaW1lTkdDb25maWcpO1xyXG4gICAgdGhpcy5hcHBTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PEFwcFNlcnZpY2U+KEFwcFNlcnZpY2UpO1xyXG4gICAgdGhpcy5zdWJtaXRTdGF0dXMgPSAnTE9HSU4nO1xyXG4gICAgdGhpcy5kaXNhYmxlZExvZ2luUGFnZSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICB0aGlzLmluaXRpYWxpemVGb3JtKCk7XHJcbiAgICB0aGlzLmdldFNlc3Npb25EZXRhaWxzKCk7XHJcbiAgICB0aGlzLnByaW1lbmdDb25maWcucmlwcGxlID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkJCA9IHRoaXMuc3RvcmUkLnBpcGUoc2VsZWN0KHNlbGVjdEF1dGgpKTtcclxuICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkJC5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5pc0F1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgICAgIGNvbnN0IHJvdXRlVG9BZG1pbiA9IHJlcy5wYWdlcy5zb21lKGEgPT4gYS5uYW1lID09PSAnQXBwbGljYXRpb24gTWFuYWdlbWVudCcpO1xyXG4gICAgICAgICAgaWYgKHJlcz8uYWN0aW9uID09PSB0aGlzLkRFRkFVTFRfUEFTU1dPUkRfUkVTRVQpIHtcclxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB7XHJcbiAgICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgIGlzVGVtcFBhc3N3b3JkOiByZXMuYWN0aW9uID09PSB0aGlzLkRFRkFVTFRfUEFTU1dPUkRfUkVTRVQsXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5sb2dpbkZvcm0udmFsdWUuZW1haWwudHJpbSgpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9yb3V0ZXIubmF2aWdhdGUoWycvYXV0aC9jaGFuZ2UtcGFzc3dvcmQnLCBxdWVyeV0pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChyb3V0ZVRvQWRtaW4pIHtcclxuICAgICAgICAgICAgdGhpcy5fcm91dGVyLm5hdmlnYXRlKFsnL3BhZ2VzL3JiYWMnXSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3V0ZXIubmF2aWdhdGUoWycvcGFnZXMvcGFnZS1kZXNpZ24vbGlzdCddKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuXHJcbiAgICAgICAgaWYgKGVyci5lcnJvcikge1xyXG4gICAgICAgICAgaWYgKGVycj8uZXJyb3I/LmVycm9ycz8uY29kZSA9PT0gJ05vdEF1dGhvcml6ZWRFeGNlcHRpb24nIHx8IGVycj8uZXJyb3I/LmVycm9ycz8uZW1haWwgPT09ICdub3RGb3VuZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ludmFsaWQgQ3JlZGVudGlhbHMnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdTeXN0ZW0gRXJyb3IsIFBsZWFzZSB0cnkgYWZ0ZXIgc29tZXRpbWUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdWJtaXRTdGF0dXMgPSAnTE9HSU4nO1xyXG4gICAgICAgIHRoaXMuc3VibWl0U2VjcmV0U3RhdHVzID0gJ1N1Ym1pdCBTZWNyZXQgQ29kZSc7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICB0aGlzLnJvdXRlLnF1ZXJ5UGFyYW1zLnBpcGUoXHJcbiAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3RvcnkkKSxcclxuICAgICAgZmlsdGVyKChwYXJhbXM6YW55KT0+ISFwYXJhbXMuZW1haWwpLFxyXG4gICAgKS5zdWJzY3JpYmUoKHBhcmFtczogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2dpbkZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgICBlbWFpbDogcGFyYW1zLmVtYWlsLFxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGVzdG9yeSQubmV4dCgpO1xyXG4gICAgdGhpcy5kZXN0b3J5JC5jb21wbGV0ZSgpO1xyXG4gIH1cclxuICBpbml0aWFsaXplRm9ybSgpIHtcclxuICAgIHRoaXMubG9naW5Gb3JtID0gdGhpcy5mYi5ncm91cCh7XHJcbiAgICAgIGVtYWlsOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLnBhdHRlcm4oQXBwQ29uc3RhbnRzLnJlZ2V4RW1haWwpXV0sXHJcbiAgICAgIHBhc3N3b3JkOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBjb25kaXRpb25zOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdXHJcbiAgICB9KTtcclxuICB9XHJcbiAgaW5pdGlhbGl6ZU90cEZvcm0oKSB7XHJcbiAgICB0aGlzLm90cEZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcclxuICAgICAgb3RwOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdXHJcbiAgICB9KTtcclxuICB9XHJcbiAgb3Blbihjb250ZW50KSB7XHJcbiAgICB0aGlzLm1vZGFsU2VydmljZS5vcGVuKGNvbnRlbnQsIHsgc2l6ZTogJ2xnJywgYmFja2Ryb3A6ICdzdGF0aWMnIH0pLnJlc3VsdC50aGVuKFxyXG4gICAgICByZXN1bHQgPT4ge1xyXG4gICAgICAgIHRoaXMuY2xvc2VSZXN1bHQgPSBgQ2xvc2VkIHdpdGg6ICR7cmVzdWx0fWA7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlYXNvbiA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZVJlc3VsdCA9IGBEaXNtaXNzZWQgJHt0aGlzLmdldERpc21pc3NSZWFzb24ocmVhc29uKX1gO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuICBwcml2YXRlIGdldERpc21pc3NSZWFzb24ocmVhc29uOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgaWYgKHJlYXNvbiA9PT0gTW9kYWxEaXNtaXNzUmVhc29ucy5FU0MpIHtcclxuICAgICAgcmV0dXJuICdieSBwcmVzc2luZyBFU0MnO1xyXG4gICAgfSBlbHNlIGlmIChyZWFzb24gPT09IE1vZGFsRGlzbWlzc1JlYXNvbnMuQkFDS0RST1BfQ0xJQ0spIHtcclxuICAgICAgcmV0dXJuICdieSBjbGlja2luZyBvbiBhIGJhY2tkcm9wJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBgd2l0aDogJHtyZWFzb259YDtcclxuICAgIH1cclxuICB9XHJcbiAgbG9naW4ob3RwPzogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnN1Ym1pdFN0YXR1cyA9ICdQbGVhc2Ugd2FpdCAuLi4nO1xyXG4gICAgdGhpcy5zdWJtaXRTZWNyZXRTdGF0dXMgPSAnUGxlYXNlIHdhaXQgLi4uJztcclxuICAgIHRoaXMuZXJyb3JTdGF0dXMgPSAnJztcclxuICAgIGNvbnN0IGxvZ2luZm9ybSA9IHRoaXMubG9naW5Gb3JtLmdldFJhd1ZhbHVlKCk7XHJcbiAgICB0aGlzLmF1dGhTZXJ2aWNlLmxvZ2luKGxvZ2luZm9ybS5lbWFpbCwgbG9naW5mb3JtLnBhc3N3b3JkLCBvdHApLnN1YnNjcmliZShcclxuICAgICAgKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgIGlmIChyZXMgPT09ICdNRkFfQ09ERV9TRU5EJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVxdWVzdCBNRkEgQ29kZS4uLicpO1xyXG4gICAgICAgICAgICB0aGlzLmlzT3RwU2VudCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZU90cEZvcm0oKTtcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRTZWNyZXRTdGF0dXMgPSAnU3VibWl0IFNlY3JldCBDb2RlJztcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSBpZiAocmVzPy5kYXRhPy5hY3Rpb24gPT09IEFwcENvbnN0YW50cy50ZW1wUGFzc3dvcmRSZXNldCkge1xyXG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICBpc1RlbXBQYXNzd29yZDogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5fcm91dGVyLm5hdmlnYXRlKFsnL2NoYW5nZS1wYXNzd29yZCddLCB7IHF1ZXJ5UGFyYW1zIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChyZXM/LmRhdGE/LmFjdGlvbiA9PT0gQXBwQ29uc3RhbnRzLnBhc3N3b3JkRXhwaXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhc3N3b3JkRXhwaXJlZC5lbWl0KCdjaGFuZ2UtcGFzc3dvcmQnKTtcclxuICAgICAgICAgICAgdGhpcy5fcm91dGVyLm5hdmlnYXRlKFsnL2NoYW5nZS1wYXNzd29yZCddKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLkxPR0lOSU5GTy5ET05UX0dFVF9VU0VSSU5GTykge1xyXG4gICAgICAgICAgICAgIHRoaXMubG9naW5TdWNjZXNzZnVsLmVtaXQocmVzWzBdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmdldFVzZXJJbmZvKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcblxyXG4gICAgICAgIGlmIChlcnJvci5lcnJvcikge1xyXG4gICAgICAgICAgaWYgKGVycm9yPy5lcnJvcj8uZXJyb3JzPy5jb2RlID09PSAnTm90QXV0aG9yaXplZEV4Y2VwdGlvbicgfHwgZXJyb3I/LmVycm9yPy5lcnJvcnM/LmVtYWlsID09PSAnTm90IEZvdW5kJykge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihlcnJvcj8uZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ludmFsaWQgRW1haWwgb3IgUGFzc3dvcmQnKTtcclxuICAgICAgICAgIH0gZWxzZSB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihlcnJvcj8uZXJyb3I/LmVycm9yIHx8ICdJbnZhbGlkIEVtYWlsIG9yIFBhc3N3b3JkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKGVycm9yPy5lcnJvcj8uZXJyb3IgfHwgJ0ludmFsaWQgRW1haWwgb3IgUGFzc3dvcmQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdWJtaXRTdGF0dXMgPSAnTE9HSU4nO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2VuZE90cCgpIHtcclxuICAgIGNvbnN0IG90cEZvcm1EZXRhaWxzID0gdGhpcy5vdHBGb3JtLmdldFJhd1ZhbHVlKCk7XHJcbiAgICB0aGlzLmxvZ2luKG90cEZvcm1EZXRhaWxzLm90cCk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTaG93KCkge1xyXG4gICAgdGhpcy5zaG93ID0gIXRoaXMuc2hvdztcclxuICAgIGlmICh0aGlzLnNob3cpIHtcclxuICAgICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LnR5cGUgPSAndGV4dCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmlucHV0Lm5hdGl2ZUVsZW1lbnQudHlwZSA9ICdwYXNzd29yZCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByb3V0ZVRvQ2hhbmdlUGFzc3dvcmQoKSB7XHJcbiAgICB0aGlzLl9yb3V0ZXIubmF2aWdhdGUoWycvZm9yZ290LXBhc3N3b3JkJ10pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICB0aGlzLmF1dGhTZXJ2aWNlLmdldEF1dGhNZSgpLnN1YnNjcmliZShcclxuICAgICAgKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5kYXRhKSB7XHJcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdvcmdpZCcsIHJlcy5kYXRhLm9yZ2FuaXphdGlvbmlkKTtcclxuICAgICAgICAgIHRoaXMuYXV0aFNlcnZpY2UuZ2V0VXNlclJvbGUocmVzLmRhdGEuaWQpLnN1YnNjcmliZSh1c2VySW5mbyA9PiB7XHJcbiAgICAgICAgICAgIGlmICh1c2VySW5mbykge1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvZmlsZVNlcnZpY2Uuc2V0VXNlclByZWZlcmVuY2UoKTtcclxuICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlckluZm8uZGF0YSkpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IGxhbmRpbmdQYWdlID0gdXNlckluZm8uZGF0YS51c2Vycm9sZXNbMF0uZGVmYXVsdHBhZ2U7XHJcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFBhZ2UnLCBKU09OLnN0cmluZ2lmeShsYW5kaW5nUGFnZSkpO1xyXG4gICAgICAgICAgICAgIHRoaXMuYXBwU2VydmljZS5hZGRWYWx1ZSgnY3VycmVudFBhZ2UnLCBsYW5kaW5nUGFnZSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5yb3V0ZVRvRHluYW1pY1BhZ2UobGFuZGluZ1BhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByb3V0ZVRvRHluYW1pY1BhZ2UobGFuZGluZ1BhZ2U6IGFueSkge1xyXG4gICAgY29uc3Qgb3JnaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdvcmdpZCcpO1xyXG4gICAgaWYgKGxhbmRpbmdQYWdlLnJvdXRlLmluY2x1ZGVzKCdkeW5hbWljLXNlYXJjaC9zZWFyY2gnKSkge1xyXG4gICAgICBjb25zdCBwYWdlSWQgPSBsYW5kaW5nUGFnZS5yb3V0ZS5zcGxpdCgnLycpWzRdO1xyXG4gICAgICBpZiAocGFnZUlkKSB7XHJcbiAgICAgICAgdGhpcy5hdXRoU2VydmljZS5jaGVja0R5bmFtaWNQYWdlUGVybWlzc2lvbihwYWdlSWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXV0aFNlcnZpY2Uucm91dGVUb0R5bmFtaWNQYWdlKG9yZ2lkKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF1dGhvcmlzZWRQYWdlcyA9IHJlcz8uZGF0YT8uZmlsdGVyKGEgPT4gYT8uYWN0aXZlVmVyc2lvbj8uZ3JpZGNvbmZpZyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxzdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkRHluYW1pY1BhZ2UnLCBhdXRob3Jpc2VkUGFnZXNbMF0/LmFjdGl2ZVZlcnNpb24/LmlkKTtcclxuICAgICAgICAgICAgdGhpcy5jb25kaXRpb25BdXRob3Jpc2VkUGFnZXMoYXV0aG9yaXNlZFBhZ2VzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKFxyXG4gICAgICAgICAgICAgICdZb3UgZG9uXFwndCBoYXZlIHBlcm1pc3Npb25zIHRvIHBlcmZvcm0gdGhlIGZvbGxvd2luZyBvcGVyYXRpb25zIC5QbGVhc2UgQ29udGFjdCBBZG1pbmlzdHJhdG9yJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBsYW5kaW5nUGFnZVJvdXRlID0gYHBhZ2VzJHtsYW5kaW5nUGFnZT8ucm91dGV9YDtcclxuICAgICAgdGhpcy5fcm91dGVyLm5hdmlnYXRlKFtsYW5kaW5nUGFnZVJvdXRlXSk7XHJcbiAgICAgIHRoaXMubG9jYWxzdG9yYWdlLnNldEl0ZW0oJ2Rhc2hib2FyZFJvdXRlJywgbGFuZGluZ1BhZ2VSb3V0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbmRpdGlvbkF1dGhvcmlzZWRQYWdlcyhhdXRob3Jpc2VkUGFnZXMpIHtcclxuICAgIGlmIChhdXRob3Jpc2VkUGFnZXMgJiYgYXV0aG9yaXNlZFBhZ2VzLmxlbmd0aCAmJiBhdXRob3Jpc2VkUGFnZXNbMF0/LmFjdGl2ZVZlcnNpb24/LmdyaWRjb25maWcpIHtcclxuICAgICAgY29uc3QgZ3JpZFBhZ2VSb3V0ZSA9IGBwYWdlcy9keW5hbWljLXNlYXJjaC9zZWFyY2gvJHthdXRob3Jpc2VkUGFnZXNbMF0/LmFjdGl2ZVZlcnNpb24/LmlkfWA7XHJcbiAgICAgIHRoaXMuX3JvdXRlci5uYXZpZ2F0ZShbZ3JpZFBhZ2VSb3V0ZV0pO1xyXG4gICAgICB0aGlzLmxvY2Fsc3RvcmFnZS5zZXRJdGVtKCdkYXNoYm9hcmRSb3V0ZScsIGdyaWRQYWdlUm91dGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnb3RvUmVnaXN0cmF0aW9uUGFnZSh1c2VyVHlwZSl7XHJcbiAgICB0aGlzLl9yb3V0ZXIubmF2aWdhdGUoWycuL3JlZ2lzdHJhdGlvbi8nLHVzZXJUeXBlXSk7XHJcbiAgfVxyXG4gIGdldFNlc3Npb25EZXRhaWxzKCkge1xyXG4gICAgbGV0IGdldFRva2VuID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XHJcbiAgICBpZihnZXRUb2tlbi5pbmNsdWRlcygnI3N0YXRlPScpKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMvZyxcIj9cIikpO1xyXG4gICAgICBjb25zdCBzdGF0ZUtleSA9IGN1cnJlbnRVcmwuc2VhcmNoUGFyYW1zLmdldChcInN0YXRlXCIpO1xyXG4gICAgICBjb25zdCBhdXRoQ29kZSA9IGN1cnJlbnRVcmwuc2VhcmNoUGFyYW1zLmdldChcImNvZGVcIik7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gY3VycmVudFVybC5zZWFyY2hQYXJhbXMuZ2V0KFwiaWRfdG9rZW5cIik7XHJcbiAgICAgIGxldCByZXF1ZXN0T2JqZWN0ID0ge1xyXG4gICAgICAgIGtleTogc3RhdGVLZXksXHJcbiAgICAgICAgY29kZTogYXV0aENvZGVcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmF1dGhTZXJ2aWNlLnZhbGlkYXRlVG9rZW4odG9rZW4scmVxdWVzdE9iamVjdCkuc3Vic2NyaWJlKFxyXG4gICAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgICAgICB0aGlzLmdldFVzZXJJbmZvKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvciA9PiB7XHJcbiAgICAgICAgICBpZiAoZXJyb3IuZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yPy5lcnJvcj8uZXJyb3JzPy5jb2RlID09PSAnTm90QXV0aG9yaXplZEV4Y2VwdGlvbicgfHwgZXJyb3I/LmVycm9yPy5lcnJvcnM/LmVtYWlsID09PSAnbm90Rm91bmQnKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLnJlZ2V4RW1haWwpO1xyXG4gICAgICAgICAgICB9IGVsc2UgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoZXJyb3I/LmVycm9yPy5lcnJvciB8fCBBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuc3VibWl0U3RhdHVzID0gJ0xPR0lOJztcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdlbmVyYXRlTG9naW5VcmwoKSB7XHJcbiAgICB0aGlzLmF1dGhTZXJ2aWNlLmdlbmVyYXRlTG9naW5VcmwoKS5zdWJzY3JpYmUoKHJlczphbnkpID0+IHtcclxuICAgICAgd2luZG93Lm9wZW4ocmVzPy5kYXRhLCAnX3NlbGYnIClcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCI8YXBwLWFsZXJ0PjwvYXBwLWFsZXJ0PlxyXG48ZGl2IGNsYXNzPVwicm93IGxvZ2luXCIgaWQ9XCJiYWNrXCI+XHJcbiAgPGRpdlxyXG4gICAgY2xhc3M9XCJkLW5vbmUgZC1sZy1mbGV4IGZsZXgtY29sdW1uIGNvbC1sZy04IGFsaWduLWkgcC0wIGJhbm5lci1zZWMganVzdGlmeS1jb250ZW50LWNlbnRlciBjb250YWluZXItaW1hZ2VcIlxyXG4gICAgW3N0eWxlLmJhY2tncm91bmQtaW1hZ2VdPVwiJ3VybCgnICsgKExPR0lOSU5GT1snQkFDS0dST1VORF9JTUFHRSddID8gTE9HSU5JTkZPWydCQUNLR1JPVU5EX0lNQUdFJ10gOidhc3NldHMvaW1hZ2VzL2xvZ2luX2JnLmpwZycpICsgJyknXCI+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cImQtZmxleCBjb2wtbGctNCBzaGFkb3cgYWxpZ24taXRlbXMtY2VudGVyIHAtNCBteC1hdXRvIHJpZ2h0TG9naW5TZXRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLXNtLTggY29sLW1kLTYgY29sLWxnLTEyIHB4LXhsLTIgbXgtYXV0b1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIHRleHQtbGVmdCBsb2dvLWdyb3VwIGxnLW1iLTUwXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgbWItNFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBsb2dvLWdyb3VwIGp1c3RpZnktY29udGVudC1jZW50ZXIgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2dvLWltZ1wiPlxyXG4gICAgICAgICAgICAgIDxpbWcgW2F0dHIuc3JjXT1cIkxPR0lOSU5GT1snQkFOTkVSJ10gPyBMT0dJTklORk9bJ0JBTk5FUiddIDonYXNzZXRzL2ltYWdlcy9jYXJkaW5hbGl0eS1sb2dvX3RleHQuc3ZnJ1wiIGNsYXNzPVwiY2ZhTG9nb1RvcCBsb2dvLWltZ1wiIHdpZHRoPVwiMzAwXCIgYWx0PVwiT3JlZ29uIFByb3ZpZGVyIExvZ29cIiAvPlxyXG4gICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm10LTMgZm9udC13ZWlnaHQtYm9sZFwiPnt7IExPR0lOSU5GT1snVElUTEUnXSA/IExPR0lOSU5GT1snVElUTEUnXSA6ICdJbnRlZ3JhdGVkIEVsaWdpYmlsaXR5IFN5c3RlbSd9fTwvaDU+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBsb2dpbkJvdHRvbVNldCBjbGVhcmZpeFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbi1jb250ZW50XCI+XHJcbiAgICAgICAgICA8Zm9ybSAobmdTdWJtaXQpPVwibG9naW4oKVwiIG5vdmFsaWRhdGUgW2Zvcm1Hcm91cF09XCJsb2dpbkZvcm1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBhcmlhLWxhYmVsbGVkYnk9XCJ1c2VybmFtZVwiIGZvcj1cInVzZXJuYW1lXCIgY2xhc3M9XCJpbnRha2UtZm9ybS1sYWJlbHNcIj5Vc2VyIE5hbWUgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cIklucHV0c1wiXHJcbiAgICAgICAgICAgICAgICAgIGF1dG9mb2N1c1xyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwibWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImVtYWlsXCJcclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJlbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgIGlkPVwidXNlcm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZCAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIG5vLW1hclwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGFyaWEtbGFiZWxsZWRieT1cInBhc3N3b3JkXCIgZm9yPVwicGFzc3dvcmRcIiBjbGFzcz1cImludGFrZS1mb3JtLWxhYmVscyB3LTEwMFwiPlBhc3N3b3JkPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cIklucHV0cyBwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICNzaG93aGlkZWlucHV0XHJcbiAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgIGlkPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZCAvPlxyXG4gICAgICAgICAgICAgICAgICA8ZW1cclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwaVwiXHJcbiAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgJ3BpLWV5ZSc6IHNob3csICdwaS1leWUtc2xhc2gnOiAhc2hvdyB9XCJcclxuICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInRvZ2dsZVNob3coKVwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICA8IS0tIDxpIGNsYXNzPVwiZmEgZmEtZXllXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgKGNsaWNrKT1cInRvZ2dsZVNob3coKVwiPjwvaT4gLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKGNsaWNrKT1cInJvdXRlVG9DaGFuZ2VQYXNzd29yZCgpXCIgY2xhc3M9XCJidG4tbGluayBmb3JnZXRcIj5cclxuICAgICAgICAgICAgICAgICAgICBGb3Jnb3QgUGFzc3dvcmQ/PC9hXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjbGVhcmZpeCBtYi0zMCBjbHNNaW4tMjMgcHQtMTBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICA8cC1jaGVja2JveFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY2hlY2tsYWJlbGJveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNvbmRpdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImNvbmRpdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPVwieWVzXCJcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dElkPVwiY2hcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtY2hlY2tlZD1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDwvcC1jaGVja2JveD5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY2hlY2tsYWJlbFwiIGZvcj1cImNoXCJcclxuICAgICAgICAgICAgICAgICAgICA+SSBhY2NlcHQgdGhlIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAoY2xpY2spPVwib3Blbihjb250ZW50KVwiPnRlcm1zICZhbXA7IGNvbmRpdGlvbnM8L2E+PC9sYWJlbFxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggdGV4dC1jZW50ZXIgY29sLW1kLTEyIGNvbC0xMiBtdC00XCI+XHJcbiAgICAgICAgICAgICAgICA8cC1idXR0b25cclxuICAgICAgICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkxvZ2luXCJcclxuICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cIiFsb2dpbkZvcm0udmFsaWRcIlxyXG4gICAgICAgICAgICAgICAgICBzdHlsZUNsYXNzPVwidy0xMDAgYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgZC1ibG9jayBtYi0yXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJsb2dpbmJ1dHRvbiB3LTEwMFwiXHJcbiAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgID57eyBzdWJtaXRTdGF0dXMgfX08L3AtYnV0dG9uXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwidGV4dC1wcmltYXJ5XCIgKm5nSWY9XCJMT0dJTklORk9bJ1JFR0lTVFJBVElPTl9FTkFCTEUnXSA/IExPR0lOSU5GT1snUkVHSVNUUkFUSU9OX0VOQUJMRSddIDogZmFsc2VcIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogbm9uZTtcIiAoY2xpY2spPVwiZ290b1JlZ2lzdHJhdGlvblBhZ2UoJ3Byb3ZpZGVyJylcIj5Qcm92aWRlciBSZWdpc3RlcjwvYT48YnI+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwidGV4dC1wcmltYXJ5XCIgKm5nSWY9XCJMT0dJTklORk9bJ1JFR0lTVFJBVElPTl9FTkFCTEUnXSA/IExPR0lOSU5GT1snUkVHSVNUUkFUSU9OX0VOQUJMRSddIDogZmFsc2VcIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogbm9uZTtcIiAoY2xpY2spPVwiZ290b1JlZ2lzdHJhdGlvblBhZ2UoJ2ZhbWlseVVzZXInKVwiPkZhbWlseSBVc2VyIFJlZ2lzdGVyPC9hPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXItYnRtLTIwIHBpY3Nsb2dpblwiICpuZ0lmPVwiTE9HSU5JTkZPWydMT0dJTldJVEhfQVpVUkUnXSA/IExPR0lOSU5GT1snTE9HSU5XSVRIX0FaVVJFJ10gOiBmYWxzZVwiPjxzcGFuPk9yPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeCB0ZXh0LWNlbnRlciBjb2wtbWQtMTIgY29sLTEyIG10LTJcIiAqbmdJZj1cIkxPR0lOSU5GT1snTE9HSU5XSVRIX0FaVVJFJ10gPyBMT0dJTklORk9bJ0xPR0lOV0lUSF9BWlVSRSddIDogZmFsc2VcIj5cclxuICAgICAgICAgICAgICA8cC1idXR0b25cclxuICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICB0aXRsZT1cIkxvZ2luIHdpdGggQXp1cmVcIlxyXG4gICAgICAgICAgICAgIGNsYXNzPVwibG9naW5idXR0b25cIlxyXG4gICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImdlbmVyYXRlTG9naW5VcmwoKVwiXHJcbiAgICAgICAgICAgICAgPkxvZ2luIHdpdGggQXp1cmU8L3AtYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDxkaXYgY2xhc3M9XCJwb3dlcmVkXCI+XHJcbiAgICAgIDxwIGNsYXNzPVwiY2xzSW5mby10ZXh0IG10LTAgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMTNweFwiPiBQb3dlcmVkIGJ5IDwvc3Bhbj5cclxuICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly93d3cuY2FyZGluYWxpdHkuYWkvXCIgcmVsPVwibm9vcGVuZXJcIiByb2xlPVwibGlua1wiIHRhcmdldD1cIl9ibGFua1wiIHRhYmluZGV4PVwiMFwiPlxyXG4gICAgICAgICAgPGltZyBhbHQ9XCJjYXJkaW5hbGl0eVwiIGNsYXNzPVwiQ2FyZGluYWxpdHlfbG9nb1wiIHNyYz1cImFzc2V0cy9pbWFnZXMvY2FyZGluYWxpdHktbG9nb190ZXh0LnN2Z1wiIHdpZHRoPVwiMTIwXCIgLz5cclxuICAgICAgICA8L2E+XHJcbiAgICAgIDwvcD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbjxuZy10ZW1wbGF0ZSAjY29udGVudCBsZXQtbW9kYWw+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgPGg0IGNsYXNzPVwibW9kYWwtdGl0bGVcIiBpZD1cIm1vZGFsLWJhc2ljLXRpdGxlXCI+XHJcbiAgICAgIFBlcnNvbmFsaXplZCBJbnRlZ3JhdGVkIENpdGl6ZW4gU2VydmljZXMgKFBJQ1MpIFRlcm1zICZhbXA7IGNvbmRpdGlvbnNcclxuICAgIDwvaDQ+XHJcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCIgKGNsaWNrKT1cIm1vZGFsLmRpc21pc3MoJ0Nyb3NzIGNsaWNrJylcIj5cclxuICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgIDwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5IHRlcm1zY29uZGl0aW9uXCI+XHJcbiAgICA8cCBjbGFzcz1cIm1iLTJcIj5cclxuICAgICAgVGhlc2UgVGVybXMgYW5kIENvbmRpdGlvbnMgY29uc3RpdHV0ZSBhIGxlZ2FsbHkgYmluZGluZyBhZ3JlZW1lbnQgKOKAnEFncmVlbWVudOKAnSkgbWFkZSBiZXR3ZWVuIHlvdSwgd2hldGhlclxyXG4gICAgICBwZXJzb25hbGx5IGFzIGEgcHJvZmVzc2lvbmFsLCBvciBvbiBiZWhhbGYgb2YgYW4gZW50aXR5IHlvdSByZXByZXNlbnQgKOKAnFlvdeKAnSBvciDigJxDdXN0b21lcuKAnSkgYW5kIENhcmRpbmFsaXR5LkFJXHJcbiAgICAgIHdob3NlIHByaW5jaXBhbCBwbGFjZSBvZiBidXNpbmVzcyBpcyBNRCwgVS5TLkEsICjigJxDYXJkaW5hbGl0eeKAnSwg4oCcd2Us4oCdIOKAnHVz4oCdIG9yIOKAnG91cuKAnSksIGNvbmNlcm5pbmcgeW91ciBhY2Nlc3MgdG9cclxuICAgICAgYW5kIGNvbnRyYWN0aW5nIGEgUElDUyBvZmZlcmluZyAo4oCcUHJvZHVjdOKAnSkuXHJcbiAgICA8L3A+XHJcbiAgICA8cCBjbGFzcz1cIm1iLTJcIj5cclxuICAgICAgWW91IGFncmVlIHRoYXQgYnkgY29udHJhY3Rpbmcgb3VyIFByb2R1Y3QsIHlvdSBoYXZlIHJlYWQsIHVuZGVyc3Rvb2QsIGFuZCBhZ3JlZSB0byBiZSBib3VuZCBieSB0aGVzZSBUZXJtcyBhbmRcclxuICAgICAgQ29uZGl0aW9ucywgd2hpY2ggbWF5IGJlIGV4ZWN1dGVkIHZpYSBlbGVjdHJvbmljIHNpZ25hdHVyZSwgZWxlY3Ryb25pYyBvbmxpbmUgY29tbXVuaWNhdGlvbnMsIG9yIHZpYSBlbWFpbGVkXHJcbiAgICAgIFBERi1mb3JtYXQgZG9jdW1lbnQuXHJcbiAgICA8L3A+XHJcbiAgICA8cCBjbGFzcz1cIm1iLTJcIj5cclxuICAgICAgWW91IGNvbmZpcm0gdGhhdCB5b3UgYXJlIGZ1bGx5IGFibGUgYW5kIGVudGl0bGVkIHRvIGFjY2VwdCB0aGVzZSBUZXJtcyBhbmQgQ29uZGl0aW9ucyBnb3Zlcm5pbmcgdGhlIHB1cmNoYXNlIG9mXHJcbiAgICAgIHRoZSBQcm9kdWN0IGFuZCBhcmUgYXV0aG9yaXplZCB0byBkbyBzbyBvbiBiZWhhbGYgb2YgdGhlIEN1c3RvbWVyLiBUaGlzIHNlcnZpY2UgaXMgb25seSBhdmFpbGFibGUgZm9yXHJcbiAgICAgIHByb2Zlc3Npb25hbHMgYW5kIGNvbXBhbmllcywgYW5kIHlvdSByZXByZXNlbnQgdGhhdCB5b3UgYXJlIG5vdCBhIGNvbnN1bWVyIG9yIGEgbWlub3IuXHJcbiAgICA8L3A+XHJcbiAgICA8cCBjbGFzcz1cIm10LTQgbWItMlwiPlxyXG4gICAgICA8c3Ryb25nPkNPTkZJREVOVElBTElUWSBBR1JFRU1FTlQ8L3N0cm9uZz5cclxuICAgIDwvcD5cclxuICAgIDxwIGNsYXNzPVwibWItMlwiPlxyXG4gICAgICBZb3UgYWdyZWUgdGhhdCB5b3Ugc2hhbGwgbWFpbnRhaW4gc3RyaWN0bHkgY29uZmlkZW50aWFsLCBhbmQgc2hhbGwgbm90IHJldmVhbCBub3IgYnkgYW55IG1lYW5zIHRyYW5zZmVyIHRvIGEgdGhpcmRcclxuICAgICAgcGFydHksIG9yIHVzZSBhbnkgYW5kIGFsbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIHRoZSBTZXJ2aWNlcywgcHJvZHVjdHMsIG1hdGVyaWFscywgYW5kIHByb3RvdHlwZXMsIGFuZCBhbnlcclxuICAgICAgdGVjaG5pY2FsIGRvY3VtZW50YXRpb24gdGhhdCBmb3JtcyBwYXJ0IG9mIHRoZSBLbm93LWhvdyBvZiBQcm9kdWN0LCBvciB0aGF0IGl0IGhhcyByZWNlaXZlZCBmcm9tIHRoaXJkIHBhcnRpZXMsIG9yXHJcbiAgICAgIGFueSBvdGhlciBpbmZvcm1hdGlvbiB0byB3aGljaCB5b3UgaGF2ZSBhY2Nlc3MgYnkgdmlydHVlIG9mIGFjY2VwdGluZyB0aGVzZSB0ZXJtcy5cclxuICAgIDwvcD5cclxuICAgIDxwIGNsYXNzPVwibWItMlwiPlxyXG4gICAgICBZb3UgbWF5IG5vdCB1c2Ugb3VyIHByb2R1Y3RzIGZvciBhbnkgaWxsZWdhbCBvciB1bmF1dGhvcml6ZWQgcHVycG9zZSBub3IgbWF5IHlvdSwgaW4gdGhlIHVzZSBvZiB0aGUgU2VydmljZSxcclxuICAgICAgdmlvbGF0ZSBhbnkgbGF3cyBpbiB5b3VyIGp1cmlzZGljdGlvbiAoaW5jbHVkaW5nIGJ1dCBub3QgbGltaXRlZCB0byBjb3B5cmlnaHQgbGF3cykuXHJcbiAgICA8L3A+XHJcbiAgICA8cCBjbGFzcz1cIm10LTQgbWItMlwiPlxyXG4gICAgICA8c3Ryb25nPkRJU0NMQUlNRVIgT0YgV0FSUkFOVElFUzsgTElNSVRBVElPTiBPRiBMSUFCSUxJVFk8L3N0cm9uZz5cclxuICAgIDwvcD5cclxuICAgIDxwIGNsYXNzPVwibWItMlwiPlxyXG4gICAgICBXZSBkbyBub3QgZ3VhcmFudGVlLCByZXByZXNlbnQgb3Igd2FycmFudCB0aGF0IHlvdXIgdXNlIG9mIG91ciBzZXJ2aWNlIHdpbGwgYmUgdW5pbnRlcnJ1cHRlZCwgdGltZWx5LCBzZWN1cmUgb3JcclxuICAgICAgZXJyb3ItZnJlZS5cclxuICAgIDwvcD5cclxuICAgIDxwIGNsYXNzPVwibWItMlwiPlxyXG4gICAgICBXZSBkbyBub3Qgd2FycmFudCB0aGF0IHRoZSByZXN1bHRzIHRoYXQgbWF5IGJlIG9idGFpbmVkIGZyb20gdGhlIHVzZSBvZiB0aGUgc2VydmljZSB3aWxsIGJlIGFjY3VyYXRlIG9yIHJlbGlhYmxlLlxyXG4gICAgPC9wPlxyXG4gICAgPHAgY2xhc3M9XCJtYi0yXCI+XHJcbiAgICAgIFlvdSBhZ3JlZSB0aGF0IGZyb20gdGltZSB0byB0aW1lIHdlIG1heSByZW1vdmUgdGhlIHNlcnZpY2UgZm9yIGluZGVmaW5pdGUgcGVyaW9kcyBvZiB0aW1lIG9yIGNhbmNlbCB0aGUgc2VydmljZSBhdFxyXG4gICAgICBhbnkgdGltZSwgd2l0aG91dCBub3RpY2UgdG8geW91LlxyXG4gICAgPC9wPlxyXG4gICAgPHAgY2xhc3M9XCJtYi0yXCI+XHJcbiAgICAgIFlvdSBleHByZXNzbHkgYWdyZWUgdGhhdCB5b3VyIHVzZSBvZiwgb3IgaW5hYmlsaXR5IHRvIHVzZSwgdGhlIHNlcnZpY2UgaXMgYXQgeW91ciBzb2xlIHJpc2suIFRoZSBzZXJ2aWNlIGFuZCBhbGxcclxuICAgICAgcHJvZHVjdHMgYW5kIHNlcnZpY2VzIGRlbGl2ZXJlZCB0byB5b3UgdGhyb3VnaCB0aGUgc2VydmljZSBhcmUgKGV4Y2VwdCBhcyBleHByZXNzbHkgc3RhdGVkIGJ5IHVzKSBwcm92aWRlZCDigJhhcyBpc+KAmVxyXG4gICAgICBhbmQg4oCYYXMgYXZhaWxhYmxl4oCZIGZvciB5b3VyIHVzZSwgd2l0aG91dCBhbnkgcmVwcmVzZW50YXRpb24sIHdhcnJhbnRpZXMgb3IgY29uZGl0aW9ucyBvZiBhbnkga2luZCwgZWl0aGVyIGV4cHJlc3NcclxuICAgICAgb3IgaW1wbGllZCwgaW5jbHVkaW5nIGFsbCBpbXBsaWVkIHdhcnJhbnRpZXMgb3IgY29uZGl0aW9ucyBvZiBtZXJjaGFudGFiaWxpdHksIG1lcmNoYW50YWJsZSBxdWFsaXR5LCBmaXRuZXNzIGZvciBhXHJcbiAgICAgIHBhcnRpY3VsYXIgcHVycG9zZSwgZHVyYWJpbGl0eSwgdGl0bGUsIGFuZCBub24taW5mcmluZ2VtZW50LlxyXG4gICAgPC9wPlxyXG4gICAgPHAgY2xhc3M9XCJtdC00IG1iLTJcIj5cclxuICAgICAgPHN0cm9uZz5JTkRFTU5JRklDQVRJT048L3N0cm9uZz5cclxuICAgIDwvcD5cclxuICAgIDxwIGNsYXNzPVwibWItMlwiPlxyXG4gICAgICBZb3UgYWdyZWUgdG8gaW5kZW1uaWZ5LCBkZWZlbmQgYW5kIGhvbGQgaGFybWxlc3MgQ2FyZGluYWxpdHkuQUkgYW5kIG91ciBwYXJlbnQsIHN1YnNpZGlhcmllcywgYWZmaWxpYXRlcyxcclxuICAgICAgcGFydG5lcnMsIG9mZmljZXJzLCBkaXJlY3RvcnMsIGFnZW50cywgY29udHJhY3RvcnMsIGxpY2Vuc29ycywgc2VydmljZSBwcm92aWRlcnMsIHN1YmNvbnRyYWN0b3JzLCBzdXBwbGllcnMsXHJcbiAgICAgIGludGVybnMgYW5kIGVtcGxveWVlcywgaGFybWxlc3MgZnJvbSBhbnkgY2xhaW0gb3IgZGVtYW5kLCBpbmNsdWRpbmcgcmVhc29uYWJsZSBhdHRvcm5leXPigJkgZmVlcywgbWFkZSBieSBhbnlcclxuICAgICAgdGhpcmQtcGFydHkgZHVlIHRvIG9yIGFyaXNpbmcgb3V0IG9mIHlvdXIgYnJlYWNoIG9mIHRoZXNlIFRlcm1zIG9mIFNlcnZpY2Ugb3IgdGhlIGRvY3VtZW50cyB0aGV5IGluY29ycG9yYXRlIGJ5XHJcbiAgICAgIHJlZmVyZW5jZSBvciB5b3VyIHZpb2xhdGlvbiBvZiBhbnkgbGF3IG9yIHRoZSByaWdodHMgb2YgYSB0aGlyZC1wYXJ0eS5cclxuICAgIDwvcD5cclxuICAgIDxwIGNsYXNzPVwibXQtNCBtYi0yXCI+XHJcbiAgICAgIDxzdHJvbmc+U0VWRVJBQklMSVRZPC9zdHJvbmc+XHJcbiAgICA8L3A+XHJcbiAgICA8cCBjbGFzcz1cIm1iLTJcIj5cclxuICAgICAgSWYgYW55IHByb3Zpc2lvbiBvZiB0aGVzZSBUZXJtcyBvZiBTZXJ2aWNlIGlzIGRldGVybWluZWQgdG8gYmUgdW5sYXdmdWwsIHZvaWQsIG9yIHVuZW5mb3JjZWFibGUsIHN1Y2ggcHJvdmlzaW9uXHJcbiAgICAgIHNoYWxsIG5vbmV0aGVsZXNzIGJlIGVuZm9yY2VhYmxlIHRvIHRoZSBmdWxsZXN0IGV4dGVudCBwZXJtaXR0ZWQgYnkgYXBwbGljYWJsZSBsYXcsIGFuZCB0aGUgdW5lbmZvcmNlYWJsZSBwb3J0aW9uXHJcbiAgICAgIHNoYWxsIGJlIGRlZW1lZCB0byBiZSBzZXZlcmVkIGZyb20gdGhlc2UgVGVybXMgb2YgU2VydmljZSwgc3VjaCBkZXRlcm1pbmF0aW9uIHNoYWxsIG5vdCBhZmZlY3QgdGhlIHZhbGlkaXR5IGFuZFxyXG4gICAgICBlbmZvcmNlYWJpbGl0eSBvZiBhbnkgb3RoZXIgcmVtYWluaW5nIHByb3Zpc2lvbnMuXHJcbiAgICA8L3A+XHJcbiAgICA8cCBjbGFzcz1cIm10LTQgbWItMlwiPjxzdHJvbmc+R09WRVJOSU5HIExBVzwvc3Ryb25nPjwvcD5cclxuICAgIDxwIGNsYXNzPVwibWItMlwiPlxyXG4gICAgICBUaGVzZSBUZXJtcyBzaGFsbCBiZSBnb3Zlcm5lZCBhbmQgY29uc3RydWVkIGluIGFjY29yZGFuY2Ugd2l0aCB0aGUgbGF3cyBvZiBNYXJ5bGFuZCwgVW5pdGVkIFN0YXRlcywgd2l0aG91dCByZWdhcmRcclxuICAgICAgdG8gaXRzIGNvbmZsaWN0IG9mIGxhdyBwcm92aXNpb25zLlxyXG4gICAgPC9wPlxyXG4gICAgPHAgY2xhc3M9XCJtYi0yXCI+XHJcbiAgICAgIE91ciBmYWlsdXJlIHRvIGVuZm9yY2UgYW55IHJpZ2h0IG9yIHByb3Zpc2lvbiBvZiB0aGVzZSBUZXJtcyB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIGEgd2FpdmVyIG9mIHRob3NlIHJpZ2h0cy4gSWZcclxuICAgICAgYW55IHByb3Zpc2lvbiBvZiB0aGVzZSBUZXJtcyBpcyBoZWxkIHRvIGJlIGludmFsaWQgb3IgdW5lbmZvcmNlYWJsZSBieSBhIGNvdXJ0LCB0aGUgcmVtYWluaW5nIHByb3Zpc2lvbnMgb2YgdGhlc2VcclxuICAgICAgVGVybXMgd2lsbCByZW1haW4gaW4gZWZmZWN0LiBUaGVzZSBUZXJtcyBjb25zdGl0dXRlIHRoZSBlbnRpcmUgYWdyZWVtZW50IGJldHdlZW4gdXMgcmVnYXJkaW5nIG91ciBTZXJ2aWNlLCBhbmRcclxuICAgICAgc3VwZXJzZWRlIGFuZCByZXBsYWNlIGFueSBwcmlvciBhZ3JlZW1lbnRzIHdlIG1pZ2h0IGhhdmUgaGFkIGJldHdlZW4gdXMgcmVnYXJkaW5nIHRoZSBTZXJ2aWNlLlxyXG4gICAgPC9wPlxyXG4gICAgPHAgY2xhc3M9XCJtdC00IG1iLTJcIj48c3Ryb25nPkNIQU5HRVM8L3N0cm9uZz48L3A+XHJcbiAgICA8cCBjbGFzcz1cIm1iLTJcIj5cclxuICAgICAgV2UgcmVzZXJ2ZSB0aGUgcmlnaHQsIGF0IG91ciBzb2xlIGRpc2NyZXRpb24sIHRvIG1vZGlmeSBvciByZXBsYWNlIHRoZXNlIFRlcm1zIGF0IGFueSB0aW1lLiBJZiBhIHJldmlzaW9uIGlzXHJcbiAgICAgIG1hdGVyaWFsIHdlIHdpbGwgcHJvdmlkZSBhdCBsZWFzdCAzMCBkYXlzIG5vdGljZSBwcmlvciB0byBhbnkgbmV3IHRlcm1zIHRha2luZyBlZmZlY3QuIFdoYXQgY29uc3RpdHV0ZXMgYSBtYXRlcmlhbFxyXG4gICAgICBjaGFuZ2Ugd2lsbCBiZSBkZXRlcm1pbmVkIGF0IG91ciBzb2xlIGRpc2NyZXRpb24uXHJcbiAgICA8L3A+XHJcbiAgICA8cCBjbGFzcz1cIm1iLTJcIj5cclxuICAgICAgQnkgY29udGludWluZyB0byBhY2Nlc3Mgb3IgdXNlIG91ciBTZXJ2aWNlIGFmdGVyIGFueSByZXZpc2lvbnMgYmVjb21lIGVmZmVjdGl2ZSwgeW91IGFncmVlIHRvIGJlIGJvdW5kIGJ5IHRoZVxyXG4gICAgICByZXZpc2VkIHRlcm1zLiBJZiB5b3UgZG8gbm90IGFncmVlIHRvIHRoZSBuZXcgdGVybXMsIHlvdSBhcmUgbm8gbG9uZ2VyIGF1dGhvcml6ZWQgdG8gdXNlIHRoZSBTZXJ2aWNlLlxyXG4gICAgPC9wPlxyXG5cclxuICAgIDxwIGNsYXNzPVwibXQtNCBtYi0yXCI+PHN0cm9uZz5DT05UQUNUIFVTPC9zdHJvbmc+PC9wPlxyXG4gICAgPHAgY2xhc3M9XCJtYi0yXCI+SWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucyBhYm91dCB0aGVzZSBUZXJtcywgcGxlYXNlIGNvbnRhY3QgdXMuPC9wPlxyXG4gIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG4iXX0=