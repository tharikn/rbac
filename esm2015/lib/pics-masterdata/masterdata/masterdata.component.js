import { Component } from '@angular/core';
import { Validators, FormArray } from '@angular/forms';
import { PrimeIcons } from 'primeng/api';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import * as i0 from "@angular/core";
import * as i1 from "../@core/service/rbac.service";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/alert.service";
import * as i4 from "primeng/api";
import * as i5 from "../@core/permissions/permission.store";
import * as i6 from "../@core/service/data-store.service";
import * as i7 from "../@shared/alert/alert.component";
import * as i8 from "primeng/tree";
import * as i9 from "primeng/contextmenu";
import * as i10 from "primeng/confirmpopup";
import * as i11 from "primeng/card";
import * as i12 from "primeng/checkbox";
import * as i13 from "primeng/multiselect";
import * as i14 from "../@core/directives/permission.directive";
import * as i15 from "primeng/inputtext";
import * as i16 from "@angular/common";
export class MasterdataComponent {
    constructor(mastersService, formBuilder, alertService, confirmationService, permissionStore, _storeservice) {
        this.mastersService = mastersService;
        this.formBuilder = formBuilder;
        this.alertService = alertService;
        this.confirmationService = confirmationService;
        this.permissionStore = permissionStore;
        this._storeservice = _storeservice;
        this.menuItems = [];
        //categoryForm!: FormGroup;
        this.filterMasterList = [];
        this.selectedItem = {};
        this.pageErrorShow = false;
        this.templateList = [];
        this.dataControlActions = [
            { value: '', name: 'Select' },
            { value: 'HIDE', name: 'Hide' },
            { value: 'DISABLE', name: 'Disable' },
            { value: 'MASK', name: 'Mask' }
        ];
        this.RBACORG = new RBACINFO();
        this.nodeType = 'category';
        this.saveMode = 'INSERT';
        this.isGlobalLookup = true;
        // this.initializeCategoryForm();
        this.initializeLookupForm();
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                console.log(this.RBACORG, 'RBACORG Permisson');
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                if (this.environment) {
                    this.loadTree();
                    this.loadContextMenu();
                    this.mastersService.getAllUserRole().subscribe((items) => {
                        this.roles = items.data;
                    });
                    this.mastersService.getPermissionsTree(this.environment.applicationid).subscribe((items) => {
                        this.permissions = items.data;
                    });
                }
            }
        });
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    // initializeCategoryForm() {
    //   this.categoryForm = this.formBuilder.group({
    //     id: [0],
    //     applicationid: [this.environment ? this.environment['applicationid']: ''],
    //     name: ['', Validators.required],
    //     description: [''],
    //     readonly: [false],
    //     isenabled: [true]
    //   });
    // }
    initializeLookupForm() {
        this.pageErrorShow = false;
        this.lookupForm = this.formBuilder.group({
            id: [0],
            applicationid: [this.environment ? this.environment['applicationid'] : ''],
            name: ['', Validators.required],
            description: [''],
            readonly: [false],
            isenabled: [true],
            lookup: this.formBuilder.group({
                id: [0],
                //lookupcategoryid: [0],
                parentid: [null],
                // optionaldata: this.formBuilder.group({
                //   rules: this.formBuilder.array([])
                // }),
                // access: this.formBuilder.group({
                //   assign: ['', [this.requiredIfValidator(() => !this.isGlobalLookup)]],
                //   view: ['', [this.requiredIfValidator(() => !this.isGlobalLookup)]]
                // }),
                lookupdata: this.formBuilder.array([this.addlookupdata()]),
                readonly: [false],
                global: [true],
                isenabled: [true]
            })
        });
    }
    // get datarules() {
    //   return this.lookupForm.get('optionaldata.rules') as FormArray;
    // }
    get lookupdata() {
        const lookupFormGroup = this.lookupForm.get('lookup');
        if (lookupFormGroup && lookupFormGroup.get('lookupdata') instanceof FormArray) {
            return lookupFormGroup.get('lookupdata');
        }
    }
    addRule() {
        return this.formBuilder.group({
            roles: ['', Validators.required],
            permission: ['', Validators.required],
            action: ['', Validators.required]
        });
    }
    // onAddRule(): void {
    //   this.datarules.push(this.addRule());
    // }
    addlookupdata() {
        return this.formBuilder.group({
            key: ['', Validators.required],
            value: ['', Validators.required],
            order: [0]
        });
    }
    onAddLookUpData() {
        this.pageErrorShow = false;
        this.lookupdata.push(this.addlookupdata());
    }
    onDeleteLookupData(i) {
        this.lookupdata.removeAt(i);
    }
    // onDeleteRule(rowIndex: number): void {
    //   this.datarules.removeAt(rowIndex);
    // }
    searchMaster(event) {
        const value = event.target.value.toUpperCase();
        this.filterMasterList = this.categories.filter((a) => { var _a; return (_a = a['name']) === null || _a === void 0 ? void 0 : _a.toUpperCase().startsWith(value); });
    }
    onNodeContextMenuSelect(event) {
        if (event.node.type === 'category') {
            const permission = this.permissionStore.state;
            this.menuItems = [
                {
                    label: 'Create Category',
                    icon: PrimeIcons.ARROW_UP_LEFT,
                    visible: permission.SETTINGS_MAS_CREATE_CATOGORY,
                    badge: 'SETTINGS_MAS_CREATE_CATOGORY',
                    command: (createEvent) => {
                        this.saveMode = 'INSERT';
                        this.nodeType = 'category';
                        this.clearForm();
                        console.log(createEvent);
                    }
                },
                {
                    label: 'Create Lookup',
                    icon: PrimeIcons.ARROW_DOWN_RIGHT,
                    visible: permission.SETTINGS_MAS_CREATE_LOOKUP,
                    badge: 'SETTINGS_MAS_CREATE_LOOKUP',
                    command: _event => {
                        this.setInsertEvent();
                    }
                },
                {
                    label: 'Delete',
                    icon: PrimeIcons.TRASH,
                    visible: permission.SETTINGS_MAS_DELETE,
                    badge: 'SETTINGS_MAS_DELETE',
                    command: deleteEvent => {
                        this.saveMode = 'DELETE';
                        this.nodeType = this.selectedItem.type;
                        console.log(deleteEvent);
                        $('#Deleteuser').modal('show');
                        // this.confirmationService.confirm({
                        //   target: deleteEvent.target,
                        //   message: 'Are you sure that you want to delete?',
                        //   icon: 'pi pi-exclamation-triangle',
                        //   accept: () => {
                        //     this.deleteItem();
                        //   },
                        //   reject: () => {
                        //     //not to be empty
                        //   }
                        // });
                    }
                }
            ];
        }
        else if (event.node.type === 'lookup') {
            this.menuItems = [
                {
                    label: 'Create Lookup',
                    icon: PrimeIcons.ARROW_DOWN_RIGHT,
                    command: _eventErase => {
                        this.setInsertEvent();
                    }
                },
                {
                    label: 'Delete',
                    icon: PrimeIcons.TRASH,
                    command: RemoveEvent => {
                        this.saveMode = 'DELETE';
                        this.nodeType = this.selectedItem.type;
                        console.log(RemoveEvent);
                        $('#Deleteuser').modal('show');
                        // this.confirmationService.confirm({
                        //   target: RemoveEvent.target,
                        //   message: 'Are you sure that you want to delete?',
                        //   icon: 'pi pi-exclamation-triangle',
                        //   accept: () => {
                        //     this.deleteItem();
                        //   },
                        //   reject: () => {
                        //     //not to be empty
                        //   }
                        // });
                    }
                }
            ];
        }
    }
    setInsertEvent() {
        this.saveMode = 'INSERT';
        this.nodeType = this.selectedItem.type;
        this.createLookupForm();
        // this.clearRules();
    }
    nodeSelect(event) {
        this.nodeselecttype = 'UPDATE';
        this.saveMode = 'UPDATE';
        this.nodeType = event.node.type;
        // if (event.node.type === 'lookup') {
        // this.mastersService.getLookup(event.node.id).subscribe((item: any) => {
        //   const lookup = item['data'];
        this.mastersService.getLookupBycategoryID(event.node.data).subscribe((nodes) => {
            const lookup = nodes.data.lookup;
            // });
            // Assume this.lookupForm is your existing form instance created using the FormBuilder
            console.log('lookup', lookup);
            // Patch values for the main form
            this.lookupForm.patchValue({
                id: lookup.id,
                // lookupcategoryid: lookup.lookupcategoryid,
                parentid: lookup.parentid,
                readonly: lookup.readonly,
                global: lookup.global,
                isenabled: lookup.isenabled
            });
            // this.lookupForm.get('lookup')?.patchValue({
            //   lookupdata: lookup.lookupdata,
            //   });
            this.lookupForm.patchValue(lookup);
            console.log('lookupFormValue', this.lookupForm.value);
            const lookupDataFormArray = this.lookupForm.get('lookup.lookupdata');
            // Clear existing form array values
            while (lookupDataFormArray.length !== 0) {
                lookupDataFormArray.removeAt(0);
            }
            // Patch the form array with new values
            lookup.lookupdata.forEach(data => {
                lookupDataFormArray.push(this.formBuilder.group(data));
            });
            console.log('lookupdataformarray', lookupDataFormArray);
            // Patch values for the nested form array (lookupdata)
            // const lookupdataArray = this.lookupForm.get('lookupdata') as FormArray;
            // lookupdataArray.clear(); // Clear existing form array
            // Assuming you have a method to create a form group for lookupdata
            // const lookupDataGroup = this.addlookupdata(); 
            // lookupDataGroup.patchValue({
            //   key: lookup.key,
            //   value: lookup.value,
            //   order: lookup.order
            // Add more properties as needed
            // });
            // lookupdataArray.push(lookupDataGroup);
            //this.setGlobal(lookup.global);
            // this.lookupForm.patchValue(lookup);
            // this.lookupForm.reset();
        });
        //  } else {
        //  this.lookupForm.reset();
        //   this.lookupForm.patchValue(event.node);
        //   }
        console.log(event.node);
    }
    // private clearRules() {
    //   for (let index = 0; index < this.datarules.length; index++) {
    //     this.datarules.removeAt(index);
    //   }
    // }
    nodeExpand(event) {
        if (event.node && event.node.data && event.node.type !== 'lookup') {
            this.mastersService.getLookupTree(event.node.data).subscribe((nodes) => {
                event.node.children = nodes.data;
            });
        }
    }
    // saveCategory() {
    //   const category = this.categoryForm.value;
    //   category.applicationid =this.environment.applicationid;
    //   console.log(category);
    //   category.order = category.order ? Number(category.order) : 1;
    //   if (this.categoryForm.valid) {
    //     if (this.saveMode === 'INSERT') {
    //       this.mastersService.createCategory(category).subscribe(() => {
    //         this.alertService.success('Category created successfully.');
    //         this.loadTree();
    //         this.clearForm();
    //              });
    //     } else {
    //       this.mastersService.updateCategory(category).subscribe(() => {
    //         this.alertService.success('Category updated successfully.');
    //         this.loadTree();
    //         this.clearForm();
    //       });
    //     }
    //   } else {
    //     this.alertService.error('Please Fill All Required Fields');
    //   }
    //}
    saveLookup() {
        this.pageErrorShow = true;
        const lookupdts = this.lookupForm.value;
        lookupdts.applicationid = this.environment.applicationid;
        lookupdts.order = lookupdts.order ? Number(lookupdts.order) : 1;
        console.log(lookupdts);
        if (this.lookupForm.valid) {
            delete lookupdts.readonly;
            lookupdts.lookup.order = lookupdts.lookup.order ? Number(lookupdts.lookup.order) : 1;
            // if (lookup.optionaldata && lookup.optionaldata.rules) {
            //   lookup.optionaldata.rules = lookup.optionaldata.rules.map((rule: any) => {
            //     rule.permission.parent = null;
            //     return rule;
            //   });
            // }
            if (this.saveMode === 'INSERT') {
                this.mastersService.createLookup(lookupdts).subscribe(() => {
                    this.alertService.success('Lookup created successfully.');
                    this.loadTree();
                    this.clearForm();
                });
            }
            else {
                this.mastersService.updateLookup(lookupdts).subscribe(() => {
                    this.alertService.success('Lookup updated successfully.');
                    this.loadTree();
                    this.clearForm();
                });
            }
        }
        else {
            // this.alertService.error('Invalid lookup data.');
        }
    }
    clearForm() {
        this.initializeLookupForm();
    }
    createLookupForm() {
        this.initializeLookupForm();
        this.setGlobal(true);
        if (this.nodeType === 'category') {
            this.nodeType = 'lookup';
            this.lookupForm.patchValue({
                lookupcategoryid: this.selectedItem.id
            });
        }
        else {
            this.lookupForm.patchValue({
                lookupcategoryid: this.selectedItem.lookupcategoryid,
                parentid: this.selectedItem.id
            });
        }
    }
    setGlobal(checked) {
        var _a;
        this.isGlobalLookup = checked;
        (_a = this.lookupForm.get('access')) === null || _a === void 0 ? void 0 : _a.patchValue({
            view: [],
            assign: []
        });
    }
    loadContextMenu() {
        this.menuItems = [
            {
                label: 'Create Category',
                icon: PrimeIcons.ARROW_UP_LEFT,
                command: (event) => {
                    this.saveMode = 'INSERT';
                    this.nodeType = 'category';
                    this.clearForm();
                    console.log(event);
                }
            },
            {
                label: 'Create Lookup',
                icon: PrimeIcons.ARROW_DOWN_RIGHT,
                command: _eventNode => {
                    this.setInsertEvent();
                }
            },
            {
                label: 'Delete',
                icon: PrimeIcons.TRASH,
                command: event => {
                    this.saveMode = 'DELETE';
                    this.nodeType = this.selectedItem.type;
                    console.log(event);
                    $('#Deleteuser').modal('show');
                    // this.confirmationService.confirm({
                    //   target: event.target,
                    //   message: 'Are you sure that you want to delete?',
                    //   icon: 'pi pi-exclamation-triangle',
                    //   accept: () => {
                    //     //confirm action
                    //     this.deleteItem();
                    //   },
                    //   reject: () => {
                    //     // This is intentional
                    //   }
                    // });
                }
            }
        ];
    }
    loadTree() {
        this.pageErrorShow = false;
        this.mastersService.getAllCategoryTree(this.environment.applicationid).subscribe((items) => {
            this.categories = items;
            if (this.categories.length) {
                this.selectedItem = this.categories[0];
                this.filterMasterList = this.categories;
            }
        });
    }
    cancel() {
        this.lookupForm.reset();
        //this.lookupForm.reset();
    }
    deleteItem() {
        this.saveMode = 'UPDATE';
        if (this.selectedItem.type === 'lookup') {
            this.mastersService.deleteLookup(this.selectedItem.id).subscribe((_item) => {
                this.cancel();
                $('#Deleteuser').modal('hide');
                this.alertService.warn('Lookup deleted successfully.');
                this.loadTree();
            });
        }
        else {
            this.mastersService.deleteCategory(this.selectedItem.id).subscribe((_item) => {
                this.cancel();
                $('#Deleteuser').modal('hide');
                this.alertService.warn('Category deleted successfully.');
                this.loadTree();
            });
        }
    }
    requiredIfValidator(predicate) {
        return (formControl) => {
            if (!formControl.parent) {
                return null;
            }
            if (predicate()) {
                return Validators.required(formControl);
            }
            return null;
        };
    }
}
MasterdataComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: MasterdataComponent, deps: [{ token: i1.RbacService }, { token: i2.FormBuilder }, { token: i3.AlertService }, { token: i4.ConfirmationService }, { token: i5.PermissionStore }, { token: i6.DataStoreService }], target: i0.ɵɵFactoryTarget.Component });
MasterdataComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: MasterdataComponent, selector: "lib-masterdata", ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch\">\r\n            <input class=\"form-control\" placeholder=\"Search by Category name\" type=\"text\" (keyup)=\"searchMaster($event)\"\r\n              fieldKey=\"SETTINGS_MAS_SEARCH_BY_NAME\" pInputText />\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n\r\n          <div class=\"masteracess\">\r\n            <p-tree [value]=\"filterMasterList\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\r\n              (onNodeSelect)=\"nodeSelect($event)\" (onNodeContextMenuSelect)=\"onNodeContextMenuSelect($event)\"\r\n              [contextMenu]=\"treeContextMenu\"></p-tree>\r\n            <p-contextMenu #treeContextMenu [model]=\"menuItems\" appendTo=\"body\"></p-contextMenu>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-lg-8 col-md-6 col-12 master-right mt-2\">\r\n      <p-confirmPopup></p-confirmPopup>\r\n      <p-card id=\"lookupForm\" class=\"rbac-card\" [formGroup]=\"lookupForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Masters/Category</span>\r\n        </div>\r\n        <input id=\"cid\" type=\"hidden\" formControlName=\"id\" />\r\n        <input id=\"capplicationid\" type=\"hidden\" formControlName=\"applicationid\" />\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n            <label for=\"mName\" class=\"referral-form-labels\">Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"mName\" type=\"text\" formControlName=\"name\" fieldKey=\"SETTINGS_MAS_NAME\" placeholder=\"Enter Name\"\r\n              aria-describedby=\"mName\" pInputText />\r\n            <div *ngIf=\"\r\n                lookupForm.controls['name'].invalid &&\r\n                (lookupForm.controls['name'].dirty || lookupForm.controls['name'].touched)\r\n              \">\r\n              <small *ngIf=\"lookupForm.controls['name'].invalid\" class=\"p-error block\">Name is required </small>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n            <label for=\"cdescription\" class=\"referral-form-labels\">Description </label>\r\n            <input id=\"cdescription\" type=\"text\" formControlName=\"description\" fieldKey=\"SETTINGS_MAS_DESCRYPTION\"\r\n              placeholder=\"Enter Description\" aria-describedby=\"cdescription\" pInputText />\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels d-none d-lg-inline-block\">&#160;</label>\r\n            <div>\r\n              <p-checkbox st inputId=\"readOnly\" [binary]=\"true\" formControlName=\"readonly\"\r\n                fieldKey=\"SETTINGS_MAS_READ_ONLY\" label=\"Readonly\">\r\n              </p-checkbox>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels d-none d-lg-inline-block\">&#160;</label>\r\n            <div>\r\n              <p-checkbox st inputId=\"active\" [binary]=\"true\" formControlName=\"isenabled\" fieldKey=\"SETTINGS_MAS_ACTIVE\"\r\n                label=\"Active\"></p-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_MAS_ADD_CATOGORY\"\r\n            (click)=\"saveCategory()\">\r\n            {{ saveMode === 'UPDATE' ? 'Update Category' : 'Add Category' }}\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary border border-primary btncancel\"\r\n            fieldKey=\"SETTINGS_MAS_CANCEL\" (click)=\"clearForm()\">\r\n            Cancel\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </div> -->\r\n      </p-card>\r\n\r\n      <p-card id=\"lookupForm\" class=\"rbac-card\" [formGroup]=\"lookupForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Masters/Lookup</span>\r\n        </div>\r\n        <!-- <input id=\"lid\" type=\"hidden\" formControlName=\"lookup.id\" /> -->\r\n        <!-- <input id=\"llookupcategoryid\" type=\"hidden\" formControlName=\"lookupcategoryid\" /> -->\r\n        <!-- <input id=\"lparentid\" type=\"hidden\" formControlName=\"lookup.parentid\" /> -->\r\n        <div>\r\n          <div>\r\n            <button class=\"pull-right mb-2 btn btn-primary btncommon\"\r\n              (click)=\"onAddLookUpData()\">+</button>\r\n          </div>\r\n          <div class=\"p-datatable-wrapper\">\r\n            <table class=\"p-datatable-table table\">\r\n              <thead class=\"p-datatable-thead\">\r\n                <tr>\r\n                  <th style=\"width: 35%;\"\r\n                  >Key \r\n                  <span class=\"requiredfield text-danger\">*</span>\r\n                  </th>\r\n                  <th style=\"width: 35%;\">Value \r\n                    <span class=\"requiredfield text-danger\">*</span>\r\n                  </th>\r\n                  <th style=\"width: 25%;\">Order</th>\r\n                  <th style=\"width: 5%;\" *ngIf=\"saveMode == 'INSERT'\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody formArrayName=\"lookup.lookupdata\">\r\n                <ng-container *ngFor=\"let field of lookupdata.controls; let i = index\">\r\n                  <tr [formGroupName]=\"i\">\r\n                    <td>\r\n                      <input id=\"lkey\" type=\"text\" placeholder=\"Enter Key {{i + 1}}\" formControlName=\"key\"\r\n                        aria-describedby=\"lkey\" pInputText />\r\n                        <div *ngIf=\"pageErrorShow ? field.get('key').invalid : field.get('key').errors && field.get('key').touched\">\r\n                          <!-- field.get('key')?.touched && field.get('key')?.errors && field.get('key')?.hasError('required')\"> -->\r\n                            <small class=\"p-error block\">Key is required</small>\r\n                          </div>\r\n                    </td>\r\n                    <td>\r\n                      <input id=\"lvalue\" type=\"text\" placeholder=\"Enter Value {{i + 1}}\" formControlName=\"value\"\r\n                        aria-describedby=\"lvalue\" pInputText />\r\n                        <div *ngIf=\"pageErrorShow ? field.get('value').invalid : field.get('value').errors && field.get('value').touched\">\r\n                          <small class=\"p-error block\">Value is required</small>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                      <input id=\"lorder\" type=\"text\" formControlName=\"order\" placeholder=\"Enter Order {{i + 1}}\"\r\n                        pInputText />\r\n                    </td>\r\n                    <td *ngIf=\"saveMode == 'INSERT' &&  lookupdata.length > 1\">\r\n                      <button type=\"button\" class=\"btn btn-default\" title=\"delete\"\r\n                        (click)=\"onDeleteLookupData(i)\">\r\n                        <i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                </ng-container>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n        </div>\r\n        <!-- <ng-container formGroupName=\"optionaldata\">\r\n          <p-table [value]=\"datarules.controls\" width=\"100%\" [responsive]=\"true\" formArrayName=\"rules\">\r\n            <ng-template pTemplate=\"caption\">\r\n              <div class=\"flex align-items-center justify-content-between\">\r\n                Control Flow\r\n                <button class=\"pull-right mb-2 btn btn-primary btncommon\" (click)=\"onAddRule()\">+</button>\r\n              </div>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"header\">\r\n              <tr>\r\n                <th id=\"datarules-roles\" style=\"width: 35%\">Roles</th>\r\n                <th id=\"datarules-permissions\" style=\"width: 35%\">Permissions</th>\r\n                <th id=\"datarules-action\" style=\"width: 20%\">Action</th>\r\n                <th id=\"datarules-empty\" style=\"width: 10%\"></th>\r\n              </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\">\r\n              <ng-container>\r\n                <tr [formGroupName]=\"rowIndex\">\r\n                  <td>\r\n                    <p-multiSelect [options]=\"roles\" formControlName=\"roles\" defaultLabel=\"Select Roles\"\r\n                      optionLabel=\"name\" optionValue=\"id\" ariaFilterLabel=\"null\"\r\n                      ariaLabelledBy=\"selectRoles{{ rowIndex }}\" id=\"selectRoles{{ rowIndex }}\" display=\"chip\">\r\n                    </p-multiSelect>\r\n                    <div class=\"text-danger\" *ngIf=\"\r\n                        rowData.get('roles').errors && (rowData.get('roles').dirty || rowData.get('roles').touched)\r\n                      \">\r\n                      <div *ngIf=\"rowData.get('roles').errors?.required\">Role is Required</div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <p-treeSelect formControlName=\"permission\" [options]=\"permissions\" optionLabel=\"label\"\r\n                      optionValue=\"data\" placeholder=\"Select Permissions\" id=\"selectPermit{{ rowIndex }}\"\r\n                      ariaLabelledBy=\"selectPermit{{ rowIndex }}\" class=\"permission-tree\"></p-treeSelect>\r\n                    <div class=\"text-danger\" *ngIf=\"\r\n                        rowData.get('permission').errors &&\r\n                        (rowData.get('permission').dirty || rowData.get('permission').touched)\r\n                      \">\r\n                      <div *ngIf=\"rowData.get('permission').errors?.required\">Permission is Required</div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <p-dropdown optionLabel=\"name\" optionValue=\"value\" [options]=\"dataControlActions\"\r\n                      id=\"selectValue{{ rowIndex }}\" ariaLabelledBy=\"selectValue{{ rowIndex }}\"\r\n                      formControlName=\"action\">\r\n                    </p-dropdown>\r\n                    <div class=\"text-danger\" *ngIf=\"\r\n                        rowData.get('action').errors && (rowData.get('action').dirty || rowData.get('action').touched)\r\n                      \">\r\n                      <div *ngIf=\"rowData.get('action').errors?.required\">Action is Required</div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <button type=\"button\" class=\"btn btn-default\" title=\"delete\" (click)=\"onDeleteRule(rowIndex)\">\r\n                      <i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </ng-container>\r\n            </ng-template>\r\n          </p-table>\r\n        </ng-container> -->\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"p-field p-col\" style=\"padding: 25px 0px 0px 10px\">\r\n            <p-checkbox inputId=\"binaryGlobal\" [binary]=\"true\" formControlName=\"global\"\r\n              (onChange)=\"setGlobal($event.checked)\" label=\"Global\"></p-checkbox>\r\n          </div>\r\n          <div class=\"p-field p-col\" style=\"padding: 25px 0px 0px 10px\">\r\n            <p-checkbox inputId=\"binaryActive\" [binary]=\"true\" formControlName=\"isenabled\" label=\"Active\"></p-checkbox>\r\n          </div>\r\n          <div class=\"p-field p-col\"></div>\r\n          <div class=\"p-field p-col\"></div>\r\n        </div>\r\n        <ng-container *ngIf=\"!isGlobalLookup\">\r\n          <div class=\"p-fluid p-formgrid p-grid\" formGroupName=\"access\">\r\n            <div class=\"p-field p-col\">\r\n              <label for=\"pname\" class=\"referral-form-labels\">View Access </label>\r\n              <p-multiSelect [options]=\"roles\" formControlName=\"view\" defaultLabel=\"Select Roles\" optionLabel=\"name\"\r\n                optionValue=\"id\" display=\"chip\">\r\n              </p-multiSelect>\r\n              <div *ngIf=\"lookupForm.get('access.view')?.errors\">\r\n                <small *ngIf=\"lookupForm.get('access.view')?.invalid\" class=\"p-error block\">Role is required </small>\r\n              </div>\r\n            </div>\r\n            <div class=\"p-field p-col\">\r\n              <label for=\"pname\" class=\"referral-form-labels\">Assign Access </label>\r\n              <p-multiSelect [options]=\"roles\" formControlName=\"assign\" defaultLabel=\"Select Roles\" optionLabel=\"name\"\r\n                optionValue=\"id\" display=\"chip\">\r\n              </p-multiSelect>\r\n              <div *ngIf=\"lookupForm.get('access.assign')?.errors\">\r\n                <small *ngIf=\"lookupForm.get('access.assign')?.invalid\" class=\"p-error block\">Role is required </small>\r\n              </div>\r\n            </div>\r\n            <div class=\"p-field p-col\"></div>\r\n          </div>\r\n        </ng-container>\r\n\r\n        <div class=\"mt-2\">\r\n          <button type=\"submit\" class=\"pull-right mb-2 btn btn-primary btncommon\" (click)=\"saveLookup()\">\r\n           Save <!-- {{ saveMode === 'UPDATE' ? 'Update Lookup' : 'Add Lookup' }} -->\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" (click)=\"clearForm()\">Cancel</button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Delete {{this.selectedItem.type === 'lookup' ? 'Lookup' : 'Category'}}</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        Are you sure you want to delete the {{this.selectedItem.type === 'lookup' ? 'Lookup' : 'Category'}}?\r\n        <!-- Are you sure want to Delete User ? -->\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"deleteItem()\">\r\n            Delete\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:var(--base-font-size)}.masteracess{border:solid 1px var(--table-border);border-radius:2px;padding:5px 0;overflow-y:auto;background:var(--bg-light);max-height:calc(100vh - 243px);min-height:calc(100vh - 237px)}.masterempty{max-width:none;border-radius:50%;height:40px;width:40px}.row.masterdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.namemaster{font-size:var(--base-font-size);color:#000}.masterid,span.emailmaster{font-size:var(--base-font-size);color:#9b9b9b}span.deletemaster{position:absolute;top:0px;right:15px;z-index:9;width:20px;float:right;cursor:pointer}span.deletemaster img{width:12px}.activate{position:absolute;margin-top:-46px;margin-left:44rem}.toggleleft{font-size:13px;font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-left:12px}:host ::ng-deep .ui-tree.permission-tree{width:100%}:host ::ng-deep .p-datatable .p-datatable-header{background:var(--background-color);color:var(--text-dark);border-color:var(--table-border)}:host ::ng-deep .p-datatable .p-datatable-thead tr th{background:var(--background-color);color:var(--text-dark);border-color:var(--table-border)}.p-datatable-wrapper tr td{text-align:left;border:none;padding:15px 8px;vertical-align:top}.p-datatable-wrapper tr td input{width:100%}.p-datatable-wrapper tr td button i{color:#f92929}\n"], components: [{ type: i7.AlertComponent, selector: "app-alert" }, { type: i8.Tree, selector: "p-tree", inputs: ["value", "selectionMode", "selection", "style", "styleClass", "contextMenu", "layout", "draggableScope", "droppableScope", "draggableNodes", "droppableNodes", "metaKeySelection", "propagateSelectionUp", "propagateSelectionDown", "loading", "loadingIcon", "emptyMessage", "ariaLabel", "togglerAriaLabel", "ariaLabelledBy", "validateDrop", "filter", "filterBy", "filterMode", "filterPlaceholder", "filteredNodes", "filterLocale", "scrollHeight", "virtualScroll", "virtualNodeHeight", "minBufferPx", "maxBufferPx", "indentation", "trackBy"], outputs: ["selectionChange", "onNodeSelect", "onNodeUnselect", "onNodeExpand", "onNodeCollapse", "onNodeContextMenuSelect", "onNodeDrop", "onFilter"] }, { type: i9.ContextMenu, selector: "p-contextMenu", inputs: ["model", "global", "target", "style", "styleClass", "appendTo", "autoZIndex", "baseZIndex", "triggerEvent"], outputs: ["onShow", "onHide"] }, { type: i10.ConfirmPopup, selector: "p-confirmPopup", inputs: ["key", "defaultFocus", "showTransitionOptions", "hideTransitionOptions", "autoZIndex", "baseZIndex", "style", "styleClass", "visible"] }, { type: i11.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { type: i12.Checkbox, selector: "p-checkbox", inputs: ["value", "name", "disabled", "binary", "label", "ariaLabelledBy", "ariaLabel", "tabindex", "inputId", "style", "styleClass", "labelStyleClass", "formControl", "checkboxIcon", "readonly", "required", "trueValue", "falseValue"], outputs: ["onChange"] }, { type: i13.MultiSelect, selector: "p-multiSelect", inputs: ["style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "label", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "autoZIndex", "baseZIndex", "filterBy", "virtualScroll", "itemSize", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "scrollHeight", "defaultLabel", "placeholder", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide"] }], directives: [{ type: i14.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i15.InputText, selector: "[pInputText]" }, { type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i2.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i16.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i2.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { type: i16.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i2.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: MasterdataComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-masterdata',
                    templateUrl: './masterdata.component.html',
                    styleUrls: ['./masterdata.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.RbacService }, { type: i2.FormBuilder }, { type: i3.AlertService }, { type: i4.ConfirmationService }, { type: i5.PermissionStore }, { type: i6.DataStoreService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFzdGVyZGF0YS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvbWFzdGVyZGF0YS9zcmMvbGliL3BpY3MtbWFzdGVyZGF0YS9tYXN0ZXJkYXRhL21hc3RlcmRhdGEuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL21hc3RlcmRhdGEvc3JjL2xpYi9waWNzLW1hc3RlcmRhdGEvbWFzdGVyZGF0YS9tYXN0ZXJkYXRhLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUEwQixVQUFVLEVBQUUsU0FBUyxFQUFtQixNQUFNLGdCQUFnQixDQUFDO0FBQ2hHLE9BQU8sRUFBMkMsVUFBVSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBTWxGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3pELE1BQU0sT0FBTyxtQkFBbUI7SUE2QjlCLFlBQ1UsY0FBMkIsRUFDM0IsV0FBd0IsRUFDeEIsWUFBMEIsRUFDMUIsbUJBQXdDLEVBQ3hDLGVBQWdDLEVBQ2hDLGFBQStCO1FBTC9CLG1CQUFjLEdBQWQsY0FBYyxDQUFhO1FBQzNCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBQzFCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFDeEMsb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBQ2hDLGtCQUFhLEdBQWIsYUFBYSxDQUFrQjtRQWhDekMsY0FBUyxHQUFlLEVBQUUsQ0FBQztRQUMzQiwyQkFBMkI7UUFDM0IscUJBQWdCLEdBQVUsRUFBRSxDQUFDO1FBTzdCLGlCQUFZLEdBQVEsRUFBRSxDQUFDO1FBR3ZCLGtCQUFhLEdB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QUMsV0FBVyxDQUFDLE1BQU0sRUFBRTtnQkFDdkIsT0FBTyxJQUFJLENBQUM7YUFDYjtZQUNELElBQUksU0FBUyxFQUFFLEVBQUU7Z0JBQ2YsT0FBTyxVQUFVLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3pDO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUM7SUFDSixDQUFDOztpSEFoZ0JVLG1CQUFtQjtxR0FBbkIsbUJBQW1CLHNEQ2ZoQywwdGVBb1JNOzRGRHJRTyxtQkFBbUI7a0JBTC9CLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLGdCQUFnQjtvQkFDMUIsV0FBVyxFQUFFLDZCQUE2QjtvQkFDMUMsU0FBUyxFQUFFLENBQUMsNkJBQTZCLENBQUM7aUJBQzNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtQnVpbGRlciwgVmFsaWRhdG9ycywgRm9ybUFycmF5LCBBYnN0cmFjdENvbnRyb2wgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IFRyZWVOb2RlLCBNZW51SXRlbSwgQ29uZmlybWF0aW9uU2VydmljZSwgUHJpbWVJY29ucyB9IGZyb20gJ3ByaW1lbmcvYXBpJztcclxuaW1wb3J0IHsgUGVybWlzc2lvblN0b3JlIH0gZnJvbSAnLi4vQGNvcmUvcGVybWlzc2lvbnMvcGVybWlzc2lvbi5zdG9yZSc7XHJcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XHJcbmltcG9ydCB7IFJiYWNTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9yYmFjLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBEYXRhU3RvcmVTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9kYXRhLXN0b3JlLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgUkJBQ0lORk8gfSBmcm9tICcuLi9AY29yZS91cmxzL3JiYWMtdXJsLmNvbmZpZyc7XHJcbmRlY2xhcmUgY29uc3QgJCA6IGFueTtcclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItbWFzdGVyZGF0YScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL21hc3RlcmRhdGEuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL21hc3RlcmRhdGEuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTWFzdGVyZGF0YUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgdXBkYXRlTG9va1VwRm9ybSA6IEZvcm1Hcm91cDtcclxuICBjYXRlZ29yaWVzITogVHJlZU5vZGVbXTtcclxuICBtZW51SXRlbXM6IE1lbnVJdGVtW10gPSBbXTtcclxuICAvL2NhdGVnb3J5Rm9ybSE6IEZvcm1Hcm91cDtcclxuICBmaWx0ZXJNYXN0ZXJMaXN0OiBhbnlbXSA9IFtdO1xyXG4gIGxvb2t1cEZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgbG9va3VwUnVsZUZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgcm9sZXMhOiBhbnlbXTtcclxuICBwZXJtaXNzaW9ucyE6IGFueVtdO1xyXG4gIG5vZGVUeXBlOiBzdHJpbmc7XHJcbiAgc2F2ZU1vZGU6IHN0cmluZztcclxuICBzZWxlY3RlZEl0ZW06IGFueSA9IHt9O1xyXG4gIG5vZGVzZWxlY3R0eXBlIDogc3RyaW5nO1xyXG4gIGlzR2xvYmFsTG9va3VwOiBib29sZWFuO1xyXG4gIHBhZ2VFcnJvclNob3cgPSBmYWxzZTtcclxuICB1cGRhdGVHcmlkOiBhbnk7XHJcbiAgdGFibGVDb2x1bW5zOiBhbnlbXTtcclxuICB0ZW1wbGF0ZUxpc3Q6IGFueSA9IFtdO1xyXG4gIGRhdGFDb250cm9sQWN0aW9ucyA9IFtcclxuICAgIHsgdmFsdWU6ICcnLCBuYW1lOiAnU2VsZWN0JyB9LFxyXG4gICAgeyB2YWx1ZTogJ0hJREUnLCBuYW1lOiAnSGlkZScgfSxcclxuICAgIHsgdmFsdWU6ICdESVNBQkxFJywgbmFtZTogJ0Rpc2FibGUnIH0sXHJcbiAgICB7IHZhbHVlOiAnTUFTSycsIG5hbWU6ICdNYXNrJyB9XHJcbiAgXTtcclxuICBlbnZpcm9ubWVudDogYW55O1xyXG4gIFJCQUNPUkc6IFJCQUNJTkZPID0gbmV3IFJCQUNJTkZPKCk7XHJcbiAgb3JnU3VicyE6IFN1YnNjcmlwdGlvbjtcclxuICBvcmdJZDogYW55O1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBtYXN0ZXJzU2VydmljZTogUmJhY1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcixcclxuICAgIHByaXZhdGUgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGNvbmZpcm1hdGlvblNlcnZpY2U6IENvbmZpcm1hdGlvblNlcnZpY2UsXHJcbiAgICBwcml2YXRlIHBlcm1pc3Npb25TdG9yZTogUGVybWlzc2lvblN0b3JlLFxyXG4gICAgcHJpdmF0ZSBfc3RvcmVzZXJ2aWNlOiBEYXRhU3RvcmVTZXJ2aWNlXHJcbiAgKSB7XHJcbiAgICB0aGlzLm5vZGVUeXBlID0gJ2NhdGVnb3J5JztcclxuICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgIHRoaXMuaXNHbG9iYWxMb29rdXAgPSB0cnVlO1xyXG4gICAvLyB0aGlzLmluaXRpYWxpemVDYXRlZ29yeUZvcm0oKTtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZUxvb2t1cEZvcm0oKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5vcmdTdWJzID0gIHRoaXMuX3N0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzWydSQkFDT1JHJ10gJiYgcmVzWydSQkFDT1JHJ10gIT09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5SQkFDT1JHID0gcmVzWydSQkFDT1JHJ107XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5SQkFDT1JHLCAnUkJBQ09SRyBQZXJtaXNzb24nKTtcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gdGhpcy5SQkFDT1JHWydlbnZpcm9ubWVudCddO1xyXG4gICAgICAgIHRoaXMub3JnSWQgPSBwYXJzZUludCh0aGlzLlJCQUNPUkdbJ29yZ0lEJ10pO1xyXG4gICAgICAgIGlmKHRoaXMuZW52aXJvbm1lbnQpe1xyXG4gICAgICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgICAgICAgdGhpcy5sb2FkQ29udGV4dE1lbnUoKTtcclxuICAgICAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UuZ2V0QWxsVXNlclJvbGUoKS5zdWJzY3JpYmUoKGl0ZW1zOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yb2xlcyA9IGl0ZW1zLmRhdGE7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UuZ2V0UGVybWlzc2lvbnNUcmVlKHRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZCkuc3Vic2NyaWJlKChpdGVtczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbnMgPSBpdGVtcy5kYXRhO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLm9yZ1N1YnMudW5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIC8vIGluaXRpYWxpemVDYXRlZ29yeUZvcm0oKSB7XHJcbiAgLy8gICB0aGlzLmNhdGVnb3J5Rm9ybSA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gIC8vICAgICBpZDogWzBdLFxyXG4gIC8vICAgICBhcHBsaWNhdGlvbmlkOiBbdGhpcy5lbnZpcm9ubWVudCA/IHRoaXMuZW52aXJvbm1lbnRbJ2FwcGxpY2F0aW9uaWQnXTogJyddLFxyXG4gIC8vICAgICBuYW1lOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gIC8vICAgICBkZXNjcmlwdGlvbjogWycnXSxcclxuICAvLyAgICAgcmVhZG9ubHk6IFtmYWxzZV0sXHJcbiAgLy8gICAgIGlzZW5hYmxlZDogW3RydWVdXHJcbiAgLy8gICB9KTtcclxuICAvLyB9XHJcblxyXG4gIGluaXRpYWxpemVMb29rdXBGb3JtKCkge1xyXG4gICAgdGhpcy5wYWdlRXJyb3JTaG93ID0gZmFsc2U7XHJcbiAgICB0aGlzLmxvb2t1cEZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgaWQ6IFswXSxcclxuICAgICAgYXBwbGljYXRpb25pZDogW3RoaXMuZW52aXJvbm1lbnQgPyB0aGlzLmVudmlyb25tZW50WydhcHBsaWNhdGlvbmlkJ106ICcnXSxcclxuICAgICAgbmFtZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgZGVzY3JpcHRpb246IFsnJ10sXHJcbiAgICAgIHJlYWRvbmx5OiBbZmFsc2VdLFxyXG4gICAgICBpc2VuYWJsZWQ6IFt0cnVlXSxcclxuICAgICAgbG9va3VwIDp0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgICAgIGlkOiBbMF0sXHJcbiAgICAgICAgICAvL2xvb2t1cGNhdGVnb3J5aWQ6IFswXSxcclxuICAgICAgICAgIHBhcmVudGlkOiBbbnVsbF0sXHJcbiAgICAgICAgICAvLyBvcHRpb25hbGRhdGE6IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICAgICAgLy8gICBydWxlczogdGhpcy5mb3JtQnVpbGRlci5hcnJheShbXSlcclxuICAgICAgICAgIC8vIH0pLFxyXG4gICAgICAgICAgLy8gYWNjZXNzOiB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgICAgIC8vICAgYXNzaWduOiBbJycsIFt0aGlzLnJlcXVpcmVkSWZWYWxpZGF0b3IoKCkgPT4gIXRoaXMuaXNHbG9iYWxMb29rdXApXV0sXHJcbiAgICAgICAgICAvLyAgIHZpZXc6IFsnJywgW3RoaXMucmVxdWlyZWRJZlZhbGlkYXRvcigoKSA9PiAhdGhpcy5pc0dsb2JhbExvb2t1cCldXVxyXG4gICAgICAgICAgLy8gfSksXHJcbiAgICAgICAgICBsb29rdXBkYXRhOiB0aGlzLmZvcm1CdWlsZGVyLmFycmF5KFt0aGlzLmFkZGxvb2t1cGRhdGEoKV0pLFxyXG4gICAgICAgICAgcmVhZG9ubHk6IFtmYWxzZV0sXHJcbiAgICAgICAgICBnbG9iYWw6IFt0cnVlXSxcclxuICAgICAgICAgIGlzZW5hYmxlZDogW3RydWVdXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIGdldCBkYXRhcnVsZXMoKSB7XHJcbiAgLy8gICByZXR1cm4gdGhpcy5sb29rdXBGb3JtLmdldCgnb3B0aW9uYWxkYXRhLnJ1bGVzJykgYXMgRm9ybUFycmF5O1xyXG4gIC8vIH1cclxuXHJcbiAgZ2V0IGxvb2t1cGRhdGEoKSB7XHJcbiAgICBjb25zdCBsb29rdXBGb3JtR3JvdXAgPSB0aGlzLmxvb2t1cEZvcm0uZ2V0KCdsb29rdXAnKSBhcyBGb3JtR3JvdXA7XHJcbiAgICBpZiAobG9va3VwRm9ybUdyb3VwICYmIGxvb2t1cEZvcm1Hcm91cC5nZXQoJ2xvb2t1cGRhdGEnKSBpbnN0YW5jZW9mIEZvcm1BcnJheSkge1xyXG4gICAgICByZXR1cm4gbG9va3VwRm9ybUdyb3VwLmdldCgnbG9va3VwZGF0YScpIGFzIEZvcm1BcnJheTtcclxuICAgIH0gXHJcbiAgfVxyXG4gIFxyXG5cclxuICBhZGRSdWxlKCk6IEZvcm1Hcm91cCB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XHJcbiAgICAgIHJvbGVzOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBwZXJtaXNzaW9uOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBhY3Rpb246IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gb25BZGRSdWxlKCk6IHZvaWQge1xyXG4gIC8vICAgdGhpcy5kYXRhcnVsZXMucHVzaCh0aGlzLmFkZFJ1bGUoKSk7XHJcbiAgLy8gfVxyXG5cclxuICBhZGRsb29rdXBkYXRhKCk6IEZvcm1Hcm91cCB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XHJcbiAgICAgIGtleTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgdmFsdWU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIG9yZGVyOiBbMF1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25BZGRMb29rVXBEYXRhKCk6IHZvaWQge1xyXG4gICAgdGhpcy5wYWdlRXJyb3JTaG93ID0gZmFsc2U7XHJcbiAgICB0aGlzLmxvb2t1cGRhdGEucHVzaCh0aGlzLmFkZGxvb2t1cGRhdGEoKSk7XHJcbiAgfVxyXG5cclxuICAgb25EZWxldGVMb29rdXBEYXRhKGk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5sb29rdXBkYXRhLnJlbW92ZUF0KGkpO1xyXG4gIH1cclxuXHJcbiAgLy8gb25EZWxldGVSdWxlKHJvd0luZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuICAvLyAgIHRoaXMuZGF0YXJ1bGVzLnJlbW92ZUF0KHJvd0luZGV4KTtcclxuICAvLyB9XHJcbiAgc2VhcmNoTWFzdGVyKGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB0aGlzLmZpbHRlck1hc3Rlckxpc3QgPSB0aGlzLmNhdGVnb3JpZXMuZmlsdGVyKChhOiBhbnkpID0+IGFbJ25hbWUnXT8udG9VcHBlckNhc2UoKS5zdGFydHNXaXRoKHZhbHVlKSk7XHJcbiAgfVxyXG4gIG9uTm9kZUNvbnRleHRNZW51U2VsZWN0KGV2ZW50OiBhbnkpIHtcclxuICAgIGlmIChldmVudC5ub2RlLnR5cGUgPT09ICdjYXRlZ29yeScpIHtcclxuICAgICAgY29uc3QgcGVybWlzc2lvbiA9IHRoaXMucGVybWlzc2lvblN0b3JlLnN0YXRlO1xyXG4gICAgICB0aGlzLm1lbnVJdGVtcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ0NyZWF0ZSBDYXRlZ29yeScsXHJcbiAgICAgICAgICBpY29uOiBQcmltZUljb25zLkFSUk9XX1VQX0xFRlQsXHJcbiAgICAgICAgICB2aXNpYmxlOiBwZXJtaXNzaW9uLlNFVFRJTkdTX01BU19DUkVBVEVfQ0FUT0dPUlksXHJcbiAgICAgICAgICBiYWRnZTogJ1NFVFRJTkdTX01BU19DUkVBVEVfQ0FUT0dPUlknLFxyXG4gICAgICAgICAgY29tbWFuZDogKGNyZWF0ZUV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlTW9kZSA9ICdJTlNFUlQnO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVUeXBlID0gJ2NhdGVnb3J5JztcclxuICAgICAgICAgICAgdGhpcy5jbGVhckZvcm0oKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY3JlYXRlRXZlbnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdDcmVhdGUgTG9va3VwJyxcclxuICAgICAgICAgIGljb246IFByaW1lSWNvbnMuQVJST1dfRE9XTl9SSUdIVCxcclxuICAgICAgICAgIHZpc2libGU6IHBlcm1pc3Npb24uU0VUVElOR1NfTUFTX0NSRUFURV9MT09LVVAsXHJcbiAgICAgICAgICBiYWRnZTogJ1NFVFRJTkdTX01BU19DUkVBVEVfTE9PS1VQJyxcclxuICAgICAgICAgIGNvbW1hbmQ6IF9ldmVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW5zZXJ0RXZlbnQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGxhYmVsOiAnRGVsZXRlJyxcclxuICAgICAgICAgIGljb246IFByaW1lSWNvbnMuVFJBU0gsXHJcbiAgICAgICAgICB2aXNpYmxlOiBwZXJtaXNzaW9uLlNFVFRJTkdTX01BU19ERUxFVEUsXHJcbiAgICAgICAgICBiYWRnZTogJ1NFVFRJTkdTX01BU19ERUxFVEUnLFxyXG4gICAgICAgICAgY29tbWFuZDogZGVsZXRlRXZlbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVNb2RlID0gJ0RFTEVURSc7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZVR5cGUgPSB0aGlzLnNlbGVjdGVkSXRlbS50eXBlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGVsZXRlRXZlbnQpO1xyXG4gICAgICAgICAgICAkKCcjRGVsZXRldXNlcicpLm1vZGFsKCdzaG93Jyk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzLmNvbmZpcm1hdGlvblNlcnZpY2UuY29uZmlybSh7XHJcbiAgICAgICAgICAgIC8vICAgdGFyZ2V0OiBkZWxldGVFdmVudC50YXJnZXQsXHJcbiAgICAgICAgICAgIC8vICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZT8nLFxyXG4gICAgICAgICAgICAvLyAgIGljb246ICdwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZScsXHJcbiAgICAgICAgICAgIC8vICAgYWNjZXB0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmRlbGV0ZUl0ZW0oKTtcclxuICAgICAgICAgICAgLy8gICB9LFxyXG4gICAgICAgICAgICAvLyAgIHJlamVjdDogKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgLy9ub3QgdG8gYmUgZW1wdHlcclxuICAgICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQubm9kZS50eXBlID09PSAnbG9va3VwJykge1xyXG4gICAgICB0aGlzLm1lbnVJdGVtcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ0NyZWF0ZSBMb29rdXAnLFxyXG4gICAgICAgICAgaWNvbjogUHJpbWVJY29ucy5BUlJPV19ET1dOX1JJR0hULFxyXG4gICAgICAgICAgY29tbWFuZDogX2V2ZW50RXJhc2UgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldEluc2VydEV2ZW50KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ0RlbGV0ZScsXHJcbiAgICAgICAgICBpY29uOiBQcmltZUljb25zLlRSQVNILFxyXG4gICAgICAgICAgY29tbWFuZDogUmVtb3ZlRXZlbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVNb2RlID0gJ0RFTEVURSc7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZVR5cGUgPSB0aGlzLnNlbGVjdGVkSXRlbS50eXBlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coUmVtb3ZlRXZlbnQpO1xyXG4gICAgICAgICAgICAkKCcjRGVsZXRldXNlcicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuY29uZmlybWF0aW9uU2VydmljZS5jb25maXJtKHtcclxuICAgICAgICAgICAgLy8gICB0YXJnZXQ6IFJlbW92ZUV2ZW50LnRhcmdldCxcclxuICAgICAgICAgICAgLy8gICBtZXNzYWdlOiAnQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gZGVsZXRlPycsXHJcbiAgICAgICAgICAgIC8vICAgaWNvbjogJ3BpIHBpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJyxcclxuICAgICAgICAgICAgLy8gICBhY2NlcHQ6ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuZGVsZXRlSXRlbSgpO1xyXG4gICAgICAgICAgICAvLyAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgcmVqZWN0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAvL25vdCB0byBiZSBlbXB0eVxyXG4gICAgICAgICAgICAvLyAgIH1cclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZXRJbnNlcnRFdmVudCgpIHtcclxuICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgIHRoaXMubm9kZVR5cGUgPSB0aGlzLnNlbGVjdGVkSXRlbS50eXBlO1xyXG4gICAgdGhpcy5jcmVhdGVMb29rdXBGb3JtKCk7XHJcbiAgICAvLyB0aGlzLmNsZWFyUnVsZXMoKTtcclxuICB9XHJcblxyXG5cclxuIFxyXG4gXHJcbiBcclxuICBub2RlU2VsZWN0KGV2ZW50OiBhbnkpIHtcclxuICAgIHRoaXMubm9kZXNlbGVjdHR5cGUgPSAnVVBEQVRFJztcclxuICAgIHRoaXMuc2F2ZU1vZGUgPSAnVVBEQVRFJztcclxuICAgIHRoaXMubm9kZVR5cGUgPSBldmVudC5ub2RlLnR5cGU7XHJcbiAgIC8vIGlmIChldmVudC5ub2RlLnR5cGUgPT09ICdsb29rdXAnKSB7XHJcbiAgICAgIC8vIHRoaXMubWFzdGVyc1NlcnZpY2UuZ2V0TG9va3VwKGV2ZW50Lm5vZGUuaWQpLnN1YnNjcmliZSgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIC8vICAgY29uc3QgbG9va3VwID0gaXRlbVsnZGF0YSddO1xyXG4gICAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UuZ2V0TG9va3VwQnljYXRlZ29yeUlEKGV2ZW50Lm5vZGUuZGF0YSkuc3Vic2NyaWJlKChub2RlczogYW55KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBsb29rdXAgPSAoPGFueT5ub2RlcykuZGF0YS5sb29rdXA7XHJcbiAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyBBc3N1bWUgdGhpcy5sb29rdXBGb3JtIGlzIHlvdXIgZXhpc3RpbmcgZm9ybSBpbnN0YW5jZSBjcmVhdGVkIHVzaW5nIHRoZSBGb3JtQnVpbGRlclxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb29rdXAnLGxvb2t1cClcclxuICAgICAgICAvLyBQYXRjaCB2YWx1ZXMgZm9yIHRoZSBtYWluIGZvcm1cclxuICAgICAgICB0aGlzLmxvb2t1cEZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgICBpZDogbG9va3VwLmlkLFxyXG4gICAgICAgICAvLyBsb29rdXBjYXRlZ29yeWlkOiBsb29rdXAubG9va3VwY2F0ZWdvcnlpZCxcclxuICAgICAgICAgIHBhcmVudGlkOiBsb29rdXAucGFyZW50aWQsXHJcbiAgICAgICAgICByZWFkb25seTogbG9va3VwLnJlYWRvbmx5LFxyXG4gICAgICAgICAgZ2xvYmFsOiBsb29rdXAuZ2xvYmFsLFxyXG4gICAgICAgICAgaXNlbmFibGVkOiBsb29rdXAuaXNlbmFibGVkXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHRoaXMubG9va3VwRm9ybS5nZXQoJ2xvb2t1cCcpPy5wYXRjaFZhbHVlKHtcclxuICAgICAgICAvLyAgIGxvb2t1cGRhdGE6IGxvb2t1cC5sb29rdXBkYXRhLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgICB0aGlzLmxvb2t1cEZvcm0ucGF0Y2hWYWx1ZShsb29rdXApO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ2xvb2t1cEZvcm1WYWx1ZScsdGhpcy5sb29rdXBGb3JtLnZhbHVlKVxyXG5cclxuY29uc3QgbG9va3VwRGF0YUZvcm1BcnJheSA9IHRoaXMubG9va3VwRm9ybS5nZXQoJ2xvb2t1cC5sb29rdXBkYXRhJykgYXMgRm9ybUFycmF5O1xyXG5cclxuLy8gQ2xlYXIgZXhpc3RpbmcgZm9ybSBhcnJheSB2YWx1ZXNcclxud2hpbGUgKGxvb2t1cERhdGFGb3JtQXJyYXkubGVuZ3RoICE9PSAwKSB7XHJcbiAgbG9va3VwRGF0YUZvcm1BcnJheS5yZW1vdmVBdCgwKTtcclxufVxyXG5cclxuLy8gUGF0Y2ggdGhlIGZvcm0gYXJyYXkgd2l0aCBuZXcgdmFsdWVzXHJcbmxvb2t1cC5sb29rdXBkYXRhLmZvckVhY2goZGF0YSA9PiB7XHJcbiAgbG9va3VwRGF0YUZvcm1BcnJheS5wdXNoKHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoZGF0YSkpO1xyXG59KTtcclxuXHJcbmNvbnNvbGUubG9nKCdsb29rdXBkYXRhZm9ybWFycmF5Jyxsb29rdXBEYXRhRm9ybUFycmF5KVxyXG5cclxuICAgICAgICAvLyBQYXRjaCB2YWx1ZXMgZm9yIHRoZSBuZXN0ZWQgZm9ybSBhcnJheSAobG9va3VwZGF0YSlcclxuICAgICAgICAvLyBjb25zdCBsb29rdXBkYXRhQXJyYXkgPSB0aGlzLmxvb2t1cEZvcm0uZ2V0KCdsb29rdXBkYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgICAgIC8vIGxvb2t1cGRhdGFBcnJheS5jbGVhcigpOyAvLyBDbGVhciBleGlzdGluZyBmb3JtIGFycmF5XHJcblxyXG4gICAgICAgIC8vIEFzc3VtaW5nIHlvdSBoYXZlIGEgbWV0aG9kIHRvIGNyZWF0ZSBhIGZvcm0gZ3JvdXAgZm9yIGxvb2t1cGRhdGFcclxuICAgICAgICAvLyBjb25zdCBsb29rdXBEYXRhR3JvdXAgPSB0aGlzLmFkZGxvb2t1cGRhdGEoKTsgXHJcbiAgICAgICAgLy8gbG9va3VwRGF0YUdyb3VwLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgIC8vICAga2V5OiBsb29rdXAua2V5LFxyXG4gICAgICAgIC8vICAgdmFsdWU6IGxvb2t1cC52YWx1ZSxcclxuICAgICAgICAvLyAgIG9yZGVyOiBsb29rdXAub3JkZXJcclxuICAgICAgICAgIC8vIEFkZCBtb3JlIHByb3BlcnRpZXMgYXMgbmVlZGVkXHJcbiAgICAgICAvLyB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBsb29rdXBkYXRhQXJyYXkucHVzaChsb29rdXBEYXRhR3JvdXApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vdGhpcy5zZXRHbG9iYWwobG9va3VwLmdsb2JhbCk7XHJcbiAgICAgICAgLy8gdGhpcy5sb29rdXBGb3JtLnBhdGNoVmFsdWUobG9va3VwKTtcclxuICAgICAgICAvLyB0aGlzLmxvb2t1cEZvcm0ucmVzZXQoKTtcclxuICAgICAgfSk7XHJcbiAgLy8gIH0gZWxzZSB7XHJcbiAgICAvLyAgdGhpcy5sb29rdXBGb3JtLnJlc2V0KCk7XHJcbiAgIC8vICAgdGhpcy5sb29rdXBGb3JtLnBhdGNoVmFsdWUoZXZlbnQubm9kZSk7XHJcbiAvLyAgIH1cclxuICAgIGNvbnNvbGUubG9nKGV2ZW50Lm5vZGUpO1xyXG4gIH1cclxuXHJcbiAgLy8gcHJpdmF0ZSBjbGVhclJ1bGVzKCkge1xyXG4gIC8vICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuZGF0YXJ1bGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gIC8vICAgICB0aGlzLmRhdGFydWxlcy5yZW1vdmVBdChpbmRleCk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICBub2RlRXhwYW5kKGV2ZW50OiBhbnkpIHtcclxuICAgIGlmIChldmVudC5ub2RlICYmIGV2ZW50Lm5vZGUuZGF0YSAmJiBldmVudC5ub2RlLnR5cGUgIT09ICdsb29rdXAnKSB7XHJcbiAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UuZ2V0TG9va3VwVHJlZShldmVudC5ub2RlLmRhdGEpLnN1YnNjcmliZSgobm9kZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGV2ZW50Lm5vZGUuY2hpbGRyZW4gPSAoPGFueT5ub2RlcykuZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBzYXZlQ2F0ZWdvcnkoKSB7XHJcbiAgLy8gICBjb25zdCBjYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnlGb3JtLnZhbHVlO1xyXG4gIC8vICAgY2F0ZWdvcnkuYXBwbGljYXRpb25pZCA9dGhpcy5lbnZpcm9ubWVudC5hcHBsaWNhdGlvbmlkO1xyXG4gIC8vICAgY29uc29sZS5sb2coY2F0ZWdvcnkpO1xyXG4gIC8vICAgY2F0ZWdvcnkub3JkZXIgPSBjYXRlZ29yeS5vcmRlciA/IE51bWJlcihjYXRlZ29yeS5vcmRlcikgOiAxO1xyXG4gIC8vICAgaWYgKHRoaXMuY2F0ZWdvcnlGb3JtLnZhbGlkKSB7XHJcbiAgLy8gICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSAnSU5TRVJUJykge1xyXG4gIC8vICAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UuY3JlYXRlQ2F0ZWdvcnkoY2F0ZWdvcnkpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgLy8gICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdDYXRlZ29yeSBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAvLyAgICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAvLyAgICAgICAgIHRoaXMuY2xlYXJGb3JtKCk7XHJcbiAgLy8gICAgICAgICAgICAgIH0pO1xyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UudXBkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnkpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgLy8gICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdDYXRlZ29yeSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAvLyAgICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAvLyAgICAgICAgIHRoaXMuY2xlYXJGb3JtKCk7XHJcbiAgLy8gICAgICAgfSk7XHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH0gZWxzZSB7XHJcbiAgLy8gICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdQbGVhc2UgRmlsbCBBbGwgUmVxdWlyZWQgRmllbGRzJyk7XHJcbiAgLy8gICB9XHJcbiAgLy99XHJcblxyXG4gIHNhdmVMb29rdXAoKSB7XHJcbiAgICB0aGlzLnBhZ2VFcnJvclNob3cgPSB0cnVlO1xyXG4gICAgY29uc3QgbG9va3VwZHRzID0gdGhpcy5sb29rdXBGb3JtLnZhbHVlO1xyXG4gICAgbG9va3VwZHRzLmFwcGxpY2F0aW9uaWQgPXRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZDtcclxuICAgIGxvb2t1cGR0cy5vcmRlciA9IGxvb2t1cGR0cy5vcmRlciA/IE51bWJlcihsb29rdXBkdHMub3JkZXIpIDogMTtcclxuICAgIGNvbnNvbGUubG9nKGxvb2t1cGR0cyk7XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmxvb2t1cEZvcm0udmFsaWQpIHtcclxuXHJcbiAgICAgIGRlbGV0ZSBsb29rdXBkdHMucmVhZG9ubHk7XHJcbiAgICAgIGxvb2t1cGR0cy5sb29rdXAub3JkZXIgPSBsb29rdXBkdHMubG9va3VwLm9yZGVyID8gTnVtYmVyKGxvb2t1cGR0cy5sb29rdXAub3JkZXIpIDogMTtcclxuXHJcblxyXG4gICAgICAvLyBpZiAobG9va3VwLm9wdGlvbmFsZGF0YSAmJiBsb29rdXAub3B0aW9uYWxkYXRhLnJ1bGVzKSB7XHJcbiAgICAgIC8vICAgbG9va3VwLm9wdGlvbmFsZGF0YS5ydWxlcyA9IGxvb2t1cC5vcHRpb25hbGRhdGEucnVsZXMubWFwKChydWxlOiBhbnkpID0+IHtcclxuICAgICAgLy8gICAgIHJ1bGUucGVybWlzc2lvbi5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAvLyAgICAgcmV0dXJuIHJ1bGU7XHJcbiAgICAgIC8vICAgfSk7XHJcbiAgICAgIC8vIH1cclxuICAgICAgaWYgKHRoaXMuc2F2ZU1vZGUgPT09ICdJTlNFUlQnKSB7XHJcbiAgICAgICAgdGhpcy5tYXN0ZXJzU2VydmljZS5jcmVhdGVMb29rdXAobG9va3VwZHRzKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnTG9va3VwIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgICAgICAgdGhpcy5jbGVhckZvcm0oKSAgICAgIFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5tYXN0ZXJzU2VydmljZS51cGRhdGVMb29rdXAobG9va3VwZHRzKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnTG9va3VwIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgICAgICAgdGhpcy5jbGVhckZvcm0oKSAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignSW52YWxpZCBsb29rdXAgZGF0YS4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsZWFyRm9ybSgpIHtcclxuICAgICAgdGhpcy5pbml0aWFsaXplTG9va3VwRm9ybSgpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlTG9va3VwRm9ybSgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZUxvb2t1cEZvcm0oKTtcclxuICAgIHRoaXMuc2V0R2xvYmFsKHRydWUpO1xyXG4gICAgaWYgKHRoaXMubm9kZVR5cGUgPT09ICdjYXRlZ29yeScpIHtcclxuICAgICAgdGhpcy5ub2RlVHlwZSA9ICdsb29rdXAnO1xyXG4gICAgICB0aGlzLmxvb2t1cEZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgbG9va3VwY2F0ZWdvcnlpZDogdGhpcy5zZWxlY3RlZEl0ZW0uaWRcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmxvb2t1cEZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgbG9va3VwY2F0ZWdvcnlpZDogdGhpcy5zZWxlY3RlZEl0ZW0ubG9va3VwY2F0ZWdvcnlpZCxcclxuICAgICAgICBwYXJlbnRpZDogdGhpcy5zZWxlY3RlZEl0ZW0uaWRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRHbG9iYWwoY2hlY2tlZDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5pc0dsb2JhbExvb2t1cCA9IGNoZWNrZWQ7XHJcbiAgICB0aGlzLmxvb2t1cEZvcm0uZ2V0KCdhY2Nlc3MnKT8ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgIHZpZXc6IFtdLFxyXG4gICAgICBhc3NpZ246IFtdXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9hZENvbnRleHRNZW51KCkge1xyXG4gICAgdGhpcy5tZW51SXRlbXMgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ0NyZWF0ZSBDYXRlZ29yeScsXHJcbiAgICAgICAgaWNvbjogUHJpbWVJY29ucy5BUlJPV19VUF9MRUZULFxyXG4gICAgICAgIGNvbW1hbmQ6IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNhdmVNb2RlID0gJ0lOU0VSVCc7XHJcbiAgICAgICAgICB0aGlzLm5vZGVUeXBlID0gJ2NhdGVnb3J5JztcclxuICAgICAgICAgIHRoaXMuY2xlYXJGb3JtKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdDcmVhdGUgTG9va3VwJyxcclxuICAgICAgICBpY29uOiBQcmltZUljb25zLkFSUk9XX0RPV05fUklHSFQsXHJcbiAgICAgICAgY29tbWFuZDogX2V2ZW50Tm9kZSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldEluc2VydEV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdEZWxldGUnLFxyXG4gICAgICAgIGljb246IFByaW1lSWNvbnMuVFJBU0gsXHJcbiAgICAgICAgY29tbWFuZDogZXZlbnQgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zYXZlTW9kZSA9ICdERUxFVEUnO1xyXG4gICAgICAgICAgdGhpcy5ub2RlVHlwZSA9IHRoaXMuc2VsZWN0ZWRJdGVtLnR5cGU7XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgICAgICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgLy8gdGhpcy5jb25maXJtYXRpb25TZXJ2aWNlLmNvbmZpcm0oe1xyXG4gICAgICAgICAgLy8gICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcclxuICAgICAgICAgIC8vICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZT8nLFxyXG4gICAgICAgICAgLy8gICBpY29uOiAncGkgcGktZXhjbGFtYXRpb24tdHJpYW5nbGUnLFxyXG4gICAgICAgICAgLy8gICBhY2NlcHQ6ICgpID0+IHtcclxuICAgICAgICAgIC8vICAgICAvL2NvbmZpcm0gYWN0aW9uXHJcbiAgICAgICAgICAvLyAgICAgdGhpcy5kZWxldGVJdGVtKCk7XHJcbiAgICAgICAgICAvLyAgIH0sXHJcbiAgICAgICAgICAvLyAgIHJlamVjdDogKCkgPT4ge1xyXG4gICAgICAgICAgLy8gICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxcclxuICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb2FkVHJlZSgpIHtcclxuICAgIHRoaXMucGFnZUVycm9yU2hvdyA9IGZhbHNlO1xyXG4gICAgdGhpcy5tYXN0ZXJzU2VydmljZS5nZXRBbGxDYXRlZ29yeVRyZWUodGhpcy5lbnZpcm9ubWVudC5hcHBsaWNhdGlvbmlkKS5zdWJzY3JpYmUoKGl0ZW1zOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5jYXRlZ29yaWVzID0gaXRlbXM7XHJcbiAgICAgIGlmICh0aGlzLmNhdGVnb3JpZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSB0aGlzLmNhdGVnb3JpZXNbMF07XHJcbiAgICAgICAgdGhpcy5maWx0ZXJNYXN0ZXJMaXN0ID0gdGhpcy5jYXRlZ29yaWVzO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgY2FuY2VsKCl7XHJcbiAgICB0aGlzLmxvb2t1cEZvcm0ucmVzZXQoKTtcclxuICAgIC8vdGhpcy5sb29rdXBGb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVJdGVtKCkge1xyXG4gICAgdGhpcy5zYXZlTW9kZSA9ICdVUERBVEUnO1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtLnR5cGUgPT09ICdsb29rdXAnKSB7XHJcbiAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UuZGVsZXRlTG9va3VwKHRoaXMuc2VsZWN0ZWRJdGVtLmlkKS5zdWJzY3JpYmUoKF9pdGVtOiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgICQoJyNEZWxldGV1c2VyJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKCdMb29rdXAgZGVsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubWFzdGVyc1NlcnZpY2UuZGVsZXRlQ2F0ZWdvcnkodGhpcy5zZWxlY3RlZEl0ZW0uaWQpLnN1YnNjcmliZSgoX2l0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XHJcbiAgICAgICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ0NhdGVnb3J5IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXF1aXJlZElmVmFsaWRhdG9yKHByZWRpY2F0ZTogKCkgPT4gYW55KSB7XHJcbiAgICByZXR1cm4gKGZvcm1Db250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcclxuICAgICAgaWYgKCFmb3JtQ29udHJvbC5wYXJlbnQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAocHJlZGljYXRlKCkpIHtcclxuICAgICAgICByZXR1cm4gVmFsaWRhdG9ycy5yZXF1aXJlZChmb3JtQ29udHJvbCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn1cclxuIiwiPGFwcC1hbGVydD48L2FwcC1hbGVydD5cclxuPGRpdiBjbGFzcz1cInBlcm1pc3Npb25cIj5cclxuICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTQgY29sLW1kLTYgY29sLTEyXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgcHktMlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItcGFuZSBmYWRlIHNob3cgYWN0aXZlXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBiZ2ljb25zZWFyY2hcIj5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYnkgQ2F0ZWdvcnkgbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgKGtleXVwKT1cInNlYXJjaE1hc3RlcigkZXZlbnQpXCJcclxuICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX01BU19TRUFSQ0hfQllfTkFNRVwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1hc3RlcmFjZXNzXCI+XHJcbiAgICAgICAgICAgIDxwLXRyZWUgW3ZhbHVlXT1cImZpbHRlck1hc3Rlckxpc3RcIiBzZWxlY3Rpb25Nb2RlPVwic2luZ2xlXCIgWyhzZWxlY3Rpb24pXT1cInNlbGVjdGVkSXRlbVwiXHJcbiAgICAgICAgICAgICAgKG9uTm9kZVNlbGVjdCk9XCJub2RlU2VsZWN0KCRldmVudClcIiAob25Ob2RlQ29udGV4dE1lbnVTZWxlY3QpPVwib25Ob2RlQ29udGV4dE1lbnVTZWxlY3QoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgW2NvbnRleHRNZW51XT1cInRyZWVDb250ZXh0TWVudVwiPjwvcC10cmVlPlxyXG4gICAgICAgICAgICA8cC1jb250ZXh0TWVudSAjdHJlZUNvbnRleHRNZW51IFttb2RlbF09XCJtZW51SXRlbXNcIiBhcHBlbmRUbz1cImJvZHlcIj48L3AtY29udGV4dE1lbnU+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTggY29sLW1kLTYgY29sLTEyIG1hc3Rlci1yaWdodCBtdC0yXCI+XHJcbiAgICAgIDxwLWNvbmZpcm1Qb3B1cD48L3AtY29uZmlybVBvcHVwPlxyXG4gICAgICA8cC1jYXJkIGlkPVwibG9va3VwRm9ybVwiIGNsYXNzPVwicmJhYy1jYXJkXCIgW2Zvcm1Hcm91cF09XCJsb29rdXBGb3JtXCJcclxuICAgICAgICBbc3R5bGVdPVwieyB3aWR0aDogJzEwMCUnLCAnbWFyZ2luLWJvdHRvbSc6ICcyZW0nIH1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfaGVhZCB0b2dnbGVsZWZ0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcG9ydF9oZWFkIGZvbnQtd2VpZ2h0LWJvbGRcIj5NYXN0ZXJzL0NhdGVnb3J5PC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxpbnB1dCBpZD1cImNpZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJpZFwiIC8+XHJcbiAgICAgICAgPGlucHV0IGlkPVwiY2FwcGxpY2F0aW9uaWRcIiB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwiYXBwbGljYXRpb25pZFwiIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInAtZmx1aWQgcC1mb3JtZ3JpZCBwLWdyaWRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtMTIgY29sLTEyIG1iLTNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm1OYW1lXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPk5hbWVcclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJtTmFtZVwiIHR5cGU9XCJ0ZXh0XCIgZm9ybUNvbnRyb2xOYW1lPVwibmFtZVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfTUFTX05BTUVcIiBwbGFjZWhvbGRlcj1cIkVudGVyIE5hbWVcIlxyXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJtTmFtZVwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgbG9va3VwRm9ybS5jb250cm9sc1snbmFtZSddLmludmFsaWQgJiZcclxuICAgICAgICAgICAgICAgIChsb29rdXBGb3JtLmNvbnRyb2xzWyduYW1lJ10uZGlydHkgfHwgbG9va3VwRm9ybS5jb250cm9sc1snbmFtZSddLnRvdWNoZWQpXHJcbiAgICAgICAgICAgICAgXCI+XHJcbiAgICAgICAgICAgICAgPHNtYWxsICpuZ0lmPVwibG9va3VwRm9ybS5jb250cm9sc1snbmFtZSddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2tcIj5OYW1lIGlzIHJlcXVpcmVkIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTEyIGNvbC0xMiBtYi0zXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjZGVzY3JpcHRpb25cIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+RGVzY3JpcHRpb24gPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGlkPVwiY2Rlc2NyaXB0aW9uXCIgdHlwZT1cInRleHRcIiBmb3JtQ29udHJvbE5hbWU9XCJkZXNjcmlwdGlvblwiIGZpZWxkS2V5PVwiU0VUVElOR1NfTUFTX0RFU0NSWVBUSU9OXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIERlc2NyaXB0aW9uXCIgYXJpYS1kZXNjcmliZWRieT1cImNkZXNjcmlwdGlvblwiIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiY29yZGVyXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVscyBkLW5vbmUgZC1sZy1pbmxpbmUtYmxvY2tcIj4mIzE2MDs8L2xhYmVsPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxwLWNoZWNrYm94IHN0IGlucHV0SWQ9XCJyZWFkT25seVwiIFtiaW5hcnldPVwidHJ1ZVwiIGZvcm1Db250cm9sTmFtZT1cInJlYWRvbmx5XCJcclxuICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfTUFTX1JFQURfT05MWVwiIGxhYmVsPVwiUmVhZG9ubHlcIj5cclxuICAgICAgICAgICAgICA8L3AtY2hlY2tib3g+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTEyIGNvbC0xMiBtYi0zXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjb3JkZXJcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzIGQtbm9uZSBkLWxnLWlubGluZS1ibG9ja1wiPiYjMTYwOzwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPHAtY2hlY2tib3ggc3QgaW5wdXRJZD1cImFjdGl2ZVwiIFtiaW5hcnldPVwidHJ1ZVwiIGZvcm1Db250cm9sTmFtZT1cImlzZW5hYmxlZFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfTUFTX0FDVElWRVwiXHJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkFjdGl2ZVwiPjwvcC1jaGVja2JveD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb25cIiBmaWVsZEtleT1cIlNFVFRJTkdTX01BU19BRERfQ0FUT0dPUllcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwic2F2ZUNhdGVnb3J5KClcIj5cclxuICAgICAgICAgICAge3sgc2F2ZU1vZGUgPT09ICdVUERBVEUnID8gJ1VwZGF0ZSBDYXRlZ29yeScgOiAnQWRkIENhdGVnb3J5JyB9fVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBib3JkZXIgYm9yZGVyLXByaW1hcnkgYnRuY2FuY2VsXCJcclxuICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19NQVNfQ0FOQ0VMXCIgKGNsaWNrKT1cImNsZWFyRm9ybSgpXCI+XHJcbiAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgIDwvZGl2PiAtLT5cclxuICAgICAgPC9wLWNhcmQ+XHJcblxyXG4gICAgICA8cC1jYXJkIGlkPVwibG9va3VwRm9ybVwiIGNsYXNzPVwicmJhYy1jYXJkXCIgW2Zvcm1Hcm91cF09XCJsb29rdXBGb3JtXCJcclxuICAgICAgICBbc3R5bGVdPVwieyB3aWR0aDogJzEwMCUnLCAnbWFyZ2luLWJvdHRvbSc6ICcyZW0nIH1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfaGVhZCB0b2dnbGVsZWZ0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcG9ydF9oZWFkIGZvbnQtd2VpZ2h0LWJvbGRcIj5NYXN0ZXJzL0xvb2t1cDwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8IS0tIDxpbnB1dCBpZD1cImxpZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJsb29rdXAuaWRcIiAvPiAtLT5cclxuICAgICAgICA8IS0tIDxpbnB1dCBpZD1cImxsb29rdXBjYXRlZ29yeWlkXCIgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cImxvb2t1cGNhdGVnb3J5aWRcIiAvPiAtLT5cclxuICAgICAgICA8IS0tIDxpbnB1dCBpZD1cImxwYXJlbnRpZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJsb29rdXAucGFyZW50aWRcIiAvPiAtLT5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCJcclxuICAgICAgICAgICAgICAoY2xpY2spPVwib25BZGRMb29rVXBEYXRhKClcIj4rPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWRhdGF0YWJsZS13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cInAtZGF0YXRhYmxlLXRhYmxlIHRhYmxlXCI+XHJcbiAgICAgICAgICAgICAgPHRoZWFkIGNsYXNzPVwicC1kYXRhdGFibGUtdGhlYWRcIj5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPVwid2lkdGg6IDM1JTtcIlxyXG4gICAgICAgICAgICAgICAgICA+S2V5IFxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICA8dGggc3R5bGU9XCJ3aWR0aDogMzUlO1wiPlZhbHVlIFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT1cIndpZHRoOiAyNSU7XCI+T3JkZXI8L3RoPlxyXG4gICAgICAgICAgICAgICAgICA8dGggc3R5bGU9XCJ3aWR0aDogNSU7XCIgKm5nSWY9XCJzYXZlTW9kZSA9PSAnSU5TRVJUJ1wiPjwvdGg+XHJcbiAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgPHRib2R5IGZvcm1BcnJheU5hbWU9XCJsb29rdXAubG9va3VwZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgZmllbGQgb2YgbG9va3VwZGF0YS5jb250cm9sczsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICA8dHIgW2Zvcm1Hcm91cE5hbWVdPVwiaVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImxrZXlcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgS2V5IHt7aSArIDF9fVwiIGZvcm1Db250cm9sTmFtZT1cImtleVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJsa2V5XCIgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGFnZUVycm9yU2hvdyA/IGZpZWxkLmdldCgna2V5JykuaW52YWxpZCA6IGZpZWxkLmdldCgna2V5JykuZXJyb3JzICYmIGZpZWxkLmdldCgna2V5JykudG91Y2hlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gZmllbGQuZ2V0KCdrZXknKT8udG91Y2hlZCAmJiBmaWVsZC5nZXQoJ2tleScpPy5lcnJvcnMgJiYgZmllbGQuZ2V0KCdrZXknKT8uaGFzRXJyb3IoJ3JlcXVpcmVkJylcIj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCI+S2V5IGlzIHJlcXVpcmVkPC9zbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImx2YWx1ZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBWYWx1ZSB7e2kgKyAxfX1cIiBmb3JtQ29udHJvbE5hbWU9XCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJsdmFsdWVcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJwYWdlRXJyb3JTaG93ID8gZmllbGQuZ2V0KCd2YWx1ZScpLmludmFsaWQgOiBmaWVsZC5nZXQoJ3ZhbHVlJykuZXJyb3JzICYmIGZpZWxkLmdldCgndmFsdWUnKS50b3VjaGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwicC1lcnJvciBibG9ja1wiPlZhbHVlIGlzIHJlcXVpcmVkPC9zbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJsb3JkZXJcIiB0eXBlPVwidGV4dFwiIGZvcm1Db250cm9sTmFtZT1cIm9yZGVyXCIgcGxhY2Vob2xkZXI9XCJFbnRlciBPcmRlciB7e2kgKyAxfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgKm5nSWY9XCJzYXZlTW9kZSA9PSAnSU5TRVJUJyAmJiAgbG9va3VwZGF0YS5sZW5ndGggPiAxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIHRpdGxlPVwiZGVsZXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uRGVsZXRlTG9va3VwRGF0YShpKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXRyYXNoLW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8IS0tIDxuZy1jb250YWluZXIgZm9ybUdyb3VwTmFtZT1cIm9wdGlvbmFsZGF0YVwiPlxyXG4gICAgICAgICAgPHAtdGFibGUgW3ZhbHVlXT1cImRhdGFydWxlcy5jb250cm9sc1wiIHdpZHRoPVwiMTAwJVwiIFtyZXNwb25zaXZlXT1cInRydWVcIiBmb3JtQXJyYXlOYW1lPVwicnVsZXNcIj5cclxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cImNhcHRpb25cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICAgIENvbnRyb2wgRmxvd1xyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCIgKGNsaWNrKT1cIm9uQWRkUnVsZSgpXCI+KzwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgPHRoIGlkPVwiZGF0YXJ1bGVzLXJvbGVzXCIgc3R5bGU9XCJ3aWR0aDogMzUlXCI+Um9sZXM8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRoIGlkPVwiZGF0YXJ1bGVzLXBlcm1pc3Npb25zXCIgc3R5bGU9XCJ3aWR0aDogMzUlXCI+UGVybWlzc2lvbnM8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRoIGlkPVwiZGF0YXJ1bGVzLWFjdGlvblwiIHN0eWxlPVwid2lkdGg6IDIwJVwiPkFjdGlvbjwvdGg+XHJcbiAgICAgICAgICAgICAgICA8dGggaWQ9XCJkYXRhcnVsZXMtZW1wdHlcIiBzdHlsZT1cIndpZHRoOiAxMCVcIj48L3RoPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBwVGVtcGxhdGU9XCJib2R5XCIgbGV0LXJvd0RhdGEgbGV0LXJvd0luZGV4PVwicm93SW5kZXhcIj5cclxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgPHRyIFtmb3JtR3JvdXBOYW1lXT1cInJvd0luZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCBbb3B0aW9uc109XCJyb2xlc1wiIGZvcm1Db250cm9sTmFtZT1cInJvbGVzXCIgZGVmYXVsdExhYmVsPVwiU2VsZWN0IFJvbGVzXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwiaWRcIiBhcmlhRmlsdGVyTGFiZWw9XCJudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5PVwic2VsZWN0Um9sZXN7eyByb3dJbmRleCB9fVwiIGlkPVwic2VsZWN0Um9sZXN7eyByb3dJbmRleCB9fVwiIGRpc3BsYXk9XCJjaGlwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wLW11bHRpU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWRhbmdlclwiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RhdGEuZ2V0KCdyb2xlcycpLmVycm9ycyAmJiAocm93RGF0YS5nZXQoJ3JvbGVzJykuZGlydHkgfHwgcm93RGF0YS5nZXQoJ3JvbGVzJykudG91Y2hlZClcclxuICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cInJvd0RhdGEuZ2V0KCdyb2xlcycpLmVycm9ycz8ucmVxdWlyZWRcIj5Sb2xlIGlzIFJlcXVpcmVkPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICA8cC10cmVlU2VsZWN0IGZvcm1Db250cm9sTmFtZT1cInBlcm1pc3Npb25cIiBbb3B0aW9uc109XCJwZXJtaXNzaW9uc1wiIG9wdGlvbkxhYmVsPVwibGFiZWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJkYXRhXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgUGVybWlzc2lvbnNcIiBpZD1cInNlbGVjdFBlcm1pdHt7IHJvd0luZGV4IH19XCJcclxuICAgICAgICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5PVwic2VsZWN0UGVybWl0e3sgcm93SW5kZXggfX1cIiBjbGFzcz1cInBlcm1pc3Npb24tdHJlZVwiPjwvcC10cmVlU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWRhbmdlclwiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RhdGEuZ2V0KCdwZXJtaXNzaW9uJykuZXJyb3JzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChyb3dEYXRhLmdldCgncGVybWlzc2lvbicpLmRpcnR5IHx8IHJvd0RhdGEuZ2V0KCdwZXJtaXNzaW9uJykudG91Y2hlZClcclxuICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cInJvd0RhdGEuZ2V0KCdwZXJtaXNzaW9uJykuZXJyb3JzPy5yZXF1aXJlZFwiPlBlcm1pc3Npb24gaXMgUmVxdWlyZWQ8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwidmFsdWVcIiBbb3B0aW9uc109XCJkYXRhQ29udHJvbEFjdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJzZWxlY3RWYWx1ZXt7IHJvd0luZGV4IH19XCIgYXJpYUxhYmVsbGVkQnk9XCJzZWxlY3RWYWx1ZXt7IHJvd0luZGV4IH19XCJcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImFjdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1kYW5nZXJcIiAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dEYXRhLmdldCgnYWN0aW9uJykuZXJyb3JzICYmIChyb3dEYXRhLmdldCgnYWN0aW9uJykuZGlydHkgfHwgcm93RGF0YS5nZXQoJ2FjdGlvbicpLnRvdWNoZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJyb3dEYXRhLmdldCgnYWN0aW9uJykuZXJyb3JzPy5yZXF1aXJlZFwiPkFjdGlvbiBpcyBSZXF1aXJlZDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiB0aXRsZT1cImRlbGV0ZVwiIChjbGljayk9XCJvbkRlbGV0ZVJ1bGUocm93SW5kZXgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXRyYXNoLW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgPC9wLXRhYmxlPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPiAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHAtZ3JpZFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgcC1jb2xcIiBzdHlsZT1cInBhZGRpbmc6IDI1cHggMHB4IDBweCAxMHB4XCI+XHJcbiAgICAgICAgICAgIDxwLWNoZWNrYm94IGlucHV0SWQ9XCJiaW5hcnlHbG9iYWxcIiBbYmluYXJ5XT1cInRydWVcIiBmb3JtQ29udHJvbE5hbWU9XCJnbG9iYWxcIlxyXG4gICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJzZXRHbG9iYWwoJGV2ZW50LmNoZWNrZWQpXCIgbGFiZWw9XCJHbG9iYWxcIj48L3AtY2hlY2tib3g+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIHAtY29sXCIgc3R5bGU9XCJwYWRkaW5nOiAyNXB4IDBweCAwcHggMTBweFwiPlxyXG4gICAgICAgICAgICA8cC1jaGVja2JveCBpbnB1dElkPVwiYmluYXJ5QWN0aXZlXCIgW2JpbmFyeV09XCJ0cnVlXCIgZm9ybUNvbnRyb2xOYW1lPVwiaXNlbmFibGVkXCIgbGFiZWw9XCJBY3RpdmVcIj48L3AtY2hlY2tib3g+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIHAtY29sXCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBwLWNvbFwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhaXNHbG9iYWxMb29rdXBcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZsdWlkIHAtZm9ybWdyaWQgcC1ncmlkXCIgZm9ybUdyb3VwTmFtZT1cImFjY2Vzc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBwLWNvbFwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwbmFtZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5WaWV3IEFjY2VzcyA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IFtvcHRpb25zXT1cInJvbGVzXCIgZm9ybUNvbnRyb2xOYW1lPVwidmlld1wiIGRlZmF1bHRMYWJlbD1cIlNlbGVjdCBSb2xlc1wiIG9wdGlvbkxhYmVsPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImlkXCIgZGlzcGxheT1cImNoaXBcIj5cclxuICAgICAgICAgICAgICA8L3AtbXVsdGlTZWxlY3Q+XHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImxvb2t1cEZvcm0uZ2V0KCdhY2Nlc3MudmlldycpPy5lcnJvcnNcIj5cclxuICAgICAgICAgICAgICAgIDxzbWFsbCAqbmdJZj1cImxvb2t1cEZvcm0uZ2V0KCdhY2Nlc3MudmlldycpPy5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCI+Um9sZSBpcyByZXF1aXJlZCA8L3NtYWxsPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgcC1jb2xcIj5cclxuICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicG5hbWVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+QXNzaWduIEFjY2VzcyA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IFtvcHRpb25zXT1cInJvbGVzXCIgZm9ybUNvbnRyb2xOYW1lPVwiYXNzaWduXCIgZGVmYXVsdExhYmVsPVwiU2VsZWN0IFJvbGVzXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgIG9wdGlvblZhbHVlPVwiaWRcIiBkaXNwbGF5PVwiY2hpcFwiPlxyXG4gICAgICAgICAgICAgIDwvcC1tdWx0aVNlbGVjdD5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwibG9va3VwRm9ybS5nZXQoJ2FjY2Vzcy5hc3NpZ24nKT8uZXJyb3JzXCI+XHJcbiAgICAgICAgICAgICAgICA8c21hbGwgKm5nSWY9XCJsb29rdXBGb3JtLmdldCgnYWNjZXNzLmFzc2lnbicpPy5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCI+Um9sZSBpcyByZXF1aXJlZCA8L3NtYWxsPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgcC1jb2xcIj48L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vblwiIChjbGljayk9XCJzYXZlTG9va3VwKClcIj5cclxuICAgICAgICAgICBTYXZlIDwhLS0ge3sgc2F2ZU1vZGUgPT09ICdVUERBVEUnID8gJ1VwZGF0ZSBMb29rdXAnIDogJ0FkZCBMb29rdXAnIH19IC0tPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiAoY2xpY2spPVwiY2xlYXJGb3JtKClcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvcC1jYXJkPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cIkRlbGV0ZXVzZXJcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cclxuICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkRlbGV0ZSB7e3RoaXMuc2VsZWN0ZWRJdGVtLnR5cGUgPT09ICdsb29rdXAnID8gJ0xvb2t1cCcgOiAnQ2F0ZWdvcnknfX08L2g1PlxyXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUge3t0aGlzLnNlbGVjdGVkSXRlbS50eXBlID09PSAnbG9va3VwJyA/ICdMb29rdXAnIDogJ0NhdGVnb3J5J319P1xyXG4gICAgICAgIDwhLS0gQXJlIHlvdSBzdXJlIHdhbnQgdG8gRGVsZXRlIFVzZXIgPyAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIGRlbGV0ZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgKGNsaWNrKT1cImRlbGV0ZUl0ZW0oKVwiPlxyXG4gICAgICAgICAgICBEZWxldGVcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+Il19