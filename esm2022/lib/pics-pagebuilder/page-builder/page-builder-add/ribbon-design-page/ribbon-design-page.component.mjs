import { Component } from '@angular/core';
import { LocalService } from '../../../@core/services/local.service';
import { PageBuilderAddService } from '../../../@core/services/page-builder-add.service';
import { PageBuilderService } from '../../page-builder-version/@core/page-builder.service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../../../@core/services/alert.service";
import * as i3 from "@angular/material/dialog";
import * as i4 from "@angular/common";
import * as i5 from "../../../@core/services/local.service";
import * as i6 from "../../../@core/services/page-access.service";
import * as i7 from "../../../@core/services/auth.service";
import * as i8 from "@angular/forms";
import * as i9 from "../../../@core/services/data-store.service";
import * as i10 from "primeng/inputtext";
import * as i11 from "primeng/dropdown";
import * as i12 from "primeng/card";
import * as i13 from "../../../@core/directives/permission.directive";
import * as i14 from "../../../@core/directives/show-field.directives";
export class RibbonDesignPageComponent {
    router;
    route;
    alert;
    dialog;
    location;
    localstore;
    pageAccessService;
    authService;
    fb;
    _storeservice;
    formData;
    form;
    isValidFormDetails;
    id = '';
    updatedfrom;
    options;
    changedFormData;
    assetList;
    allFields = [];
    logedInUser;
    isEditPage = false;
    isViewPage = false;
    selectedPage;
    pageBuilderAddService;
    localstorage;
    basicPageInformation;
    pageBuilderService;
    orgSubs;
    positionList;
    orgId;
    pageData = [];
    pagesList = [];
    selectedLinkPage;
    selectedPosition;
    configForm;
    RBACORG;
    constructor(injector, router, route, alert, dialog, location, localstore, pageAccessService, authService, fb, _storeservice) {
        this.router = router;
        this.route = route;
        this.alert = alert;
        this.dialog = dialog;
        this.location = location;
        this.localstore = localstore;
        this.pageAccessService = pageAccessService;
        this.authService = authService;
        this.fb = fb;
        this._storeservice = _storeservice;
        this.pageBuilderAddService = injector.get(PageBuilderAddService);
        this.pageBuilderService = injector.get(PageBuilderService);
        this.localstorage = injector.get(LocalService);
        this.pageBuilderAddService.currentPageType.subscribe(page => (this.selectedPage = page));
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            if (res) {
                this.RBACORG = res['RBACORG'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                if (this.orgId) {
                    this.setPagesList();
                }
            }
        });
        this.positionList = [
            { value: 'top1', label: 'Header 1' },
            { value: 'top2', label: 'Header 2' },
            { value: 'top3', label: 'Header 3' },
            { value: 'top4', label: 'Header 4' },
        ];
    }
    ngOnInit() {
        this.initialiseConfigForm();
        if (this.route.snapshot.routeConfig.path.indexOf('view') > -1) {
            this.isViewPage = true;
        }
        this.formData = this.localstore.getObj('dynamic-ribbon');
        if (this.formData) {
            this.form =
                typeof this.formData.tableschemaconfig === 'string'
                    ? JSON.parse(this.formData.tableschemaconfig)
                    : this.formData.tableschemaconfig;
        }
        this.id = this.route.parent.snapshot.paramMap.get('id');
        this.isEditPage = !!this.id;
        this.getCurrentFormData();
        this.getCurrentBasicData();
    }
    initialiseConfigForm() {
        this.configForm = this.fb.group({
            configData: this.fb.array([this.ribbonConfigGroup()])
        });
    }
    ribbonConfigGroup() {
        this.configForm = this.fb.group({
            label: [''],
            field: [''],
            link: [''],
            place: [''],
            datatype: ['']
        });
    }
    get itemsFormArray() {
        return this.configForm.get('configData');
    }
    getCurrentFormData() {
        this.pageBuilderAddService.currentFormData.subscribe((data) => {
            const setConfig = data;
            const formTest = typeof setConfig.tableschemaconfig === 'string'
                ? JSON.parse(setConfig.tableschemaconfig)
                : setConfig.tableschemaconfig;
            formTest['ribbonconfig'] = formTest.fieldmapping.map((f, i) => {
                return {
                    field: f.field,
                    label: f.label,
                    place: i < 4 ? 'Header' : '',
                    link: '',
                    datatype: f.datatype,
                    disabled: i >= 4 ? true : false
                };
            });
            console.log(formTest, 'formTest');
            this.form = formTest;
            const ribbonConfig = formTest.fieldmapping.map((f, i) => {
                return {
                    field: f.field,
                    label: f.label,
                    place: i < 4 ? 'Header' : '',
                    link: '',
                    datatype: f.datatype,
                    disabled: i >= 4 ? true : false
                };
            });
            this.formData = setConfig;
            if (!this.formData?.ribbonconfig) {
                setConfig['ribbonconfig'] = JSON.stringify(ribbonConfig);
                this.formData = setConfig;
            }
        });
        const configData = typeof this.formData?.ribbonconfig === 'string' ? JSON.parse(this.formData?.ribbonconfig) : this.formData?.ribbonconfig;
        this.configForm.reset();
        const items = this.configForm.get('configData');
        items.controls = [];
        configData && configData.forEach(element => {
            items.push(this.fb.group(element));
        });
    }
    getCurrentBasicData() {
        this.pageBuilderAddService.currentBasicData.subscribe((data) => {
            if (data) {
                if (this.formData) {
                    this.formData.pagename = data.pagename;
                    this.formData.pagetype = data.pagetype;
                    this.formData.description = data.description;
                    this.formData.display = data.display;
                    this.form.display = data.display;
                }
            }
        });
    }
    resetForm = () => {
        this.router.navigate([this.isEditPage ? '../../../list' : '../../list'], { relativeTo: this.route });
    };
    goToDetailPage() {
        this.router.navigate(['../grid-field'], { relativeTo: this.route });
    }
    formSubmit = publish => {
        const formDetails = this.setFormDetails();
        if (formDetails.id) {
            this.patchPage(formDetails, publish);
        }
        else {
            this.createPage(formDetails, publish);
        }
    };
    patchPage(formDetails, publish) {
        const createPage = this.localstorage.getObj('CREATE PAGE');
        formDetails.published = publish;
        if (createPage) {
            this.formData.id = formDetails.activeVersion.id;
        }
        this.pageBuilderService.updatePageVersion(formDetails.id, formDetails, createPage).subscribe(result => {
            if (result?.data && Object.keys(result?.data).length) {
                this.conditionCheckPatch(result, publish);
                if (publish) {
                    this.router.navigate([
                        `pages/page-design/versions/${formDetails?.pageid || formDetails.activeVersion.pageid}`
                    ]);
                    this.alert.success(`The Version ${formDetails.version || formDetails.activeVersion.version} is published successfully`);
                }
                else {
                    this.alert.success('Page saved successfully');
                }
            }
        }, error => {
            this.alert.error('Error Occured', error);
        });
    }
    conditionCheckPatch(result, publish) {
        const id = result?.data.id ? result?.data.id : '';
        if (!this.id && publish) {
            if (id) {
                this.router.navigate(['../edit', id], { relativeTo: this.route });
            }
        }
    }
    createPage(formDetails, publish) {
        formDetails.published = publish;
        this.pageBuilderAddService.createPage(formDetails).subscribe(result => {
            const data = result['data'];
            if (data && Object.keys(data).length) {
                const pageId = data?.id || '';
                if (!this.id) {
                    if (pageId) {
                        this.router.navigate(['../edit', pageId], { relativeTo: this.route });
                    }
                }
                if (publish) {
                    this.router.navigate([`pages/page-design/versions/${pageId || formDetails.activeVersion.pageid}`]);
                    this.alert.success(`The Version ${formDetails.version || data.activeVersion.version} is published successfully`);
                }
                else {
                    this.alert.success('Page saved successfully');
                }
            }
        }, error => {
            this.alert.error('Error Occured', error);
        });
    }
    setFormDetails() {
        const formDetails = this.formData;
        if (this.id) {
            formDetails.id = this.id;
        }
        return formDetails;
    }
    goBack() {
        this.localstore.removeItem('titletab');
        this.localstore.removeItem('editValue');
        this.localstore.removeItem('target-tab-filter');
        this.location.back();
    }
    setPagesList() {
        this.pageAccessService.getOrganizationPage(this.orgId).subscribe(res => {
            const data = res['data']['data'];
            if (data && data?.length) {
                this.pageData = data?.filter(a => (a.activeVersion?.templatejson && a.activeVersion?.tableschemaconfig) || a.activeVersion?.tabconfig);
                this.pagesList = this.pageData.map(x => {
                    x.activeVersion.pageid = x.activeVersion.pageid.toString();
                    return {
                        id: x.activeVersion.pageid,
                        pagename: x.activeVersion.pagename,
                        value: x.activeVersion.pagename
                    };
                });
            }
        });
    }
    selectPage(data, e) {
        console.log(data, e.value);
        const setLinkPage = JSON.parse(this.formData.ribbonconfig);
        setLinkPage.map((r) => {
            if (r.field === data.value.field) {
                r['link'] = e.value;
            }
        });
        this.formData['ribbonconfig'] = JSON.stringify(setLinkPage);
    }
    selectPosition(data, e) {
        console.log(data, e.value);
        if (e.target.value) {
            // this.positionList.forEach(p => { if (p.value === e.value) p['disabled'] = true; });
            const setLinkPage = JSON.parse(this.formData.ribbonconfig);
            setLinkPage.forEach(r => { if (r.field === data.value.field)
                r['place'] = e.target.value; });
            this.formData['ribbonconfig'] = JSON.stringify(setLinkPage);
        }
        else {
            this.positionList.forEach(p => p['disabled'] = false);
        }
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: RibbonDesignPageComponent, deps: [{ token: i0.Injector }, { token: i1.Router }, { token: i1.ActivatedRoute }, { token: i2.AlertService }, { token: i3.MatDialog }, { token: i4.Location }, { token: i5.LocalService }, { token: i6.PageAccessService }, { token: i7.AuthService }, { token: i8.UntypedFormBuilder }, { token: i9.DataStoreService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: RibbonDesignPageComponent, selector: "app-page-ribbon-design", ngImport: i0, template: "<div class=\"page-design-basic-info\">\r\n  <p-card styleClass=\"rbac-card w-100 mb-2\">\r\n    <div class=\"d-flex justify-content-between align-items-center col-12 my-3\">\r\n      <h6 class=\"font-weight-bold mb-0 fromTitle\">Ribbon Design Page</h6>\r\n      <button type=\"button\" class=\"btn btn-cancel\" (click)=\"goBack()\" *ngIf=\"isViewPage\">Back</button>\r\n    </div>\r\n    <div class=\"row mt-2\" [formGroup]=\"configForm\">\r\n      <div class=\"card left-menu-card col-lg-12 col-md-12 col-12\">\r\n        <!-- <ul class=\"nav flex-column border shadow\" id=\"myTab\" role=\"tablist\">\r\n          <ng-container *ngFor=\"let field of form?.fieldmapping\">\r\n            <li\r\n              class=\"nav-item-btn nav-item border-bottom p-3 youth-image text-center\"\r\n              *ngIf=\"field.field.indexOf('_pic') !== -1\">\r\n              <img src=\"../../../../../../assets/images/user-empty.png\" width=\"64\" alt=\"youth image\" />\r\n            </li>\r\n          </ng-container>\r\n          <ng-container *ngFor=\"let field of form?.fieldmapping\">\r\n            <li\r\n              class=\"nav-item-btn nav-item border-bottom p-3 youth-image text-center\"\r\n              *ngIf=\"field.field.indexOf('_pic') === -1\">\r\n              <p class=\"mb-0\">{{ field.label }}</p>\r\n            </li>\r\n          </ng-container>\r\n        </ul> -->\r\n        <p-card styleClass=\"rbac-card w-100 mb-3\">\r\n          <table aria-describedby=\"configTable\" class=\"table table-bordered configTable\">\r\n            <thead>\r\n              <tr>\r\n                <!-- <th scope=\"col\" class=\"py-2\">Field Name</th> -->\r\n                <th scope=\"col\" class=\"py-2\">Field Name</th>\r\n                <th scope=\"col\" class=\"py-2\">Link</th>\r\n                <th scope=\"col\" class=\"py-2\">Render Position</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody formArrayName=\"configData\" *ngFor=\"let field of itemsFormArray.controls; let i = index\">\r\n              <tr [formGroupName]=\"i\">\r\n                <!-- *ngIf=\"field.field.indexOf('_pic') === -1\"  -->\r\n                <ng-container>\r\n                  <td>\r\n                    <input\r\n                      id=\"businessname1\"\r\n                      class=\"w-100\"\r\n                      type=\"text\"\r\n                      placeholder=\"Enter Business Name\"\r\n                      formControlName=\"field\"\r\n                      value=\"{{ field.label }}\"\r\n                      readonly\r\n                      pInputText />\r\n                  </td>\r\n                  <td>\r\n                    <p-dropdown\r\n                      [filter]=\"true\"\r\n                      [options]=\"pagesList\"\r\n                      styleClass=\"w-100\"\r\n                      placeholder=\"Enter API/Link\"\r\n                      fieldKey=\"PAG_DES_GRID_CONFIG_ENTER_LINK\"\r\n                      formControlName=\"link\"\r\n                      optionValue=\"id\"\r\n                      optionLabel=\"pagename\"\r\n                      [showClear]=\"true\"\r\n                      (onChange)=\"selectPage(field, $event)\">\r\n                    </p-dropdown>\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      id=\"businessname1\"\r\n                      class=\"w-100\"\r\n                      type=\"text\"\r\n                      formControlName=\"place\"\r\n                      value=\"{{ field.place }}\"\r\n                      [showClear]=\"true\"\r\n                      [attr.disabled]=\"field.disabled\"\r\n                      pInputText\r\n                      (change)=\"selectPosition(field, $event)\"/>\r\n                  </td>\r\n                </ng-container>\r\n                \r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </p-card>\r\n      </div>\r\n      \r\n      <div class=\"col-12 text-right\">\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-cancel\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_CANCEL'\"\r\n          (click)=\"resetForm()\">\r\n          Cancel\r\n        </button>\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_PREVIOUS'\"\r\n          (click)=\"goToDetailPage()\">\r\n          Previous\r\n        </button>\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_PUBLISH'\"\r\n          (click)=\"formSubmit(true)\">\r\n          Publish\r\n        </button>\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_SAVE'\"\r\n          (click)=\"formSubmit(false)\">\r\n          Save\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </p-card>\r\n</div>\r\n<router-outlet></router-outlet>\r\n", styles: [":host ::ng-deep form-builder .formio .card,:host ::ng-deep form-builder .formio .p-card{background-color:var(--bg-light);border-color:var(--table-border)}:host ::ng-deep form-builder .formio .card .card-header,:host ::ng-deep form-builder .formio .p-card .card-header{background-color:var(--background-color);border-color:var(--table-border)}:host ::ng-deep form-builder .formio .card .card-header .builder-group-button,:host ::ng-deep form-builder .formio .p-card .card-header .builder-group-button{background-color:var(--background-color);color:var(--text-dark)}:host ::ng-deep .component-btn-group .component-settings-button{color:var(--text-dark)}.jsonviewer{background:var(--background-color)}.jsonviewer .language-json{color:var(--text-dark)}\n"], dependencies: [{ kind: "directive", type: i4.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.RouterOutlet, selector: "router-outlet", inputs: ["name"], outputs: ["activate", "deactivate", "attach", "detach"], exportAs: ["outlet"] }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i8.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i8.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i8.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { kind: "directive", type: i8.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { kind: "directive", type: i10.InputText, selector: "[pInputText]" }, { kind: "component", type: i11.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "component", type: i12.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { kind: "directive", type: i13.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { kind: "directive", type: i14.ShowFieldDirective, selector: "[showField]", inputs: ["showField"] }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: RibbonDesignPageComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-page-ribbon-design', template: "<div class=\"page-design-basic-info\">\r\n  <p-card styleClass=\"rbac-card w-100 mb-2\">\r\n    <div class=\"d-flex justify-content-between align-items-center col-12 my-3\">\r\n      <h6 class=\"font-weight-bold mb-0 fromTitle\">Ribbon Design Page</h6>\r\n      <button type=\"button\" class=\"btn btn-cancel\" (click)=\"goBack()\" *ngIf=\"isViewPage\">Back</button>\r\n    </div>\r\n    <div class=\"row mt-2\" [formGroup]=\"configForm\">\r\n      <div class=\"card left-menu-card col-lg-12 col-md-12 col-12\">\r\n        <!-- <ul class=\"nav flex-column border shadow\" id=\"myTab\" role=\"tablist\">\r\n          <ng-container *ngFor=\"let field of form?.fieldmapping\">\r\n            <li\r\n              class=\"nav-item-btn nav-item border-bottom p-3 youth-image text-center\"\r\n              *ngIf=\"field.field.indexOf('_pic') !== -1\">\r\n              <img src=\"../../../../../../assets/images/user-empty.png\" width=\"64\" alt=\"youth image\" />\r\n            </li>\r\n          </ng-container>\r\n          <ng-container *ngFor=\"let field of form?.fieldmapping\">\r\n            <li\r\n              class=\"nav-item-btn nav-item border-bottom p-3 youth-image text-center\"\r\n              *ngIf=\"field.field.indexOf('_pic') === -1\">\r\n              <p class=\"mb-0\">{{ field.label }}</p>\r\n            </li>\r\n          </ng-container>\r\n        </ul> -->\r\n        <p-card styleClass=\"rbac-card w-100 mb-3\">\r\n          <table aria-describedby=\"configTable\" class=\"table table-bordered configTable\">\r\n            <thead>\r\n              <tr>\r\n                <!-- <th scope=\"col\" class=\"py-2\">Field Name</th> -->\r\n                <th scope=\"col\" class=\"py-2\">Field Name</th>\r\n                <th scope=\"col\" class=\"py-2\">Link</th>\r\n                <th scope=\"col\" class=\"py-2\">Render Position</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody formArrayName=\"configData\" *ngFor=\"let field of itemsFormArray.controls; let i = index\">\r\n              <tr [formGroupName]=\"i\">\r\n                <!-- *ngIf=\"field.field.indexOf('_pic') === -1\"  -->\r\n                <ng-container>\r\n                  <td>\r\n                    <input\r\n                      id=\"businessname1\"\r\n                      class=\"w-100\"\r\n                      type=\"text\"\r\n                      placeholder=\"Enter Business Name\"\r\n                      formControlName=\"field\"\r\n                      value=\"{{ field.label }}\"\r\n                      readonly\r\n                      pInputText />\r\n                  </td>\r\n                  <td>\r\n                    <p-dropdown\r\n                      [filter]=\"true\"\r\n                      [options]=\"pagesList\"\r\n                      styleClass=\"w-100\"\r\n                      placeholder=\"Enter API/Link\"\r\n                      fieldKey=\"PAG_DES_GRID_CONFIG_ENTER_LINK\"\r\n                      formControlName=\"link\"\r\n                      optionValue=\"id\"\r\n                      optionLabel=\"pagename\"\r\n                      [showClear]=\"true\"\r\n                      (onChange)=\"selectPage(field, $event)\">\r\n                    </p-dropdown>\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      id=\"businessname1\"\r\n                      class=\"w-100\"\r\n                      type=\"text\"\r\n                      formControlName=\"place\"\r\n                      value=\"{{ field.place }}\"\r\n                      [showClear]=\"true\"\r\n                      [attr.disabled]=\"field.disabled\"\r\n                      pInputText\r\n                      (change)=\"selectPosition(field, $event)\"/>\r\n                  </td>\r\n                </ng-container>\r\n                \r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </p-card>\r\n      </div>\r\n      \r\n      <div class=\"col-12 text-right\">\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-cancel\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_CANCEL'\"\r\n          (click)=\"resetForm()\">\r\n          Cancel\r\n        </button>\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_PREVIOUS'\"\r\n          (click)=\"goToDetailPage()\">\r\n          Previous\r\n        </button>\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_PUBLISH'\"\r\n          (click)=\"formSubmit(true)\">\r\n          Publish\r\n        </button>\r\n        <button\r\n          class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\"\r\n          *showField=\"'PAG_DES_RIBBON_DES_PAG_SAVE'\"\r\n          (click)=\"formSubmit(false)\">\r\n          Save\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </p-card>\r\n</div>\r\n<router-outlet></router-outlet>\r\n", styles: [":host ::ng-deep form-builder .formio .card,:host ::ng-deep form-builder .formio .p-card{background-color:var(--bg-light);border-color:var(--table-border)}:host ::ng-deep form-builder .formio .card .card-header,:host ::ng-deep form-builder .formio .p-card .card-header{background-color:var(--background-color);border-color:var(--table-border)}:host ::ng-deep form-builder .formio .card .card-header .builder-group-button,:host ::ng-deep form-builder .formio .p-card .card-header .builder-group-button{background-color:var(--background-color);color:var(--text-dark)}:host ::ng-deep .component-btn-group .component-settings-button{color:var(--text-dark)}.jsonviewer{background:var(--background-color)}.jsonviewer .language-json{color:var(--text-dark)}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.Router }, { type: i1.ActivatedRoute }, { type: i2.AlertService }, { type: i3.MatDialog }, { type: i4.Location }, { type: i5.LocalService }, { type: i6.PageAccessService }, { type: i7.AuthService }, { type: i8.UntypedFormBuilder }, { type: i9.DataStoreService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmliYm9uLWRlc2lnbi1wYWdlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtbW9kdWxlL3BhZ2UtYnVpbGRlci9zcmMvbGliL3BpY3MtcGFnZWJ1aWxkZXIvcGFnZS1idWlsZGVyL3BhZ2UtYnVpbGRlci1hZGQvcmliYm9uLWRlc2lnbi1wYWdlL3JpYmJvbi1kZXNpZ24tcGFnZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLW1vZHVsZS9wYWdlLWJ1aWxkZXIvc3JjL2xpYi9waWNzLXBhZ2VidWlsZGVyL3BhZ2UtYnVpbGRlci9wYWdlLWJ1aWxkZXItYWRkL3JpYmJvbi1kZXNpZ24tcGFnZS9yaWJib24tZGVzaWduLXBhZ2UuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBb0IsTUFBTSxlQUFlLENBQUM7QUFPNUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRXJFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBQ3pGLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHVEQUF1RCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FBUTNGLE1BQU0sT0FBTyx5QkFBeUI7SUE2QjFCO0lBQ0E7SUFDQTtJQUNEO0lBQ0M7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBckNWLFFBQVEsQ0FBTTtJQUNQLElBQUksQ0FBTTtJQUNqQixrQkFBa0IsQ0FBVTtJQUM1QixFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1IsV0FBVyxDQUFNO0lBQ1YsT0FBTyxDQUFNO0lBQ3BCLGVBQWUsQ0FBTTtJQUNyQixTQUFTLENBQU07SUFDZixTQUFTLEdBQVUsRUFBRSxDQUFDO0lBQ3RCLFdBQVcsQ0FBTTtJQUNqQixVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQ25CLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFDbkIsWUFBWSxDQUFNO0lBQ2xCLHFCQUFxQixDQUF3QjtJQUM3QyxZQUFZLENBQWU7SUFDM0Isb0JBQW9CLENBQU07SUFDMUIsa0JBQWtCLENBQXFCO0lBQ3ZDLE9BQU8sQ0FBZTtJQUN0QixZQUFZLENBQU07SUFDbEIsS0FBSyxDQUFNO0lBQ1gsUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUNkLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDZixnQkFBZ0IsQ0FBTTtJQUN0QixnQkFBZ0IsQ0FBTTtJQUN0QixVQUFVLENBQW1CO0lBQzdCLE9BQU8sQ0FBTTtJQUNiLFlBQ0UsUUFBa0IsRUFDVixNQUFjLEVBQ2QsS0FBcUIsRUFDckIsS0FBbUIsRUFDcEIsTUFBaUIsRUFDaEIsUUFBa0IsRUFDbEIsVUFBd0IsRUFDeEIsaUJBQW9DLEVBQ3BDLFdBQXdCLEVBQ3hCLEVBQXNCLEVBQ3RCLGFBQStCO1FBVC9CLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUNyQixVQUFLLEdBQUwsS0FBSyxDQUFjO1FBQ3BCLFdBQU0sR0FBTixNQUFNLENBQVc7UUFDaEIsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUNsQixlQUFVLEdBQVYsVUFBVSxDQUFjO1FBQ3hCLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUFDcEMsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFDeEIsT0FBRSxHQUFGLEVBQUUsQ0FBb0I7UUFDdEIsa0JBQWEsR0FBYixhQUFhLENBQWtCO1FBRXZDLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUF3QixxQkFBcUIsQ0FBQyxDQUFDO1FBQ3hGLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFxQixrQkFBa0IsQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBZSxZQUFZLENBQUMsQ0FBQztRQUM3RCxJQUFJLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3pGLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBUSxFQUFFLEVBQUU7WUFDcEUsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDN0MsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO29CQUNkLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztpQkFDckI7YUFDRjtRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNsQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtZQUNwQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtZQUNwQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtZQUNwQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtTQUNyQyxDQUFBO0lBQ0gsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUM1QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQzdELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3pELElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsSUFBSTtnQkFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEtBQUssUUFBUTtvQkFDakQsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQztvQkFDN0MsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLENBQUM7U0FDdkM7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7UUFFNUIsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUNELG9CQUFvQjtRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzlCLFVBQVUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FDdEQsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVELGlCQUFpQjtRQUNmLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDOUIsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1gsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1gsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1YsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1gsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDO1NBQ2YsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVELElBQUksY0FBYztRQUNoQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBcUIsQ0FBQztJQUMvRCxDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUU7WUFDakUsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ3ZCLE1BQU0sUUFBUSxHQUNaLE9BQU8sU0FBUyxDQUFDLGlCQUFpQixLQUFLLFFBQVE7Z0JBQzdDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDekMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztZQUNsQyxRQUFRLENBQUMsY0FBYyxDQUFDLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVELE9BQU87b0JBQ0wsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLO29CQUNkLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSztvQkFDZCxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUM1QixJQUFJLEVBQUUsRUFBRTtvQkFDUixRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVE7b0JBQ3BCLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUs7aUJBQ2hDLENBQUE7WUFDSCxDQUFDLENBQUMsQ0FBQTtZQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDO1lBQ3JCLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN0RCxPQUFPO29CQUNMLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSztvQkFDZCxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUs7b0JBQ2QsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDNUIsSUFBSSxFQUFFLEVBQUU7b0JBQ1IsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRO29CQUNwQixRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLO2lCQUNoQyxDQUFBO1lBQ0gsQ0FBQyxDQUFDLENBQUE7WUFDRixJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztZQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUU7Z0JBQ2hDLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUN6RCxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQzthQUMzQjtRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxVQUFVLEdBQUcsT0FBTyxJQUFJLENBQUMsUUFBUSxFQUFFLFlBQVksS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUE7UUFDMUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN4QixNQUFNLEtBQUssR0FBcUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDbEUsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDcEIsVUFBVSxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDekMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELG1CQUFtQjtRQUNqQixJQUFJLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUU7WUFDbEUsSUFBSSxJQUFJLEVBQUU7Z0JBQ1IsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO29CQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO29CQUN2QyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO29CQUN2QyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO29CQUM3QyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO2lCQUNsQzthQUNGO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsU0FBUyxHQUFRLEdBQUcsRUFBRTtRQUNwQixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDdkcsQ0FBQyxDQUFDO0lBRUYsY0FBYztRQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsZUFBZSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELFVBQVUsR0FBUSxPQUFPLENBQUMsRUFBRTtRQUMxQixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDMUMsSUFBSSxXQUFXLENBQUMsRUFBRSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ3RDO2FBQU07WUFDTCxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN2QztJQUNILENBQUMsQ0FBQztJQUVGLFNBQVMsQ0FBQyxXQUFnQixFQUFFLE9BQU87UUFDakMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDM0QsV0FBVyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7UUFDaEMsSUFBSSxVQUFVLEVBQUU7WUFDZCxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBRyxXQUFXLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztTQUNqRDtRQUNELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRSxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQzFGLE1BQU0sQ0FBQyxFQUFFO1lBQ1AsSUFBSSxNQUFNLEVBQUUsSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRTtnQkFDcEQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDMUMsSUFBSSxPQUFPLEVBQUU7b0JBQ1gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7d0JBQ25CLDhCQUE4QixXQUFXLEVBQUUsTUFBTSxJQUFJLFdBQVcsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFO3FCQUN4RixDQUFDLENBQUM7b0JBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQ2hCLGVBQWUsV0FBVyxDQUFDLE9BQU8sSUFBSSxXQUFXLENBQUMsYUFBYSxDQUFDLE9BQU8sNEJBQTRCLENBQ3BHLENBQUM7aUJBQ0g7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQztpQkFDL0M7YUFDRjtRQUNILENBQUMsRUFDRCxLQUFLLENBQUMsRUFBRTtZQUNOLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFDRCxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsT0FBTztRQUNqQyxNQUFNLEVBQUUsR0FBRyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxPQUFPLEVBQUU7WUFDdkIsSUFBSSxFQUFFLEVBQUU7Z0JBQ04sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7YUFDbkU7U0FDRjtJQUNILENBQUM7SUFFRCxVQUFVLENBQUMsV0FBZ0IsRUFBRSxPQUFPO1FBQ2xDLFdBQVcsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUMxRCxNQUFNLENBQUMsRUFBRTtZQUNQLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM1QixJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRTtnQkFDcEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO29CQUNaLElBQUksTUFBTSxFQUFFO3dCQUNWLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO3FCQUN2RTtpQkFDRjtnQkFDRCxJQUFJLE9BQU8sRUFBRTtvQkFDWCxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLDhCQUE4QixNQUFNLElBQUksV0FBVyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ25HLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUNoQixlQUFlLFdBQVcsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLDRCQUE0QixDQUM3RixDQUFDO2lCQUNIO3FCQUFNO29CQUNMLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7aUJBQy9DO2FBQ0Y7UUFDSCxDQUFDLEVBQ0QsS0FBSyxDQUFDLEVBQUU7WUFDTixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQsY0FBYztRQUNaLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDbEMsSUFBSSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1gsV0FBVyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1NBQzFCO1FBQ0QsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELFlBQVk7UUFDVixJQUFJLENBQUMsaUJBQWlCLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNyRSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakMsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLE1BQU0sRUFBRTtnQkFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsTUFBTSxDQUMxQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxZQUFZLElBQUksQ0FBQyxDQUFDLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUN6RyxDQUFDO2dCQUNGLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3JDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO29CQUMzRCxPQUFPO3dCQUNMLEVBQUUsRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU07d0JBQzFCLFFBQVEsRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVE7d0JBQ2xDLEtBQUssRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVE7cUJBQ2hDLENBQUM7Z0JBQ0osQ0FBQyxDQUFDLENBQUM7YUFDSjtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0IsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzNELFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNwQixJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUU7Z0JBQ2hDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO2FBQ3JCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7SUFFOUQsQ0FBQztJQUVELGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtZQUNsQixzRkFBc0Y7WUFDdEYsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQzNELFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO2dCQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdGLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUM3RDthQUFNO1lBQ0wsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7U0FDdkQ7SUFDSCxDQUFDO3dHQXZTVSx5QkFBeUI7NEZBQXpCLHlCQUF5Qiw4RENuQnRDLDI1SkFpSEE7OzRGRDlGYSx5QkFBeUI7a0JBTHJDLFNBQVM7K0JBQ0Usd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEluamVjdG9yLCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVW50eXBlZEZvcm1BcnJheSwgVW50eXBlZEZvcm1CdWlsZGVyLCBVbnR5cGVkRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNYXREaWFsb2cgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL3NlcnZpY2VzL2FsZXJ0LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL3NlcnZpY2VzL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IExvY2FsU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL3NlcnZpY2VzL2xvY2FsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBQYWdlQWNjZXNzU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL3NlcnZpY2VzL3BhZ2UtYWNjZXNzLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBQYWdlQnVpbGRlckFkZFNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9AY29yZS9zZXJ2aWNlcy9wYWdlLWJ1aWxkZXItYWRkLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBQYWdlQnVpbGRlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9wYWdlLWJ1aWxkZXItdmVyc2lvbi9AY29yZS9wYWdlLWJ1aWxkZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9AY29yZS9zZXJ2aWNlcy9kYXRhLXN0b3JlLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtcGFnZS1yaWJib24tZGVzaWduJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vcmliYm9uLWRlc2lnbi1wYWdlLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9yaWJib24tZGVzaWduLXBhZ2UuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUmliYm9uRGVzaWduUGFnZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgZm9ybURhdGE6IGFueTtcclxuICBwdWJsaWMgZm9ybTogYW55O1xyXG4gIGlzVmFsaWRGb3JtRGV0YWlsczogYm9vbGVhbjtcclxuICBpZCA9ICcnO1xyXG4gIHVwZGF0ZWRmcm9tOiBhbnk7XHJcbiAgcHVibGljIG9wdGlvbnM6IGFueTtcclxuICBjaGFuZ2VkRm9ybURhdGE6IGFueTtcclxuICBhc3NldExpc3Q6IGFueTtcclxuICBhbGxGaWVsZHM6IGFueVtdID0gW107XHJcbiAgbG9nZWRJblVzZXI6IGFueTtcclxuICBpc0VkaXRQYWdlID0gZmFsc2U7XHJcbiAgaXNWaWV3UGFnZSA9IGZhbHNlO1xyXG4gIHNlbGVjdGVkUGFnZTogYW55O1xyXG4gIHBhZ2VCdWlsZGVyQWRkU2VydmljZTogUGFnZUJ1aWxkZXJBZGRTZXJ2aWNlO1xyXG4gIGxvY2Fsc3RvcmFnZTogTG9jYWxTZXJ2aWNlO1xyXG4gIGJhc2ljUGFnZUluZm9ybWF0aW9uOiBhbnk7XHJcbiAgcGFnZUJ1aWxkZXJTZXJ2aWNlOiBQYWdlQnVpbGRlclNlcnZpY2U7XHJcbiAgb3JnU3ViczogU3Vic2NyaXB0aW9uO1xyXG4gIHBvc2l0aW9uTGlzdDogYW55O1xyXG4gIG9yZ0lkOiBhbnk7XHJcbiAgcGFnZURhdGEgPSBbXTtcclxuICBwYWdlc0xpc3QgPSBbXTtcclxuICBzZWxlY3RlZExpbmtQYWdlOiBhbnk7XHJcbiAgc2VsZWN0ZWRQb3NpdGlvbjogYW55O1xyXG4gIGNvbmZpZ0Zvcm06IFVudHlwZWRGb3JtR3JvdXA7XHJcbiAgUkJBQ09SRzogYW55O1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcclxuICAgIHByaXZhdGUgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxyXG4gICAgcHJpdmF0ZSBhbGVydDogQWxlcnRTZXJ2aWNlLFxyXG4gICAgcHVibGljIGRpYWxvZzogTWF0RGlhbG9nLFxyXG4gICAgcHJpdmF0ZSBsb2NhdGlvbjogTG9jYXRpb24sXHJcbiAgICBwcml2YXRlIGxvY2Fsc3RvcmU6IExvY2FsU2VydmljZSxcclxuICAgIHByaXZhdGUgcGFnZUFjY2Vzc1NlcnZpY2U6IFBhZ2VBY2Nlc3NTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGZiOiBVbnR5cGVkRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIF9zdG9yZXNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2VcclxuICApIHtcclxuICAgIHRoaXMucGFnZUJ1aWxkZXJBZGRTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PFBhZ2VCdWlsZGVyQWRkU2VydmljZT4oUGFnZUJ1aWxkZXJBZGRTZXJ2aWNlKTtcclxuICAgIHRoaXMucGFnZUJ1aWxkZXJTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PFBhZ2VCdWlsZGVyU2VydmljZT4oUGFnZUJ1aWxkZXJTZXJ2aWNlKTtcclxuICAgIHRoaXMubG9jYWxzdG9yYWdlID0gaW5qZWN0b3IuZ2V0PExvY2FsU2VydmljZT4oTG9jYWxTZXJ2aWNlKTtcclxuICAgIHRoaXMucGFnZUJ1aWxkZXJBZGRTZXJ2aWNlLmN1cnJlbnRQYWdlVHlwZS5zdWJzY3JpYmUocGFnZSA9PiAodGhpcy5zZWxlY3RlZFBhZ2UgPSBwYWdlKSk7XHJcbiAgICB0aGlzLm9yZ1N1YnMgPSB0aGlzLl9zdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgIHRoaXMuUkJBQ09SRyA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIHRoaXMub3JnSWQgPSBwYXJzZUludCh0aGlzLlJCQUNPUkdbJ29yZ0lEJ10pO1xyXG4gICAgICAgIGlmICh0aGlzLm9yZ0lkKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFBhZ2VzTGlzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5wb3NpdGlvbkxpc3QgPSBbXHJcbiAgICAgIHsgdmFsdWU6ICd0b3AxJywgbGFiZWw6ICdIZWFkZXIgMScgfSxcclxuICAgICAgeyB2YWx1ZTogJ3RvcDInLCBsYWJlbDogJ0hlYWRlciAyJyB9LFxyXG4gICAgICB7IHZhbHVlOiAndG9wMycsIGxhYmVsOiAnSGVhZGVyIDMnIH0sXHJcbiAgICAgIHsgdmFsdWU6ICd0b3A0JywgbGFiZWw6ICdIZWFkZXIgNCcgfSxcclxuICAgIF1cclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbml0aWFsaXNlQ29uZmlnRm9ybSgpO1xyXG4gICAgaWYgKHRoaXMucm91dGUuc25hcHNob3Qucm91dGVDb25maWcucGF0aC5pbmRleE9mKCd2aWV3JykgPiAtMSkge1xyXG4gICAgICB0aGlzLmlzVmlld1BhZ2UgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5mb3JtRGF0YSA9IHRoaXMubG9jYWxzdG9yZS5nZXRPYmooJ2R5bmFtaWMtcmliYm9uJyk7XHJcbiAgICBpZiAodGhpcy5mb3JtRGF0YSkge1xyXG4gICAgICB0aGlzLmZvcm0gPVxyXG4gICAgICAgIHR5cGVvZiB0aGlzLmZvcm1EYXRhLnRhYmxlc2NoZW1hY29uZmlnID09PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgPyBKU09OLnBhcnNlKHRoaXMuZm9ybURhdGEudGFibGVzY2hlbWFjb25maWcpXHJcbiAgICAgICAgICA6IHRoaXMuZm9ybURhdGEudGFibGVzY2hlbWFjb25maWc7XHJcbiAgICB9XHJcbiAgICB0aGlzLmlkID0gdGhpcy5yb3V0ZS5wYXJlbnQuc25hcHNob3QucGFyYW1NYXAuZ2V0KCdpZCcpO1xyXG4gICAgdGhpcy5pc0VkaXRQYWdlID0gISF0aGlzLmlkO1xyXG5cclxuICAgIHRoaXMuZ2V0Q3VycmVudEZvcm1EYXRhKCk7XHJcbiAgICB0aGlzLmdldEN1cnJlbnRCYXNpY0RhdGEoKTtcclxuICB9XHJcbiAgaW5pdGlhbGlzZUNvbmZpZ0Zvcm0oKSB7XHJcbiAgICB0aGlzLmNvbmZpZ0Zvcm0gPSB0aGlzLmZiLmdyb3VwKHtcclxuICAgICAgY29uZmlnRGF0YTogdGhpcy5mYi5hcnJheShbdGhpcy5yaWJib25Db25maWdHcm91cCgpXSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByaWJib25Db25maWdHcm91cCgpIHtcclxuICAgIHRoaXMuY29uZmlnRm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xyXG4gICAgICBsYWJlbDogWycnXSxcclxuICAgICAgZmllbGQ6IFsnJ10sXHJcbiAgICAgIGxpbms6IFsnJ10sXHJcbiAgICAgIHBsYWNlOiBbJyddLFxyXG4gICAgICBkYXRhdHlwZTogWycnXVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldCBpdGVtc0Zvcm1BcnJheSgpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbmZpZ0Zvcm0uZ2V0KCdjb25maWdEYXRhJykgYXMgVW50eXBlZEZvcm1BcnJheTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRGb3JtRGF0YSgpIHtcclxuICAgIHRoaXMucGFnZUJ1aWxkZXJBZGRTZXJ2aWNlLmN1cnJlbnRGb3JtRGF0YS5zdWJzY3JpYmUoKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBzZXRDb25maWcgPSBkYXRhO1xyXG4gICAgICBjb25zdCBmb3JtVGVzdCA9XHJcbiAgICAgICAgdHlwZW9mIHNldENvbmZpZy50YWJsZXNjaGVtYWNvbmZpZyA9PT0gJ3N0cmluZydcclxuICAgICAgICAgID8gSlNPTi5wYXJzZShzZXRDb25maWcudGFibGVzY2hlbWFjb25maWcpXHJcbiAgICAgICAgICA6IHNldENvbmZpZy50YWJsZXNjaGVtYWNvbmZpZztcclxuICAgICAgZm9ybVRlc3RbJ3JpYmJvbmNvbmZpZyddID0gZm9ybVRlc3QuZmllbGRtYXBwaW5nLm1hcCgoZiwgaSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBmaWVsZDogZi5maWVsZCxcclxuICAgICAgICAgIGxhYmVsOiBmLmxhYmVsLFxyXG4gICAgICAgICAgcGxhY2U6IGkgPCA0ID8gJ0hlYWRlcicgOiAnJyxcclxuICAgICAgICAgIGxpbms6ICcnLFxyXG4gICAgICAgICAgZGF0YXR5cGU6IGYuZGF0YXR5cGUsXHJcbiAgICAgICAgICBkaXNhYmxlZDogaSA+PSA0ID8gdHJ1ZSA6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICBjb25zb2xlLmxvZyhmb3JtVGVzdCwgJ2Zvcm1UZXN0Jyk7XHJcbiAgICAgIHRoaXMuZm9ybSA9IGZvcm1UZXN0O1xyXG4gICAgICBjb25zdCByaWJib25Db25maWcgPSBmb3JtVGVzdC5maWVsZG1hcHBpbmcubWFwKChmLCBpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGZpZWxkOiBmLmZpZWxkLFxyXG4gICAgICAgICAgbGFiZWw6IGYubGFiZWwsXHJcbiAgICAgICAgICBwbGFjZTogaSA8IDQgPyAnSGVhZGVyJyA6ICcnLFxyXG4gICAgICAgICAgbGluazogJycsXHJcbiAgICAgICAgICBkYXRhdHlwZTogZi5kYXRhdHlwZSxcclxuICAgICAgICAgIGRpc2FibGVkOiBpID49IDQgPyB0cnVlIDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBzZXRDb25maWc7XHJcbiAgICAgIGlmICghdGhpcy5mb3JtRGF0YT8ucmliYm9uY29uZmlnKSB7XHJcbiAgICAgICAgc2V0Q29uZmlnWydyaWJib25jb25maWcnXSA9IEpTT04uc3RyaW5naWZ5KHJpYmJvbkNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5mb3JtRGF0YSA9IHNldENvbmZpZztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjb25maWdEYXRhID0gdHlwZW9mIHRoaXMuZm9ybURhdGE/LnJpYmJvbmNvbmZpZyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHRoaXMuZm9ybURhdGE/LnJpYmJvbmNvbmZpZykgOiB0aGlzLmZvcm1EYXRhPy5yaWJib25jb25maWdcclxuICAgIHRoaXMuY29uZmlnRm9ybS5yZXNldCgpO1xyXG4gICAgY29uc3QgaXRlbXMgPSA8VW50eXBlZEZvcm1BcnJheT50aGlzLmNvbmZpZ0Zvcm0uZ2V0KCdjb25maWdEYXRhJyk7XHJcbiAgICBpdGVtcy5jb250cm9scyA9IFtdO1xyXG4gICAgY29uZmlnRGF0YSAmJiBjb25maWdEYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIGl0ZW1zLnB1c2godGhpcy5mYi5ncm91cChlbGVtZW50KSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRCYXNpY0RhdGEoKSB7XHJcbiAgICB0aGlzLnBhZ2VCdWlsZGVyQWRkU2VydmljZS5jdXJyZW50QmFzaWNEYXRhLnN1YnNjcmliZSgoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9ybURhdGEpIHtcclxuICAgICAgICAgIHRoaXMuZm9ybURhdGEucGFnZW5hbWUgPSBkYXRhLnBhZ2VuYW1lO1xyXG4gICAgICAgICAgdGhpcy5mb3JtRGF0YS5wYWdldHlwZSA9IGRhdGEucGFnZXR5cGU7XHJcbiAgICAgICAgICB0aGlzLmZvcm1EYXRhLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgIHRoaXMuZm9ybURhdGEuZGlzcGxheSA9IGRhdGEuZGlzcGxheTtcclxuICAgICAgICAgIHRoaXMuZm9ybS5kaXNwbGF5ID0gZGF0YS5kaXNwbGF5O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXNldEZvcm06IGFueSA9ICgpID0+IHtcclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt0aGlzLmlzRWRpdFBhZ2UgPyAnLi4vLi4vLi4vbGlzdCcgOiAnLi4vLi4vbGlzdCddLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUgfSk7XHJcbiAgfTtcclxuXHJcbiAgZ29Ub0RldGFpbFBhZ2UoKTogdm9pZCB7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy4uL2dyaWQtZmllbGQnXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlIH0pO1xyXG4gIH1cclxuXHJcbiAgZm9ybVN1Ym1pdDogYW55ID0gcHVibGlzaCA9PiB7XHJcbiAgICBjb25zdCBmb3JtRGV0YWlscyA9IHRoaXMuc2V0Rm9ybURldGFpbHMoKTtcclxuICAgIGlmIChmb3JtRGV0YWlscy5pZCkge1xyXG4gICAgICB0aGlzLnBhdGNoUGFnZShmb3JtRGV0YWlscywgcHVibGlzaCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNyZWF0ZVBhZ2UoZm9ybURldGFpbHMsIHB1Ymxpc2gpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHBhdGNoUGFnZShmb3JtRGV0YWlsczogYW55LCBwdWJsaXNoKSB7XHJcbiAgICBjb25zdCBjcmVhdGVQYWdlID0gdGhpcy5sb2NhbHN0b3JhZ2UuZ2V0T2JqKCdDUkVBVEUgUEFHRScpO1xyXG4gICAgZm9ybURldGFpbHMucHVibGlzaGVkID0gcHVibGlzaDtcclxuICAgIGlmIChjcmVhdGVQYWdlKSB7XHJcbiAgICAgIHRoaXMuZm9ybURhdGEuaWQgPSBmb3JtRGV0YWlscy5hY3RpdmVWZXJzaW9uLmlkO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wYWdlQnVpbGRlclNlcnZpY2UudXBkYXRlUGFnZVZlcnNpb24oZm9ybURldGFpbHMuaWQsIGZvcm1EZXRhaWxzLCBjcmVhdGVQYWdlKS5zdWJzY3JpYmUoXHJcbiAgICAgIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdD8uZGF0YSAmJiBPYmplY3Qua2V5cyhyZXN1bHQ/LmRhdGEpLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5jb25kaXRpb25DaGVja1BhdGNoKHJlc3VsdCwgcHVibGlzaCk7XHJcbiAgICAgICAgICBpZiAocHVibGlzaCkge1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbXHJcbiAgICAgICAgICAgICAgYHBhZ2VzL3BhZ2UtZGVzaWduL3ZlcnNpb25zLyR7Zm9ybURldGFpbHM/LnBhZ2VpZCB8fCBmb3JtRGV0YWlscy5hY3RpdmVWZXJzaW9uLnBhZ2VpZH1gXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MoXHJcbiAgICAgICAgICAgICAgYFRoZSBWZXJzaW9uICR7Zm9ybURldGFpbHMudmVyc2lvbiB8fCBmb3JtRGV0YWlscy5hY3RpdmVWZXJzaW9uLnZlcnNpb259IGlzIHB1Ymxpc2hlZCBzdWNjZXNzZnVsbHlgXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MoJ1BhZ2Ugc2F2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBlcnJvciA9PiB7XHJcbiAgICAgICAgdGhpcy5hbGVydC5lcnJvcignRXJyb3IgT2NjdXJlZCcsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcbiAgY29uZGl0aW9uQ2hlY2tQYXRjaChyZXN1bHQsIHB1Ymxpc2gpIHtcclxuICAgIGNvbnN0IGlkID0gcmVzdWx0Py5kYXRhLmlkID8gcmVzdWx0Py5kYXRhLmlkIDogJyc7XHJcbiAgICBpZiAoIXRoaXMuaWQgJiYgcHVibGlzaCkge1xyXG4gICAgICBpZiAoaWQpIHtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy4uL2VkaXQnLCBpZF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlUGFnZShmb3JtRGV0YWlsczogYW55LCBwdWJsaXNoKSB7XHJcbiAgICBmb3JtRGV0YWlscy5wdWJsaXNoZWQgPSBwdWJsaXNoO1xyXG4gICAgdGhpcy5wYWdlQnVpbGRlckFkZFNlcnZpY2UuY3JlYXRlUGFnZShmb3JtRGV0YWlscykuc3Vic2NyaWJlKFxyXG4gICAgICByZXN1bHQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICBpZiAoZGF0YSAmJiBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGgpIHtcclxuICAgICAgICAgIGNvbnN0IHBhZ2VJZCA9IGRhdGE/LmlkIHx8ICcnO1xyXG4gICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XHJcbiAgICAgICAgICAgIGlmIChwYWdlSWQpIHtcclxuICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy4uL2VkaXQnLCBwYWdlSWRdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChwdWJsaXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtgcGFnZXMvcGFnZS1kZXNpZ24vdmVyc2lvbnMvJHtwYWdlSWQgfHwgZm9ybURldGFpbHMuYWN0aXZlVmVyc2lvbi5wYWdlaWR9YF0pO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MoXHJcbiAgICAgICAgICAgICAgYFRoZSBWZXJzaW9uICR7Zm9ybURldGFpbHMudmVyc2lvbiB8fCBkYXRhLmFjdGl2ZVZlcnNpb24udmVyc2lvbn0gaXMgcHVibGlzaGVkIHN1Y2Nlc3NmdWxseWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnQuc3VjY2VzcygnUGFnZSBzYXZlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLmFsZXJ0LmVycm9yKCdFcnJvciBPY2N1cmVkJywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2V0Rm9ybURldGFpbHMoKSB7XHJcbiAgICBjb25zdCBmb3JtRGV0YWlscyA9IHRoaXMuZm9ybURhdGE7XHJcbiAgICBpZiAodGhpcy5pZCkge1xyXG4gICAgICBmb3JtRGV0YWlscy5pZCA9IHRoaXMuaWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZm9ybURldGFpbHM7XHJcbiAgfVxyXG5cclxuICBnb0JhY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbSgndGl0bGV0YWInKTtcclxuICAgIHRoaXMubG9jYWxzdG9yZS5yZW1vdmVJdGVtKCdlZGl0VmFsdWUnKTtcclxuICAgIHRoaXMubG9jYWxzdG9yZS5yZW1vdmVJdGVtKCd0YXJnZXQtdGFiLWZpbHRlcicpO1xyXG4gICAgdGhpcy5sb2NhdGlvbi5iYWNrKCk7XHJcbiAgfVxyXG5cclxuICBzZXRQYWdlc0xpc3QoKSB7XHJcbiAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldE9yZ2FuaXphdGlvblBhZ2UodGhpcy5vcmdJZCkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNbJ2RhdGEnXVsnZGF0YSddO1xyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhPy5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLnBhZ2VEYXRhID0gZGF0YT8uZmlsdGVyKFxyXG4gICAgICAgICAgYSA9PiAoYS5hY3RpdmVWZXJzaW9uPy50ZW1wbGF0ZWpzb24gJiYgYS5hY3RpdmVWZXJzaW9uPy50YWJsZXNjaGVtYWNvbmZpZykgfHwgYS5hY3RpdmVWZXJzaW9uPy50YWJjb25maWdcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMucGFnZXNMaXN0ID0gdGhpcy5wYWdlRGF0YS5tYXAoeCA9PiB7XHJcbiAgICAgICAgICB4LmFjdGl2ZVZlcnNpb24ucGFnZWlkID0geC5hY3RpdmVWZXJzaW9uLnBhZ2VpZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IHguYWN0aXZlVmVyc2lvbi5wYWdlaWQsXHJcbiAgICAgICAgICAgIHBhZ2VuYW1lOiB4LmFjdGl2ZVZlcnNpb24ucGFnZW5hbWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB4LmFjdGl2ZVZlcnNpb24ucGFnZW5hbWVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0UGFnZShkYXRhLCBlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhkYXRhLCBlLnZhbHVlKTtcclxuICAgIGNvbnN0IHNldExpbmtQYWdlID0gSlNPTi5wYXJzZSh0aGlzLmZvcm1EYXRhLnJpYmJvbmNvbmZpZyk7XHJcbiAgICBzZXRMaW5rUGFnZS5tYXAoKHIpID0+IHtcclxuICAgICAgaWYgKHIuZmllbGQgPT09IGRhdGEudmFsdWUuZmllbGQpIHtcclxuICAgICAgICByWydsaW5rJ10gPSBlLnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZm9ybURhdGFbJ3JpYmJvbmNvbmZpZyddID0gSlNPTi5zdHJpbmdpZnkoc2V0TGlua1BhZ2UpO1xyXG5cclxuICB9XHJcblxyXG4gIHNlbGVjdFBvc2l0aW9uKGRhdGEsIGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEsIGUudmFsdWUpO1xyXG4gICAgaWYgKGUudGFyZ2V0LnZhbHVlKSB7XHJcbiAgICAgIC8vIHRoaXMucG9zaXRpb25MaXN0LmZvckVhY2gocCA9PiB7IGlmIChwLnZhbHVlID09PSBlLnZhbHVlKSBwWydkaXNhYmxlZCddID0gdHJ1ZTsgfSk7XHJcbiAgICAgIGNvbnN0IHNldExpbmtQYWdlID0gSlNPTi5wYXJzZSh0aGlzLmZvcm1EYXRhLnJpYmJvbmNvbmZpZyk7XHJcbiAgICAgIHNldExpbmtQYWdlLmZvckVhY2gociA9PiB7IGlmIChyLmZpZWxkID09PSBkYXRhLnZhbHVlLmZpZWxkKSByWydwbGFjZSddID0gZS50YXJnZXQudmFsdWU7IH0pO1xyXG4gICAgICB0aGlzLmZvcm1EYXRhWydyaWJib25jb25maWcnXSA9IEpTT04uc3RyaW5naWZ5KHNldExpbmtQYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucG9zaXRpb25MaXN0LmZvckVhY2gocCA9PiBwWydkaXNhYmxlZCddID0gZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG59XHJcbiIsIjxkaXYgY2xhc3M9XCJwYWdlLWRlc2lnbi1iYXNpYy1pbmZvXCI+XHJcbiAgPHAtY2FyZCBzdHlsZUNsYXNzPVwicmJhYy1jYXJkIHctMTAwIG1iLTJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIGNvbC0xMiBteS0zXCI+XHJcbiAgICAgIDxoNiBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGQgbWItMCBmcm9tVGl0bGVcIj5SaWJib24gRGVzaWduIFBhZ2U8L2g2PlxyXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tY2FuY2VsXCIgKGNsaWNrKT1cImdvQmFjaygpXCIgKm5nSWY9XCJpc1ZpZXdQYWdlXCI+QmFjazwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicm93IG10LTJcIiBbZm9ybUdyb3VwXT1cImNvbmZpZ0Zvcm1cIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQgbGVmdC1tZW51LWNhcmQgY29sLWxnLTEyIGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICA8IS0tIDx1bCBjbGFzcz1cIm5hdiBmbGV4LWNvbHVtbiBib3JkZXIgc2hhZG93XCIgaWQ9XCJteVRhYlwiIHJvbGU9XCJ0YWJsaXN0XCI+XHJcbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBmaWVsZCBvZiBmb3JtPy5maWVsZG1hcHBpbmdcIj5cclxuICAgICAgICAgICAgPGxpXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJuYXYtaXRlbS1idG4gbmF2LWl0ZW0gYm9yZGVyLWJvdHRvbSBwLTMgeW91dGgtaW1hZ2UgdGV4dC1jZW50ZXJcIlxyXG4gICAgICAgICAgICAgICpuZ0lmPVwiZmllbGQuZmllbGQuaW5kZXhPZignX3BpYycpICE9PSAtMVwiPlxyXG4gICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vLi4vLi4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy91c2VyLWVtcHR5LnBuZ1wiIHdpZHRoPVwiNjRcIiBhbHQ9XCJ5b3V0aCBpbWFnZVwiIC8+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGZpZWxkIG9mIGZvcm0/LmZpZWxkbWFwcGluZ1wiPlxyXG4gICAgICAgICAgICA8bGlcclxuICAgICAgICAgICAgICBjbGFzcz1cIm5hdi1pdGVtLWJ0biBuYXYtaXRlbSBib3JkZXItYm90dG9tIHAtMyB5b3V0aC1pbWFnZSB0ZXh0LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgKm5nSWY9XCJmaWVsZC5maWVsZC5pbmRleE9mKCdfcGljJykgPT09IC0xXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtYi0wXCI+e3sgZmllbGQubGFiZWwgfX08L3A+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICA8L3VsPiAtLT5cclxuICAgICAgICA8cC1jYXJkIHN0eWxlQ2xhc3M9XCJyYmFjLWNhcmQgdy0xMDAgbWItM1wiPlxyXG4gICAgICAgICAgPHRhYmxlIGFyaWEtZGVzY3JpYmVkYnk9XCJjb25maWdUYWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgY29uZmlnVGFibGVcIj5cclxuICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDwhLS0gPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJweS0yXCI+RmllbGQgTmFtZTwvdGg+IC0tPlxyXG4gICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJweS0yXCI+RmllbGQgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInB5LTJcIj5MaW5rPC90aD5cclxuICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwicHktMlwiPlJlbmRlciBQb3NpdGlvbjwvdGg+XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRib2R5IGZvcm1BcnJheU5hbWU9XCJjb25maWdEYXRhXCIgKm5nRm9yPVwibGV0IGZpZWxkIG9mIGl0ZW1zRm9ybUFycmF5LmNvbnRyb2xzOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgPHRyIFtmb3JtR3JvdXBOYW1lXT1cImlcIj5cclxuICAgICAgICAgICAgICAgIDwhLS0gKm5nSWY9XCJmaWVsZC5maWVsZC5pbmRleE9mKCdfcGljJykgPT09IC0xXCIgIC0tPlxyXG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJidXNpbmVzc25hbWUxXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy0xMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBCdXNpbmVzcyBOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImZpZWxkXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwie3sgZmllbGQubGFiZWwgfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVhZG9ubHlcclxuICAgICAgICAgICAgICAgICAgICAgIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgICBbZmlsdGVyXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW29wdGlvbnNdPVwicGFnZXNMaXN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlQ2xhc3M9XCJ3LTEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIEFQSS9MaW5rXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiUEFHX0RFU19HUklEX0NPTkZJR19FTlRFUl9MSU5LXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImxpbmtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJpZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25MYWJlbD1cInBhZ2VuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtzaG93Q2xlYXJdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAob25DaGFuZ2UpPVwic2VsZWN0UGFnZShmaWVsZCwgJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJidXNpbmVzc25hbWUxXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy0xMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGxhY2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJ7eyBmaWVsZC5wbGFjZSB9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBbc2hvd0NsZWFyXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZGlzYWJsZWRdPVwiZmllbGQuZGlzYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcElucHV0VGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJzZWxlY3RQb3NpdGlvbihmaWVsZCwgJGV2ZW50KVwiLz5cclxuICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgPC9wLWNhcmQ+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICBcclxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYnRuLWNhbmNlbFwiXHJcbiAgICAgICAgICAqc2hvd0ZpZWxkPVwiJ1BBR19ERVNfUklCQk9OX0RFU19QQUdfQ0FOQ0VMJ1wiXHJcbiAgICAgICAgICAoY2xpY2spPVwicmVzZXRGb3JtKClcIj5cclxuICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vblwiXHJcbiAgICAgICAgICAqc2hvd0ZpZWxkPVwiJ1BBR19ERVNfUklCQk9OX0RFU19QQUdfUFJFVklPVVMnXCJcclxuICAgICAgICAgIChjbGljayk9XCJnb1RvRGV0YWlsUGFnZSgpXCI+XHJcbiAgICAgICAgICBQcmV2aW91c1xyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vblwiXHJcbiAgICAgICAgICAqc2hvd0ZpZWxkPVwiJ1BBR19ERVNfUklCQk9OX0RFU19QQUdfUFVCTElTSCdcIlxyXG4gICAgICAgICAgKGNsaWNrKT1cImZvcm1TdWJtaXQodHJ1ZSlcIj5cclxuICAgICAgICAgIFB1Ymxpc2hcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb25cIlxyXG4gICAgICAgICAgKnNob3dGaWVsZD1cIidQQUdfREVTX1JJQkJPTl9ERVNfUEFHX1NBVkUnXCJcclxuICAgICAgICAgIChjbGljayk9XCJmb3JtU3VibWl0KGZhbHNlKVwiPlxyXG4gICAgICAgICAgU2F2ZVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvcC1jYXJkPlxyXG48L2Rpdj5cclxuPHJvdXRlci1vdXRsZXQ+PC9yb3V0ZXItb3V0bGV0PlxyXG4iXX0=